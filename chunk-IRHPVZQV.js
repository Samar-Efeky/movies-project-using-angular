var Sx=Object.defineProperty,Ax=Object.defineProperties;var Rx=Object.getOwnPropertyDescriptors;var yl=Object.getOwnPropertySymbols,Nx=Object.getPrototypeOf,yD=Object.prototype.hasOwnProperty,vD=Object.prototype.propertyIsEnumerable,Mx=Reflect.get;var mD=(t,e,n)=>e in t?Sx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})yD.call(e,n)&&mD(t,n,e[n]);if(yl)for(var n of yl(e))vD.call(e,n)&&mD(t,n,e[n]);return t},ye=(t,e)=>Ax(t,Rx(e));var Px=(t,e)=>{var n={};for(var r in t)yD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&yl)for(var r of yl(t))e.indexOf(r)<0&&vD.call(t,r)&&(n[r]=t[r]);return n};var Vr=(t,e,n)=>Mx(Nx(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function re(t){return typeof t=="function"}function zo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var vl=zo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Oi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof vl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{_D(o)}catch(s){e=e??[],s instanceof vl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_D(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Oi(n,e)}remove(e){let{_finalizers:n}=this;n&&Oi(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var _g=ke.EMPTY;function _l(t){return t instanceof ke||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function _D(t){re(t)?t():t.unsubscribe()}var an={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qo={setTimeout(t,e,...n){let{delegate:r}=qo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=qo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function El(t){qo.setTimeout(()=>{let{onUnhandledError:e}=an;if(e)e(t);else throw t})}function Qa(){}var ED=Eg("C",void 0,void 0);function ID(t){return Eg("E",void 0,t)}function wD(t){return Eg("N",t,void 0)}function Eg(t,e,n){return{kind:t,value:e,error:n}}var Fi=null;function Go(t){if(an.useDeprecatedSynchronousErrorHandling){let e=!Fi;if(e&&(Fi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Fi;if(Fi=null,n)throw r}}else t()}function TD(t){an.useDeprecatedSynchronousErrorHandling&&Fi&&(Fi.errorThrown=!0,Fi.error=t)}var Li=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_l(e)&&e.add(this)):this.destination=Ox}static create(e,n,r){return new Wo(e,n,r)}next(e){this.isStopped?wg(wD(e),this):this._next(e)}error(e){this.isStopped?wg(ID(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wg(ED,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kx=Function.prototype.bind;function Ig(t,e){return kx.call(t,e)}var Tg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Il(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Il(r)}else Il(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Il(n)}}},Wo=class extends Li{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&an.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ig(e.next,o),error:e.error&&Ig(e.error,o),complete:e.complete&&Ig(e.complete,o)}):i=e}this.destination=new Tg(i)}};function Il(t){an.useDeprecatedSynchronousErrorHandling?TD(t):El(t)}function xx(t){throw t}function wg(t,e){let{onStoppedNotification:n}=an;n&&qo.setTimeout(()=>n(t,e))}var Ox={closed:!0,next:Qa,error:xx,complete:Qa};var Ko=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ct(t){return t}function wl(...t){return Dg(t)}function Dg(t){return t.length===0?Ct:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Lx(n)?n:new Wo(n,r,i);return Go(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=DD(r),new r((i,o)=>{let s=new Wo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ko](){return this}pipe(...n){return Dg(n)(this)}toPromise(n){return n=DD(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function DD(t){var e;return(e=t??an.Promise)!==null&&e!==void 0?e:Promise}function Fx(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function Lx(t){return t&&t instanceof Li||Fx(t)&&_l(t)}var{isArray:Vx}=Array,{getPrototypeOf:jx,prototype:Ux,keys:Bx}=Object;function Tl(t){if(t.length===1){let e=t[0];if(Vx(e))return{args:e,keys:null};if($x(e)){let n=Bx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function $x(t){return t&&typeof t=="object"&&jx(t)===Ux}function bg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CD(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function c(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function bD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vi(t){return this instanceof Vi?(this.v=t,this):new Vi(t)}function SD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(w){return Promise.resolve(w).then(y,p)}}function a(y,w){r[y]&&(i[y]=function(N){return new Promise(function(S,M){o.push([y,N,S,M])>1||c(y,N)})},w&&(i[y]=w(i[y])))}function c(y,w){try{l(r[y](w))}catch(N){g(o[0][3],N)}}function l(y){y.value instanceof Vi?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){c("next",y)}function p(y){c("throw",y)}function g(y,w){y(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function AD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bD=="function"?bD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Dl=t=>t&&typeof t.length=="number"&&typeof t!="function";function bl(t){return re(t?.then)}function Cl(t){return re(t[Ko])}function Sl(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function Al(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Hx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rl=Hx();function Nl(t){return re(t?.[Rl])}function Ml(t){return SD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Vi(n.read());if(i)return yield Vi(void 0);yield yield Vi(r)}}finally{n.releaseLock()}})}function Pl(t){return re(t?.getReader)}function $e(t){if(t instanceof Z)return t;if(t!=null){if(Cl(t))return zx(t);if(Dl(t))return qx(t);if(bl(t))return Gx(t);if(Sl(t))return RD(t);if(Nl(t))return Wx(t);if(Pl(t))return Kx(t)}throw Al(t)}function zx(t){return new Z(e=>{let n=t[Ko]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qx(t){return new Z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Gx(t){return new Z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,El)})}function Wx(t){return new Z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function RD(t){return new Z(e=>{Qx(t,e).catch(n=>e.error(n))})}function Kx(t){return RD(Ml(t))}function Qx(t,e){var n,r,i,o;return CD(this,void 0,void 0,function*(){try{for(n=AD(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ND(t){return t&&re(t.schedule)}function MD(t){return t[t.length-1]}function kl(t){return re(MD(t))?t.pop():void 0}function jr(t){return ND(MD(t))?t.pop():void 0}function se(t,e,n,r,i){return new Cg(t,e,n,r,i)}var Cg=class extends Li{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Sg(t){return re(t?.lift)}function ue(t){return e=>{if(Sg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Yx}=Array;function Jx(t,e){return Yx(e)?t(...e):t(e)}function xl(t){return X(e=>Jx(t,e))}function Ol(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Zx(...t){let e=kl(t),{args:n,keys:r}=Tl(t),i=new Z(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let p=!1;$e(n[h]).subscribe(se(o,g=>{p||(p=!0,l--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(r?Ol(r,a):a),o.complete())}))}});return e?i.pipe(xl(e)):i}var kt=new Z(t=>t.complete());function bn(t){return t<=0?()=>kt:ue((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Qo(){return ue((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Yo=class extends Z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Qo()(this)}};var PD=zo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new PD}next(n){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_g:(this.currentObservers=null,o.push(n),new ke(()=>{this.currentObservers=null,Oi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Z;return n.source=this,n}}return t.create=(e,n)=>new Fl(e,n),t})(),Fl=class extends Ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:_g}};var ut=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ag={now(){return(Ag.delegate||Date).now()},delegate:void 0};var Ll=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var Ya={setInterval(t,e,...n){let{delegate:r}=Ya;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ya;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Jo=class extends Ll{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ya.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ya.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Oi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Zo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Zo.now=Ag.now;var Xo=class extends Zo{constructor(e,n=Zo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ja=new Xo(Jo);var Vl=class extends Jo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var jl=class extends Xo{};var Rg=new jl(Vl);function xt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ur(t,e=0){return ue((n,r)=>{n.subscribe(se(r,i=>xt(r,t,()=>r.next(i),e),()=>xt(r,t,()=>r.complete(),e),i=>xt(r,t,()=>r.error(i),e)))})}function Br(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kD(t,e){return $e(t).pipe(Br(e),Ur(e))}function xD(t,e){return $e(t).pipe(Br(e),Ur(e))}function OD(t,e){return new Z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function FD(t,e){return new Z(n=>{let r;return xt(n,e,()=>{r=t[Rl](),xt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function Ul(t,e){if(!t)throw new Error("Iterable cannot be null");return new Z(n=>{xt(n,e,()=>{let r=t[Symbol.asyncIterator]();xt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function LD(t,e){return Ul(Ml(t),e)}function VD(t,e){if(t!=null){if(Cl(t))return kD(t,e);if(Dl(t))return OD(t,e);if(bl(t))return xD(t,e);if(Sl(t))return Ul(t,e);if(Nl(t))return FD(t,e);if(Pl(t))return LD(t,e)}throw Al(t)}function Ie(t,e){return e?VD(t,e):$e(t)}function K(...t){let e=jr(t);return Ie(t,e)}function es(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new Z(e?i=>e.schedule(r,0,i):r)}function Ng(t){return!!t&&(t instanceof Z||re(t.lift)&&re(t.subscribe))}var ir=zo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Bl(...t){let e=jr(t),n=kl(t),{args:r,keys:i}=Tl(t);if(r.length===0)return Ie([],e);let o=new Z(Xx(r,e,i?s=>Ol(i,s):Ct));return n?o.pipe(xl(n)):o}function Xx(t,e,n=Ct){return r=>{jD(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)jD(e,()=>{let l=Ie(t[c],e),h=!1;l.subscribe(se(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function jD(t,e,n){t?xt(n,t,e):e()}function UD(t,e,n,r,i,o,s,a){let c=[],l=0,h=0,p=!1,g=()=>{p&&!c.length&&!l&&e.complete()},y=N=>l<r?w(N):c.push(N),w=N=>{o&&e.next(N),l++;let S=!1;$e(n(N,h++)).subscribe(se(e,M=>{i?.(M),o?y(M):e.next(M)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<r;){let M=c.shift();s?xt(e,s,()=>w(M)):w(M)}g()}catch(M){e.error(M)}}))};return t.subscribe(se(e,y,()=>{p=!0,g()})),()=>{a?.()}}function He(t,e,n=1/0){return re(e)?He((r,i)=>X((o,s)=>e(r,o,i,s))($e(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>UD(r,i,t,n)))}function ts(t=1/0){return He(Ct,t)}function BD(){return ts(1)}function ns(...t){return BD()(Ie(t,jr(t)))}function Za(t){return new Z(e=>{$e(t()).subscribe(e)})}function lt(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function or(t){return ue((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=$e(t(s,or(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function $D(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(se(s,h=>{let p=l++;c=a?t(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function sr(t,e){return re(e)?He(t,e,1):He(t,1)}function eO(t,e=Ja){return ue((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(se(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function $r(t){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Mg(t,e=Ct){return t=t??tO,ue((n,r)=>{let i,o=!0;n.subscribe(se(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function tO(t,e){return t===e}function $l(t=nO){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function nO(){return new ir}function ji(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ar(t,e){let n=arguments.length>=2;return r=>r.pipe(t?lt((i,o)=>t(i,o,r)):Ct,bn(1),n?$r(e):$l(()=>new ir))}function rs(t){return t<=0?()=>kt:ue((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Pg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?lt((i,o)=>t(i,o,r)):Ct,rs(1),n?$r(e):$l(()=>new ir))}function Hl(t,e){return ue($D(t,e,arguments.length>=2,!0))}function zl(...t){let e=jr(t);return ue((n,r)=>{(e?ns(t,n,e):ns(t,n)).subscribe(r)})}function dt(t,e){return ue((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(se(r,c=>{i?.unsubscribe();let l=0,h=o++;$e(t(c,h)).subscribe(i=se(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ql(t){return ue((e,n)=>{$e(t).subscribe(se(n,()=>n.complete(),Qa)),!n.closed&&e.subscribe(n)})}function et(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ct}var kg;function Gl(){return kg}function Cn(t){let e=kg;return kg=t,e}var HD=Symbol("NotFound");function is(t){return t===HD||t?.name==="\u0275NotFound"}function Jl(t,e){return Object.is(t,e)}var yt=null,Wl=!1,xg=1,rO=null,vt=Symbol("SIGNAL");function ee(t){let e=yt;return yt=t,e}function Zl(){return yt}var Ui={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function os(t){if(Wl)throw new Error("");if(yt===null)return;yt.consumerOnSignalRead(t);let e=yt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=yt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:yt.producers,n!==void 0&&n.producer===t)){yt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===yt&&(!r||oO(i,yt)))return;let o=as(yt),s={producer:t,consumer:yt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};yt.producersTail=s,e!==void 0?e.nextProducer=s:yt.producers=s,o&&qD(t,s)}function zD(){xg++}function Xl(t){if(!(as(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===xg)){if(!t.producerMustRecompute(t)&&!ec(t)){Yl(t);return}t.producerRecomputeValue(t),Yl(t)}}function Og(t){if(t.consumers===void 0)return;let e=Wl;Wl=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||iO(r)}}finally{Wl=e}}function Fg(){return yt?.consumerAllowSignalWrites!==!1}function iO(t){t.dirty=!0,Og(t),t.consumerMarkedDirty?.(t)}function Yl(t){t.dirty=!1,t.lastCleanEpoch=xg}function Bi(t){return t&&(t.producersTail=void 0,t.recomputing=!0),ee(t)}function ss(t,e){if(ee(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(as(t))do r=Lg(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function ec(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Xl(n),r!==n.version))return!0}return!1}function ed(t){if(as(t)){let e=t.producers;for(;e!==void 0;)e=Lg(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function qD(t,e){let n=t.consumersTail,r=as(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)qD(i.producer,i)}function Lg(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!as(e)){let o=e.producers;for(;o!==void 0;)o=Lg(o)}return n}function as(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function td(t){rO?.(t)}function oO(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function nd(t,e){let n=Object.create(sO);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Xl(n),os(n),n.value===Xa)throw n.error;return n.value};return r[vt]=n,td(n),r}var Kl=Symbol("UNSET"),Ql=Symbol("COMPUTING"),Xa=Symbol("ERRORED"),sO=ye(V({},Ui),{value:Kl,dirty:!0,error:null,equal:Jl,kind:"computed",producerMustRecompute(t){return t.value===Kl||t.value===Ql},producerRecomputeValue(t){if(t.value===Ql)throw new Error("");let e=t.value;t.value=Ql;let n=Bi(t),r,i=!1;try{r=t.computation(),ee(null),i=e!==Kl&&e!==Xa&&r!==Xa&&t.equal(e,r)}catch(o){r=Xa,t.error=o}finally{ss(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function aO(){throw new Error}var GD=aO;function WD(t){GD(t)}function Vg(t){GD=t}var cO=null;function jg(t,e){let n=Object.create(rd);n.value=t,e!==void 0&&(n.equal=e);let r=()=>KD(n);return r[vt]=n,td(n),[r,s=>cs(n,s),s=>Ug(n,s)]}function KD(t){return os(t),t.value}function cs(t,e){Fg()||WD(t),t.equal(t.value,e)||(t.value=e,uO(t))}function Ug(t,e){Fg()||WD(t),cs(t,e(t.value))}var rd=ye(V({},Ui),{equal:Jl,value:void 0,kind:"signal"});function uO(t){t.version++,zD(),Og(t),cO?.(t)}function QD(t){let e=ee(null);try{return t()}finally{ee(e)}}var cd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",O=class extends Error{code;constructor(e,n){super(Gi(e,n)),this.code=e}};function lO(t){return`NG0${Math.abs(t)}`}function Gi(t,e){return`${lO(t)}${e?": "+e:""}`}var Qt=globalThis;function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("")}function ZD(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ur(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(ur).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function ud(t,e){return t?e?`${t} ${e}`:t:e||""}var dO=ve({__forward_ref__:ve});function ld(t){return t.__forward_ref__=ld,t.toString=function(){return ur(this())},t}function ht(t){return Xg(t)?t():t}function Xg(t){return typeof t=="function"&&t.hasOwnProperty(dO)&&t.__forward_ref__===ld}function XD(t,e){t==null&&em(e,t,null,"!=")}function em(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gr(t){return{providers:t.providers||[],imports:t.imports||[]}}function oc(t){return hO(t,dd)}function tm(t){return oc(t)!==null}function hO(t,e){return t.hasOwnProperty(e)&&t[e]||null}function fO(t){let e=t?.[dd]??null;return e||null}function $g(t){return t&&t.hasOwnProperty(od)?t[od]:null}var dd=ve({\u0275prov:ve}),od=ve({\u0275inj:ve}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function nm(t){return t&&!!t.\u0275providers}var rm=ve({\u0275cmp:ve}),im=ve({\u0275dir:ve}),om=ve({\u0275pipe:ve}),sm=ve({\u0275mod:ve}),rc=ve({\u0275fac:ve}),Wi=ve({__NG_ELEMENT_ID__:ve}),YD=ve({__NG_ENV_ID__:ve});function Wr(t){return typeof t=="string"?t:t==null?"":String(t)}function sd(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Wr(t)}var am=ve({ngErrorCode:ve}),eb=ve({ngErrorMessage:ve}),nc=ve({ngTokenPath:ve});function cm(t,e){return tb("",-200,e)}function hd(t,e){throw new O(-201,!1)}function pO(t,e){t[nc]??=[];let n=t[nc],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(XD(e.provide,"Token with multi: true should have a provide property"),r=sd(e.provide)):r=sd(e),n[0]!==r&&t[nc].unshift(r)}function gO(t,e){let n=t[nc],r=t[am],i=t[eb]||t.message;return t.message=yO(i,r,n,e),t}function tb(t,e,n){let r=new O(e,t);return r[am]=e,r[eb]=t,n&&(r[nc]=n),r}function mO(t){return t[am]}function yO(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Gi(e,`${t}${o}${i}`)}var Hg;function nb(){return Hg}function St(t){let e=Hg;return Hg=t,e}function um(t,e,n){let r=oc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;hd(t,"Injector")}var vO={},$i=vO,zg="__NG_DI_FLAG__",qg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Hi(n)||0;try{return this.injector.get(e,r&8?null:$i,r)}catch(i){if(is(i))return i;throw i}}};function _O(t,e=0){let n=Gl();if(n===void 0)throw new O(-203,!1);if(n===null)return um(t,void 0,e);{let r=EO(e),i=n.retrieve(t,r);if(is(i)){if(r.optional)return null;throw i}return i}}function q(t,e=0){return(nb()||_O)(ht(t),e)}function P(t,e){return q(t,Hi(e))}function Hi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function EO(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Gg(t){let e=[];for(let n=0;n<t.length;n++){let r=ht(t[n]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=IO(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(q(i,o))}else e.push(q(r))}return e}function lm(t,e){return t[zg]=e,t.prototype[zg]=e,t}function IO(t){return t[zg]}function Hr(t,e){let n=t.hasOwnProperty(rc);return n?t[rc]:null}function rb(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function ib(t){return t.flat(Number.POSITIVE_INFINITY)}function fd(t,e){t.forEach(n=>Array.isArray(n)?fd(n,e):e(n))}function dm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ob(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function pd(t,e,n){let r=ls(t,e);return r>=0?t[r|1]=n:(r=~r,ob(t,r,e,n)),r}function gd(t,e){let n=ls(t,e);if(n>=0)return t[n|1]}function ls(t,e){return wO(t,e,1)}function wO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Kr={},At=[],lr=new U(""),hm=new U("",-1),fm=new U(""),ic=class{get(e,n=$i){if(n===$i){let i=tb("",-201);throw i.name="\u0275NotFound",i}return n}};function pm(t){return t[sm]||null}function Qr(t){return t[rm]||null}function gm(t){return t[im]||null}function sb(t){return t[om]||null}function Ot(t){return{\u0275providers:t}}function ab(...t){return{\u0275providers:mm(!0,t),\u0275fromNgModule:!0}}function mm(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return fd(e,s=>{let a=s;ad(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&cb(i,o),n}function cb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ym(i,o=>{e(o,r)})}}function ad(t,e,n,r){if(t=ht(t),!t)return!1;let i=null,o=$g(t),s=!o&&Qr(t);if(!o&&!s){let c=t.ngModule;if(o=$g(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ad(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{fd(o.imports,h=>{ad(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&cb(l,e)}if(!a){let l=Hr(i)||(()=>new i);e({provide:i,useFactory:l,deps:At},i),e({provide:fm,useValue:i,multi:!0},i),e({provide:lr,useValue:()=>q(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;ym(c,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ym(t,e){for(let n of t)nm(n)&&(n=n.\u0275providers),Array.isArray(n)?ym(n,e):e(n)}var TO=ve({provide:String,useValue:ve});function ub(t){return t!==null&&typeof t=="object"&&TO in t}function DO(t){return!!(t&&t.useExisting)}function bO(t){return!!(t&&t.useFactory)}function zi(t){return typeof t=="function"}function lb(t){return!!t.useClass}var ac=new U(""),id={},JD={},Bg;function cc(){return Bg===void 0&&(Bg=new ic),Bg}var xe=class{},qi=class extends xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Kg(e,s=>this.processProvider(s)),this.records.set(hm,us(void 0,this)),i.has("environment")&&this.records.set(xe,us(void 0,this));let o=this.records.get(ac);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(fm,At,{self:!0}))}retrieve(e,n){let r=Hi(n)||0;try{return this.get(e,$i,r)}catch(i){if(is(i))return i;throw i}}destroy(){tc(this),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return tc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){tc(this);let n=Cn(this),r=St(void 0),i;try{return e()}finally{Cn(n),St(r)}}get(e,n=$i,r){if(tc(this),e.hasOwnProperty(YD))return e[YD](this);let i=Hi(r),o,s=Cn(this),a=St(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=NO(e)&&oc(e);h&&this.injectableDefInScope(h)?l=us(Wg(e),id):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?cc():this.parent;return n=i&8&&n===$i?null:n,c.get(e,n)}catch(c){let l=mO(c);throw l===-200||l===-201?new O(l,null):c}finally{St(a),Cn(s)}}resolveInjectorInitializers(){let e=ee(null),n=Cn(this),r=St(void 0),i;try{let o=this.get(lr,At,{self:!0});for(let s of o)s()}finally{Cn(n),St(r),ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ur(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ht(e);let n=zi(e)?e:ht(e&&e.provide),r=SO(e);if(!zi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=us(void 0,id,!0),i.factory=()=>Gg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ee(null);try{if(n.value===JD)throw cm(ur(e));return n.value===id&&(n.value=JD,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&RO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ee(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ht(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Wg(t){let e=oc(t),n=e!==null?e.factory:Hr(t);if(n!==null)return n;if(t instanceof U)throw new O(204,!1);if(t instanceof Function)return CO(t);throw new O(204,!1)}function CO(t){if(t.length>0)throw new O(204,!1);let n=fO(t);return n!==null?()=>n.factory(t):()=>new t}function SO(t){if(ub(t))return us(void 0,t.useValue);{let e=vm(t);return us(e,id)}}function vm(t,e,n){let r;if(zi(t)){let i=ht(t);return Hr(i)||Wg(i)}else if(ub(t))r=()=>ht(t.useValue);else if(bO(t))r=()=>t.useFactory(...Gg(t.deps||[]));else if(DO(t))r=(i,o)=>q(ht(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ht(t&&(t.useClass||t.provide));if(AO(t))r=()=>new i(...Gg(t.deps));else return Hr(i)||Wg(i)}return r}function tc(t){if(t.destroyed)throw new O(205,!1)}function us(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function AO(t){return!!t.deps}function RO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function NO(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Kg(t,e){for(let n of t)Array.isArray(n)?Kg(n,e):n&&nm(n)?Kg(n.\u0275providers,e):e(n)}function Ue(t,e){let n;t instanceof qi?(tc(t),n=t):n=new qg(t);let r,i=Cn(n),o=St(void 0);try{return e()}finally{Cn(i),St(o)}}function db(){return nb()!==void 0||Gl()!=null}var cn=0,G=1,te=2,Je=3,Yt=4,Jt=5,ds=6,hs=7,Oe=8,Ki=9,An=10,be=11,fs=12,_m=13,Qi=14,Ft=15,Yr=16,Yi=17,Rn=18,uc=19,Em=20,cr=21,md=22,lc=23,$t=24,yd=25,Fe=26,hb=1,Im=6,Jr=7,dc=8,Ji=9,tt=10;function Nn(t){return Array.isArray(t)&&typeof t[hb]=="object"}function un(t){return Array.isArray(t)&&t[hb]===!0}function wm(t){return(t.flags&4)!==0}function Zr(t){return t.componentOffset>-1}function hc(t){return(t.flags&1)===1}function Mn(t){return!!t.template}function ps(t){return(t[te]&512)!==0}function Zi(t){return(t[te]&256)===256}var fb="svg",pb="math";function Zt(t){for(;Array.isArray(t);)t=t[cn];return t}function Tm(t,e){return Zt(e[t])}function ln(t,e){return Zt(e[t.index])}function fc(t,e){return t.data[e]}function vd(t,e){return t[e]}function Dm(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Xt(t,e){let n=e[t];return Nn(n)?n:n[cn]}function gb(t){return(t[te]&4)===4}function _d(t){return(t[te]&128)===128}function mb(t){return un(t[Je])}function en(t,e){return e==null?null:t[e]}function bm(t){t[Yi]=0}function Cm(t){t[te]&1024||(t[te]|=1024,_d(t)&&gc(t))}function yb(t,e){for(;t>0;)e=e[Qi],t--;return e}function pc(t){return!!(t[te]&9216||t[$t]?.dirty)}function Ed(t){t[An].changeDetectionScheduler?.notify(8),t[te]&64&&(t[te]|=1024),pc(t)&&gc(t)}function gc(t){t[An].changeDetectionScheduler?.notify(0);let e=zr(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!_d(e)));)e=zr(e)}function Sm(t,e){if(Zi(t))throw new O(911,!1);t[cr]===null&&(t[cr]=[]),t[cr].push(e)}function vb(t,e){if(t[cr]===null)return;let n=t[cr].indexOf(e);n!==-1&&t[cr].splice(n,1)}function zr(t){let e=t[Je];return un(e)?e[Je]:e}function Am(t){return t[hs]??=[]}function Rm(t){return t.cleanup??=[]}function _b(t,e,n,r){let i=Am(e);i.push(n),t.firstCreatePass&&Rm(t).push(r,i.length-1)}var ae={lFrame:Ob(null),bindingsEnabled:!0,skipHydrationRootTNode:null},mc=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(mc||{}),MO=0,Qg=!1;function Eb(){return ae.lFrame.elementDepthCount}function Ib(){ae.lFrame.elementDepthCount++}function Nm(){ae.lFrame.elementDepthCount--}function Mm(){return ae.bindingsEnabled}function wb(){return ae.skipHydrationRootTNode!==null}function Pm(t){return ae.skipHydrationRootTNode===t}function km(){ae.skipHydrationRootTNode=null}function Y(){return ae.lFrame.lView}function Re(){return ae.lFrame.tView}function Tb(t){return ae.lFrame.contextLView=t,t[Oe]}function Db(t){return ae.lFrame.contextLView=null,t}function nt(){let t=xm();for(;t!==null&&t.type===64;)t=t.parent;return t}function xm(){return ae.lFrame.currentTNode}function bb(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function gs(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function Om(){return ae.lFrame.isParent}function Cb(){ae.lFrame.isParent=!1}function Sb(){return ae.lFrame.contextLView}function Fm(t){em("Must never be called in production mode"),MO=t}function Lm(){return Qg}function Vm(t){let e=Qg;return Qg=t,e}function yc(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ab(){return ae.lFrame.bindingIndex}function Rb(t){return ae.lFrame.bindingIndex=t}function dr(){return ae.lFrame.bindingIndex++}function Id(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Nb(){return ae.lFrame.inI18n}function Mb(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,wd(e)}function Pb(){return ae.lFrame.currentDirectiveIndex}function wd(t){ae.lFrame.currentDirectiveIndex=t}function kb(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function jm(){return ae.lFrame.currentQueryIndex}function Td(t){ae.lFrame.currentQueryIndex=t}function PO(t){let e=t[G];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function Um(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=PO(o),i===null||(o=o[Qi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=xb();return r.currentTNode=e,r.lView=t,!0}function Dd(t){let e=xb(),n=t[G];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function xb(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?Ob(t):e}function Ob(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Fb(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Bm=Fb;function bd(){let t=Fb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Lb(t){return(ae.lFrame.contextLView=yb(t,ae.lFrame.contextLView))[Oe]}function Pn(){return ae.lFrame.selectedIndex}function Xr(t){ae.lFrame.selectedIndex=t}function vc(){let t=ae.lFrame;return fc(t.tView,t.selectedIndex)}function Vb(){return ae.lFrame.currentNamespace}var jb=!0;function Cd(){return jb}function Sd(t){jb=t}function Yg(t,e=null,n=null,r){let i=$m(t,e,n,r);return i.resolveInjectorInitializers(),i}function $m(t,e=null,n=null,r,i=new Set){let o=[n||At,ab(t)];return r=r||(typeof t=="object"?void 0:ur(t)),new qi(o,e||cc(),r||null,i)}var Ze=class t{static THROW_IF_NOT_FOUND=$i;static NULL=new ic;static create(e,n){if(Array.isArray(e))return Yg({name:""},n,e,"");{let r=e.name??"";return Yg({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:t,providedIn:"any",factory:()=>q(hm)});static __NG_ELEMENT_ID__=-1},ze=new U(""),ei=(()=>{class t{static __NG_ELEMENT_ID__=kO;static __NG_ENV_ID__=n=>n}return t})(),Jg=class extends ei{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Zi(this._lView)}onDestroy(e){let n=this._lView;return Sm(n,e),()=>vb(n,e)}};function kO(){return new Jg(Y())}var Sn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Rt=new U("",{providedIn:"root",factory:()=>{let t=P(xe),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Sn),e.handleError(n))}}}),Ub={provide:lr,useValue:()=>void P(Sn),multi:!0};function Hm(t){return typeof t=="function"&&t[vt]!==void 0}function _c(t,e){let[n,r,i]=jg(t,e?.equal),o=n,s=o[vt];return o.set=r,o.update=i,o.asReadonly=Bb.bind(o),o}function Bb(){let t=this[vt];if(t.readonlyFn===void 0){let e=()=>this();e[vt]=t,t.readonlyFn=e}return t.readonlyFn}function zm(t){return Hm(t)&&typeof t.set=="function"}var qr=class{},ms=new U("",{providedIn:"root",factory:()=>!1});var qm=new U(""),Gm=new U("");var kn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ut(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Z(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),ti=(()=>{class t{internalPendingTasks=P(kn);scheduler=P(qr);errorHandler=P(Rt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ec(...t){}var Wm=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new Zg})}return t})(),Zg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Ts(t){return{toString:t}.toString()}var Ad="__parameters__";function $O(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function IC(t,e,n){return Ts(()=>{let r=$O(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(Ad)?c[Ad]:Object.defineProperty(c,Ad,{value:[]})[Ad];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Nt=lm(IC("Optional"),8);var wC=lm(IC("SkipSelf"),4);function HO(t){return typeof t=="function"}var Vd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function TC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var so=(()=>{let t=()=>DC;return t.ngInherit=!0,t})();function DC(t){return t.type.prototype.ngOnChanges&&(t.setInput=qO),zO}function zO(){let t=CC(this),e=t?.current;if(e){let n=t.previous;if(n===Kr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function qO(t,e,n,r,i){let o=this.declaredInputs[r],s=CC(t)||GO(t,{previous:Kr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Vd(l&&l.currentValue,n,c===Kr),TC(t,e,i,n)}var bC="__ngSimpleChanges__";function CC(t){return t[bC]||null}function GO(t,e){return t[bC]=e}var $b=[];var De=function(t,e=null,n){for(let r=0;r<$b.length;r++){let i=$b[r];i(t,e,n)}};function WO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=DC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function SC(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function kd(t,e,n){AC(t,e,3,n)}function xd(t,e,n,r){(t[te]&3)===n&&AC(t,e,n,r)}function Km(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function AC(t,e,n,r){let i=r!==void 0?t[Yi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Yi]+=65536),(a<o||o==-1)&&(KO(t,n,e,c),t[Yi]=(t[Yi]&4294901760)+c+2),c++}function Hb(t,e){De(4,t,e);let n=ee(null);try{e.call(t)}finally{ee(n),De(5,t,e)}}function KO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[te]>>14<t[Yi]>>16&&(t[te]&3)===e&&(t[te]+=16384,Hb(a,o)):Hb(a,o)}var vs=-1,to=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function QO(t){return(t.flags&8)!==0}function YO(t){return(t.flags&16)!==0}function JO(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];ZO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function RC(t){return t===3||t===4||t===6}function ZO(t){return t.charCodeAt(0)===64}function _s(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?zb(t,n,i,null,e[++r]):zb(t,n,i,null,null))}}return t}function zb(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function NC(t){return t!==vs}function jd(t){return t&32767}function XO(t){return t>>16}function Ud(t,e){let n=XO(t),r=e;for(;n>0;)r=r[Qi],n--;return r}var oy=!0;function Bd(t){let e=oy;return oy=t,e}var e1=256,MC=e1-1,PC=5,t1=0,xn={};function n1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wi)&&(r=n[Wi]),r==null&&(r=n[Wi]=t1++);let i=r&MC,o=1<<i;e.data[t+(i>>PC)]|=o}function $d(t,e){let n=kC(t,e);if(n!==-1)return n;let r=e[G];r.firstCreatePass&&(t.injectorIndex=e.length,Qm(r.data,t),Qm(e,null),Qm(r.blueprint,null));let i=zy(t,e),o=t.injectorIndex;if(NC(i)){let s=jd(i),a=Ud(i,e),c=a[G].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Qm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function zy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=VC(i),r===null)return vs;if(n++,i=i[Qi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vs}function sy(t,e,n){n1(t,e,n)}function r1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(RC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function xC(t,e,n){if(n&8||t!==void 0)return t;hd(e,"NodeInjector")}function OC(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Ki],o=St(void 0);try{return i?i.get(e,r,n&8):um(e,r,n&8)}finally{St(o)}}return xC(r,e,n)}function FC(t,e,n,r=0,i){if(t!==null){if(e[te]&2048&&!(r&2)){let s=a1(t,e,n,r,xn);if(s!==xn)return s}let o=LC(t,e,n,r,xn);if(o!==xn)return o}return OC(e,n,r,i)}function LC(t,e,n,r,i){let o=o1(n);if(typeof o=="function"){if(!Um(e,t,r))return r&1?xC(i,n,r):OC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))hd(n);else return s}finally{Bm()}}else if(typeof o=="number"){let s=null,a=kC(t,e),c=vs,l=r&1?e[Ft][Jt]:null;for((a===-1||r&4)&&(c=a===-1?zy(t,e):e[a+8],c===vs||!Gb(r,!1)?a=-1:(s=e[G],a=jd(c),e=Ud(c,e)));a!==-1;){let h=e[G];if(qb(o,a,h.data)){let p=i1(a,e,n,s,r,l);if(p!==xn)return p}c=e[a+8],c!==vs&&Gb(r,e[G].data[a+8]===l)&&qb(o,a,e)?(s=h,a=jd(c),e=Ud(c,e)):a=-1}}return i}function i1(t,e,n,r,i,o){let s=e[G],a=s.data[t+8],c=r==null?Zr(a)&&oy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Od(a,s,n,c,l);return h!==null?Tc(e,s,h,a,i):xn}function Od(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let w=s[y];if(y<c&&n===w||y>=c&&w.type===n)return y}if(i){let y=s[c];if(y&&Mn(y)&&y.type===n)return c}return null}function Tc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof to){let a=o;if(a.resolving){let y=sd(s[n]);throw cm(y)}let c=Bd(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?St(a.injectImpl):null,g=Um(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&WO(n,s[n],e)}finally{p!==null&&St(p),Bd(c),a.resolving=!1,Bm()}}return o}function o1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Wi)?t[Wi]:void 0;return typeof e=="number"?e>=0?e&MC:s1:e}function qb(t,e,n){let r=1<<t;return!!(n[e+(t>>PC)]&r)}function Gb(t,e){return!(t&2)&&!(t&1&&e)}var eo=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FC(this._tNode,this._lView,e,Hi(r),n)}};function s1(){return new eo(nt(),Y())}function ih(t){return Ts(()=>{let e=t.prototype.constructor,n=e[rc]||ay(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[rc]||ay(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ay(t){return Xg(t)?()=>{let e=ay(ht(t));return e&&e()}:Hr(t)}function a1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!ps(s);){let a=LC(o,s,n,r|2,xn);if(a!==xn)return a;let c=o.parent;if(!c){let l=s[Em];if(l){let h=l.get(n,xn,r);if(h!==xn)return h}c=VC(s),s=s[Qi]}o=c}return i}function VC(t){let e=t[G],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function Rc(t){return r1(nt(),t)}function c1(){return Ds(nt(),Y())}function Ds(t,e){return new pn(ln(t,e))}var pn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=c1}return t})();function u1(t){return t instanceof pn?t.nativeElement:t}function l1(){return this._results[Symbol.iterator]()}var Hd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=ib(e);(this._changesDetected=!rb(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=l1};function jC(t){return(t.flags&128)===128}var qy=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qy||{}),UC=new Map,d1=0;function h1(){return d1++}function f1(t){UC.set(t[uc],t)}function cy(t){UC.delete(t[uc])}var Wb="__ngContext__";function Es(t,e){Nn(e)?(t[Wb]=e[uc],f1(e)):t[Wb]=e}function BC(t){return HC(t[fs])}function $C(t){return HC(t[Yt])}function HC(t){for(;t!==null&&!un(t);)t=t[Yt];return t}var uy;function Gy(t){uy=t}function zC(){if(uy!==void 0)return uy;if(typeof document<"u")return document;throw new O(210,!1)}var oh=new U("",{providedIn:"root",factory:()=>p1}),p1="ng",sh=new U(""),ri=new U("",{providedIn:"platform",factory:()=>"unknown"});var g1=new U(""),ah=new U("",{providedIn:"root",factory:()=>zC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var m1="h",y1="b";var qC="r";var GC="di";var WC=!1,KC=new U("",{providedIn:"root",factory:()=>WC});var v1=(t,e,n,r)=>{};function _1(t,e,n,r){v1(t,e,n,r)}function Wy(t){return(t.flags&32)===32}var E1=()=>null;function QC(t,e,n=!1){return E1(t,e,n)}function YC(t,e){let n=t.contentQueries;if(n!==null){let r=ee(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Td(o),a.contentQueries(2,e[s],s)}}}finally{ee(r)}}}function ly(t,e,n){Td(0);let r=ee(null);try{e(t,n)}finally{ee(r)}}function JC(t,e,n){if(wm(e)){let r=ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{ee(r)}}}var hr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hr||{}),Rd;function I1(){if(Rd===void 0&&(Rd=null,Qt.trustedTypes))try{Rd=Qt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rd}function ch(t){return I1()?.createHTML(t)||t}var Nd;function w1(){if(Nd===void 0&&(Nd=null,Qt.trustedTypes))try{Nd=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Nd}function Kb(t){return w1()?.createScriptURL(t)||t}var fr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cd})`}},dy=class extends fr{getTypeName(){return"HTML"}},hy=class extends fr{getTypeName(){return"Style"}},fy=class extends fr{getTypeName(){return"Script"}},py=class extends fr{getTypeName(){return"URL"}},gy=class extends fr{getTypeName(){return"ResourceURL"}};function gn(t){return t instanceof fr?t.changingThisBreaksApplicationSecurity:t}function pr(t,e){let n=ZC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${cd})`)}return n===e}function ZC(t){return t instanceof fr&&t.getTypeName()||null}function Ky(t){return new dy(t)}function Qy(t){return new hy(t)}function Yy(t){return new fy(t)}function Jy(t){return new py(t)}function Zy(t){return new gy(t)}function T1(t){let e=new yy(t);return D1()?new my(e):e}var my=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(ch(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},yy=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=ch(e),n}};function D1(){try{return!!new window.DOMParser().parseFromString(ch(""),"text/html")}catch{return!1}}var b1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nc(t){return t=String(t),t.match(b1)?t:"unsafe:"+t}function gr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Mc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var XC=gr("area,br,col,hr,img,wbr"),eS=gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tS=gr("rp,rt"),C1=Mc(tS,eS),S1=Mc(eS,gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),A1=Mc(tS,gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qb=Mc(XC,S1,A1,C1),nS=gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),R1=gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),N1=gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),M1=Mc(nS,R1,N1),P1=gr("script,style,template"),vy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=O1(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=x1(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Yb(e).toLowerCase();if(!Qb.hasOwnProperty(n))return this.sanitizedSomething=!0,!P1.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!M1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;nS[a]&&(c=Nc(c)),this.buf.push(" ",s,'="',Jb(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=Yb(e).toLowerCase();Qb.hasOwnProperty(n)&&!XC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Jb(e))}};function k1(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function x1(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw rS(e);return e}function O1(t){let e=t.firstChild;if(e&&k1(t,e))throw rS(e);return e}function Yb(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function rS(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var F1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,L1=/([^\#-~ |!])/g;function Jb(t){return t.replace(/&/g,"&amp;").replace(F1,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(L1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Md;function Xy(t,e){let n=null;try{Md=Md||T1(t);let r=e?String(e):"";n=Md.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Md.getInertBodyElement(r)}while(r!==o);let a=new vy().sanitizeChildren(Zb(n)||n);return ch(a)}finally{if(n){let r=Zb(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function Zb(t){return"content"in t&&V1(t)?t.content:null}function V1(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var mn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(mn||{});function iS(t){let e=sS();return e?e.sanitize(mn.URL,t)||"":pr(t,"URL")?gn(t):Nc(Wr(t))}function oS(t){let e=sS();if(e)return Kb(e.sanitize(mn.RESOURCE_URL,t)||"");if(pr(t,"ResourceURL"))return Kb(gn(t));throw new O(904,!1)}function j1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?oS:iS}function ev(t,e,n){return j1(e,n)(t)}function sS(){let t=Y();return t&&t[An].sanitizer}function U1(t){return t.ownerDocument.defaultView}function B1(t){return t.ownerDocument}function aS(t){return t instanceof Function?t():t}function $1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var cS="ng-template";function H1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(tv(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function tv(t){return t.type===4&&t.value!==cS}function z1(t,e,n){let r=t.type===4&&!n?cS:t.value;return e===r}function q1(t,e,n){let r=4,i=t.attrs,o=i!==null?K1(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!dn(r)&&!dn(c))return!1;if(s&&dn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!z1(t,c,n)||c===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!H1(t,i,c,n)){if(dn(r))return!1;s=!0}}else{let l=e[++a],h=G1(c,i,tv(t),n);if(h===-1){if(dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(t){return(t&1)===0}function G1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Q1(e,t)}function W1(t,e,n=!1){for(let r=0;r<e.length;r++)if(q1(t,e[r],n))return!0;return!1}function K1(t){for(let e=0;e<t.length;e++){let n=t[e];if(RC(n))return e}return t.length}function Q1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Xb(t,e){return t?":not("+e.trim()+")":e}function Y1(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=Xb(o,i),i=""),r=s,o=o||!dn(r);n++}return i!==""&&(e+=Xb(o,i)),e}function J1(t){return t.map(Y1).join(",")}function Z1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!dn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Et={};function X1(t,e){return t.createText(e)}function eF(t,e,n){t.setValue(e,n)}function uS(t,e,n){return t.createElement(e,n)}function zd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function lS(t,e,n){t.appendChild(e,n)}function eC(t,e,n,r,i){r!==null?zd(t,e,n,r,i):lS(t,e,n)}function dS(t,e,n){t.removeChild(null,e,n)}function tF(t,e,n){t.setAttribute(e,"style",n)}function nF(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function hS(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&JO(t,e,r),i!==null&&nF(t,e,i),o!==null&&tF(t,e,o)}function nv(t,e,n,r,i,o,s,a,c,l,h){let p=Fe+r,g=p+i,y=rF(p,g),w=typeof l=="function"?l():l;return y[G]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:h}}function rF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Et);return n}function iF(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=nv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function rv(t,e,n,r,i,o,s,a,c,l,h){let p=e.blueprint.slice();return p[cn]=i,p[te]=r|4|128|8|64|1024,(l!==null||t&&t[te]&2048)&&(p[te]|=2048),bm(p),p[Je]=p[Qi]=t,p[Oe]=n,p[An]=s||t&&t[An],p[be]=a||t&&t[be],p[Ki]=c||t&&t[Ki]||null,p[Jt]=o,p[uc]=h1(),p[ds]=h,p[Em]=l,p[Ft]=e.type==2?t[Ft]:p,p}function oF(t,e,n){let r=ln(e,t),i=iF(n),o=t[An].rendererFactory,s=iv(t,rv(t,i,null,fS(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function fS(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function pS(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function iv(t,e){return t[fs]?t[_m][Yt]=e:t[fs]=e,t[_m]=e,e}function sF(t=1){gS(Re(),Y(),Pn()+t,!1)}function gS(t,e,n,r){if(!r)if((e[te]&3)===3){let o=t.preOrderCheckHooks;o!==null&&kd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&xd(e,o,0,n)}Xr(n)}var uh=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(uh||{});function _y(t,e,n,r){let i=ee(null);try{let[o,s,a]=t.inputs[n],c=null;(s&uh.SignalBased)!==0&&(c=e[o][vt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):TC(e,c,o,r)}finally{ee(i)}}var fn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fn||{}),aF;function ov(t,e){return aF(t,e)}function ys(t,e,n,r,i){if(r!=null){let o,s=!1;un(r)?o=r:Nn(r)&&(s=!0,r=r[cn]);let a=Zt(r);t===0&&n!==null?i==null?lS(e,n,a):zd(e,n,a,i||null,!0):t===1&&n!==null?zd(e,n,a,i||null,!0):t===2?dS(e,a,s):t===3&&e.destroyNode(a),o!=null&&_F(e,t,o,n,i)}}function cF(t,e){mS(t,e),e[cn]=null,e[Jt]=null}function uF(t,e,n,r,i,o){r[cn]=i,r[Jt]=e,dh(t,r,n,1,i,o)}function mS(t,e){e[An].changeDetectionScheduler?.notify(9),dh(t,e,e[be],2,null,null)}function lF(t){let e=t[fs];if(!e)return Ym(t[G],t);for(;e;){let n=null;if(Nn(e))n=e[fs];else{let r=e[tt];r&&(n=r)}if(!n){for(;e&&!e[Yt]&&e!==t;)Nn(e)&&Ym(e[G],e),e=e[Je];e===null&&(e=t),Nn(e)&&Ym(e[G],e),n=e&&e[Yt]}e=n}}function sv(t,e){let n=t[Ji],r=n.indexOf(e);n.splice(r,1)}function lh(t,e){if(Zi(e))return;let n=e[be];n.destroyNode&&dh(t,e,n,3,null,null),lF(e)}function Ym(t,e){if(Zi(e))return;let n=ee(null);try{e[te]&=-129,e[te]|=256,e[$t]&&ed(e[$t]),hF(t,e),dF(t,e),e[G].type===1&&e[be].destroy();let r=e[Yr];if(r!==null&&un(e[Je])){r!==e[Je]&&sv(r,e);let i=e[Rn];i!==null&&i.detachView(t)}cy(e)}finally{ee(n)}}function dF(t,e){let n=t.cleanup,r=e[hs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[hs]=null);let i=e[cr];if(i!==null){e[cr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[lc];if(o!==null){e[lc]=null;for(let s of o)s.destroy()}}function hF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof to)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];De(4,a,c);try{c.call(a)}finally{De(5,a,c)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function fF(t,e,n){return pF(t,e.parent,n)}function pF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[cn];if(Zr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===hr.None||i===hr.Emulated)return null}return ln(r,n)}function gF(t,e,n){return yF(t,e,n)}function mF(t,e,n){return t.type&40?ln(t,n):null}var yF=mF,tC;function av(t,e,n,r){let i=fF(t,r,e),o=e[be],s=r.parent||e[Jt],a=gF(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)eC(o,i,n[c],a,!1);else eC(o,i,n,a,!1);tC!==void 0&&tC(o,r,e,n,i)}function Ic(t,e){if(e!==null){let n=e.type;if(n&3)return ln(e,t);if(n&4)return Ey(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ic(t,r);{let i=t[e.index];return un(i)?Ey(-1,i):Zt(i)}}else{if(n&128)return Ic(t,e.next);if(n&32)return ov(e,t)()||Zt(t[e.index]);{let r=yS(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zr(t[Ft]);return Ic(i,r)}else return Ic(t,e.next)}}}return null}function yS(t,e){if(e!==null){let r=t[Ft][Jt],i=e.projection;return r.projection[i]}return null}function Ey(t,e){let n=tt+t+1;if(n<e.length){let r=e[n],i=r[G].firstChild;if(i!==null)return Ic(r,i)}return e[Jr]}function cv(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Es(Zt(a),r),n.flags|=2),!Wy(n))if(c&8)cv(t,e,n.child,r,i,o,!1),ys(e,t,i,a,o);else if(c&32){let l=ov(n,r),h;for(;h=l();)ys(e,t,i,h,o);ys(e,t,i,a,o)}else c&16?vF(t,e,r,n,i,o):ys(e,t,i,a,o);n=s?n.projectionNext:n.next}}function dh(t,e,n,r,i,o){cv(n,r,t.firstChild,e,i,o,!1)}function vF(t,e,n,r,i,o){let s=n[Ft],c=s[Jt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];ys(e,t,i,h,o)}else{let l=c,h=s[Je];jC(r)&&(l.flags|=128),cv(t,e,l,h,i,o,!0)}}function _F(t,e,n,r,i){let o=n[Jr],s=Zt(n);o!==s&&ys(e,t,r,o,i);for(let a=tt;a<n.length;a++){let c=n[a];dh(c[G],c,t,e,r,o)}}function EF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:fn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=fn.Important),t.setStyle(n,r,i,o))}}function vS(t,e,n,r,i){let o=Pn(),s=r&2;try{Xr(-1),s&&e.length>Fe&&gS(t,e,Fe,!1),De(s?2:0,i,n),n(r,i)}finally{Xr(o),De(s?3:1,i,n)}}function uv(t,e,n){CF(t,e,n),(n.flags&64)===64&&SF(t,e,n)}function hh(t,e,n=ln){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function IF(t,e,n,r){let o=r.get(KC,WC)||n===hr.ShadowDom,s=t.selectRootElement(e,o);return wF(s),s}function wF(t){TF(t)}var TF=()=>null;function DF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function _S(t,e,n,r,i,o){let s=e[G];if(lv(t,s,e,n,r)){Zr(t)&&bF(e,t.index);return}t.type&3&&(n=DF(n)),ES(t,e,n,r,i,o)}function ES(t,e,n,r,i,o){if(t.type&3){let s=ln(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function bF(t,e){let n=Xt(e,t);n[te]&16||(n[te]|=64)}function CF(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Zr(n)&&oF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||$d(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Tc(e,t,s,n);if(Es(c,e),o!==null&&MF(e,s-r,c,a,n,o),Mn(a)){let l=Xt(n.index,e);l[Oe]=Tc(e,t,s,n)}}}function SF(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Pb();try{Xr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];wd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&AF(c,l)}}finally{Xr(-1),wd(s)}}function AF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function IS(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];W1(e,o.selectors,!1)&&(r??=[],Mn(o)?r.unshift(o):r.push(o))}return r}function RF(t,e,n,r,i,o){let s=ln(t,e);NF(e[be],s,o,t.value,n,r,i)}function NF(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Wr(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function MF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];_y(r,n,c,l)}}function wS(t,e,n,r,i){let o=Fe+n,s=e[G],a=i(s,e,t,r,n);e[o]=a,gs(t,!0);let c=t.type===2;return c?(hS(e[be],a,t),(Eb()===0||hc(t))&&Es(a,e),Ib()):Es(a,e),Cd()&&(!c||!Wy(t))&&av(s,e,a,t),t}function TS(t){let e=t;return Om()?Cb():(e=e.parent,gs(e,!1)),e}function PF(t,e){let n=t[Ki];if(!n)return;n.get(Rt,null)?.(e)}function lv(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],h=s[c+1],p=e.data[l];_y(p,n[l],h,i),a=!0}if(o)for(let c of o){let l=n[c],h=e.data[c];_y(h,l,r,i),a=!0}return a}function kF(t,e){let n=Xt(e,t),r=n[G];xF(r,n);let i=n[cn];i!==null&&n[ds]===null&&(n[ds]=QC(i,n[Ki])),De(18),dv(r,n,n[Oe]),De(19,n[Oe])}function xF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function dv(t,e,n){Dd(e);try{let r=t.viewQuery;r!==null&&ly(1,r,n);let i=t.template;i!==null&&vS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rn]?.finishViewCreation(t),t.staticContentQueries&&YC(t,e),t.staticViewQueries&&ly(2,t.viewQuery,n);let o=t.components;o!==null&&OF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,bd()}}function OF(t,e){for(let n=0;n<e.length;n++)kF(t,e[n])}function fh(t,e,n,r){let i=ee(null);try{let o=e.tView,a=t[te]&4096?4096:16,c=rv(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Yr]=l;let h=t[Rn];return h!==null&&(c[Rn]=h.createEmbeddedView(o)),dv(o,c,n),c}finally{ee(i)}}function Dc(t,e){return!e||e.firstChild===null||jC(t)}var nC=!1,FF=new U("");function bc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Zt(o)),un(o)&&DS(o,r);let s=n.type;if(s&8)bc(t,e,n.child,r);else if(s&32){let a=ov(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=yS(e,n);if(Array.isArray(a))r.push(...a);else{let c=zr(e[Ft]);bc(c[G],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function DS(t,e){for(let n=tt;n<t.length;n++){let r=t[n],i=r[G].firstChild;i!==null&&bc(r[G],r,i,e)}t[Jr]!==t[cn]&&e.push(t[Jr])}function bS(t){if(t[yd]!==null){for(let e of t[yd])e.impl.addSequence(e);t[yd].length=0}}var CS=[];function LF(t){return t[$t]??VF(t)}function VF(t){let e=CS.pop()??Object.create(UF);return e.lView=t,e}function jF(t){t.lView[$t]!==t&&(t.lView=null,CS.push(t))}var UF=ye(V({},Ui),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{gc(t.lView)},consumerOnSignalRead(){this.lView[$t]=this}});function BF(t){let e=t[$t]??Object.create($F);return e.lView=t,e}var $F=ye(V({},Ui),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=zr(t.lView);for(;e&&!SS(e[G]);)e=zr(e);e&&Cm(e)},consumerOnSignalRead(){this.lView[$t]=this}});function SS(t){return t.type!==2}function AS(t){if(t[lc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[lc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[te]&8192)}}var HF=100;function hv(t,e=0){let r=t[An].rendererFactory,i=!1;i||r.begin?.();try{zF(t,e)}finally{i||r.end?.()}}function zF(t,e){let n=Lm();try{Vm(!0),Iy(t,e);let r=0;for(;pc(t);){if(r===HF)throw new O(103,!1);r++,Iy(t,1)}}finally{Vm(n)}}function RS(t,e){Fm(e?mc.Exhaustive:mc.OnlyDirtyViews);try{hv(t)}finally{Fm(mc.Off)}}function qF(t,e,n,r){if(Zi(e))return;let i=e[te],o=!1,s=!1;Dd(e);let a=!0,c=null,l=null;o||(SS(t)?(l=LF(e),c=Bi(l)):Zl()===null?(a=!1,l=BF(e),c=Bi(l)):e[$t]&&(ed(e[$t]),e[$t]=null));try{bm(e),Rb(t.bindingStartIndex),n!==null&&vS(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&kd(e,y,null)}else{let y=t.preOrderHooks;y!==null&&xd(e,y,0,null),Km(e,0)}if(s||GF(e),AS(e),NS(e,0),t.contentQueries!==null&&YC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&kd(e,y)}else{let y=t.contentHooks;y!==null&&xd(e,y,1),Km(e,1)}KF(t,e);let p=t.components;p!==null&&PS(e,p,0);let g=t.viewQuery;if(g!==null&&ly(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&kd(e,y)}else{let y=t.viewHooks;y!==null&&xd(e,y,2),Km(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[md]){for(let y of e[md])y();e[md]=null}o||(bS(e),e[te]&=-73)}catch(h){throw o||gc(e),h}finally{l!==null&&(ss(l,c),a&&jF(l)),bd()}}function NS(t,e){for(let n=BC(t);n!==null;n=$C(n))for(let r=tt;r<n.length;r++){let i=n[r];MS(i,e)}}function GF(t){for(let e=BC(t);e!==null;e=$C(e)){if(!(e[te]&2))continue;let n=e[Ji];for(let r=0;r<n.length;r++){let i=n[r];Cm(i)}}}function WF(t,e,n){De(18);let r=Xt(e,t);MS(r,n),De(19,r[Oe])}function MS(t,e){_d(t)&&Iy(t,e)}function Iy(t,e){let r=t[G],i=t[te],o=t[$t],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ec(o)),s||=!1,o&&(o.dirty=!1),t[te]&=-9217,s)qF(r,t,r.template,t[Oe]);else if(i&8192){let a=ee(null);try{AS(t),NS(t,1);let c=r.components;c!==null&&PS(t,c,1),bS(t)}finally{ee(a)}}}function PS(t,e,n){for(let r=0;r<e.length;r++)WF(t,e[r],n)}function KF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Xr(~i);else{let o=i,s=n[++r],a=n[++r];Mb(s,o);let c=e[o];De(24,c),a(2,c),De(25,c)}}}finally{Xr(-1)}}function fv(t,e){let n=Lm()?64:1088;for(t[An].changeDetectionScheduler?.notify(e);t;){t[te]|=n;let r=zr(t);if(ps(t)&&!r)return t;t=r}return null}function kS(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function xS(t,e){let n=tt+e;if(n<t.length)return t[n]}function ph(t,e,n,r=!0){let i=e[G];if(QF(i,e,t,n),r){let s=Ey(n,t),a=e[be],c=a.parentNode(t[Jr]);c!==null&&uF(i,t[Jt],a,e,c,s)}let o=e[ds];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function OS(t,e){let n=Cc(t,e);return n!==void 0&&lh(n[G],n),n}function Cc(t,e){if(t.length<=tt)return;let n=tt+e,r=t[n];if(r){let i=r[Yr];i!==null&&i!==t&&sv(i,r),e>0&&(t[n-1][Yt]=r[Yt]);let o=sc(t,tt+e);cF(r[G],r);let s=o[Rn];s!==null&&s.detachView(o[G]),r[Je]=null,r[Yt]=null,r[te]&=-129}return r}function QF(t,e,n,r){let i=tt+r,o=n.length;r>0&&(n[i-1][Yt]=e),r<o-tt?(e[Yt]=n[i],dm(n,tt+r,e)):(n.push(e),e[Yt]=null),e[Je]=n;let s=e[Yr];s!==null&&n!==s&&FS(s,e);let a=e[Rn];a!==null&&a.insertView(t),Ed(e),e[te]|=128}function FS(t,e){let n=t[Ji],r=e[Je];if(Nn(r))t[te]|=2;else{let i=r[Je][Ft];e[Ft]!==i&&(t[te]|=2)}n===null?t[Ji]=[e]:n.push(e)}var ni=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[G];return bc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Oe]}set context(e){this._lView[Oe]=e}get destroyed(){return Zi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Je];if(un(e)){let n=e[dc],r=n?n.indexOf(this):-1;r>-1&&(Cc(e,r),sc(n,r))}this._attachedToViewContainer=!1}lh(this._lView[G],this._lView)}onDestroy(e){Sm(this._lView,e)}markForCheck(){fv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){Ed(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,hv(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Ki].get(FF,nC)}catch{this.exhaustive=nC}}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ps(this._lView),n=this._lView[Yr];n!==null&&!e&&sv(n,this._lView),mS(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e;let n=ps(this._lView),r=this._lView[Yr];r!==null&&!n&&FS(r,this._lView),Ed(this._lView)}};var no=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=YF;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=fh(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new ni(o)}}return t})();function YF(){return pv(nt(),Y())}function pv(t,e){return t.type&4?new no(e,t,Ds(t,e)):null}function Pc(t,e,n,r,i){let o=t.data[e];if(o===null)o=JF(t,e,n,r,i),Nb()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=bb();o.injectorIndex=s===null?-1:s.injectorIndex}return gs(o,!0),o}function JF(t,e,n,r,i){let o=xm(),s=Om(),a=s?o:o&&o.parent,c=t.data[e]=XF(t,a,n,e,r,i);return ZF(t,c,o,s),c}function ZF(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function XF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return wb()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var xQ=new RegExp(`^(\\d+)*(${y1}|${m1})*(.*)`);function eL(t){let e=t[Im]??[],r=t[Je][be],i=[];for(let o of e)o.data[GC]!==void 0?i.push(o):tL(o,r);t[Im]=i}function tL(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[qC];for(;n<i;){let o=r.nextSibling;dS(e,r,!1),r=o,n++}}}var nL=()=>null,rL=()=>null;function wy(t,e){return nL(t,e)}function LS(t,e,n){return rL(t,e,n)}var VS=class{},gh=class{},Ty=class{resolveComponentFactory(e){throw new O(917,!1)}},kc=class{static NULL=new Ty},ro=class{},ao=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>iL()}return t})();function iL(){let t=Y(),e=nt(),n=Xt(e.index,t);return(Nn(n)?n:t)[be]}var jS=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>null})}return t})();var Fd={},Dy=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Fd,r);return i!==Fd||n===Fd?i:this.parentInjector.get(e,n,r)}};function qd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ud(i,a);else if(o==2){let c=a,l=e[++s];r=ud(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ee(t,e=0){let n=Y();if(n===null)return q(t,e);let r=nt();return FC(r,n,ht(t),e)}function US(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,c,l]=h.resolveHostDirectives(s);break}aL(t,e,n,a,o,c,l)}o!==null&&r!==null&&oL(n,r,o)}function oL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new O(-301,!1);r.push(e[i],o)}}function sL(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function aL(t,e,n,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let y=r[g];!c&&Mn(y)&&(c=!0,sL(t,n,g)),sy($d(n,e),t,y.type)}fL(n,t.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=pS(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(n.mergedAttrs=_s(n.mergedAttrs,y.hostAttrs),uL(t,n,e,p,y),hL(p,y,i),s!==null&&s.has(y)){let[N,S]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,S+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let w=y.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}cL(t,n,o)}function cL(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))rC(0,e,i,r),rC(1,e,i,r),oC(e,r,!1);else{let o=n.get(i);iC(0,e,o,r),iC(1,e,o,r),oC(e,r,!0)}}}function rC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),BS(e,o)}}function iC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),BS(e,s)}}function BS(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function oC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||tv(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let h of l)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function uL(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Hr(i.type,!0)),s=new to(o,Mn(i),Ee,null);t.blueprint[r]=s,n[r]=s,lL(t,e,r,pS(t,n,i.hostVars,Et),i)}function lL(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;dL(s)!=a&&s.push(a),s.push(n,r,o)}}function dL(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mn(e)&&(n[""]=t)}}function fL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $S(t,e,n,r,i,o,s,a){let c=e[G],l=c.consts,h=en(l,s),p=Pc(c,t,n,r,h);return o&&US(c,e,p,en(l,a),i),p.mergedAttrs=_s(p.mergedAttrs,p.attrs),p.attrs!==null&&qd(p,p.attrs,!1),p.mergedAttrs!==null&&qd(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function HS(t,e){SC(t,e),wm(e)&&t.queries.elementEnd(e)}function pL(t,e,n,r,i,o){let s=e.consts,a=en(s,i),c=Pc(e,t,n,r,a);if(c.mergedAttrs=_s(c.mergedAttrs,c.attrs),o!=null){let l=en(s,o);c.localNames=[];for(let h=0;h<l.length;h+=2)c.localNames.push(l[h],-1)}return c.attrs!==null&&qd(c,c.attrs,!1),c.mergedAttrs!==null&&qd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function gv(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function mv(t,e,n){return t[e]=n}function gL(t,e){return t[e]}function Ht(t,e,n){if(n===Et)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function zS(t,e,n,r){let i=Ht(t,e,n);return Ht(t,e+1,r)||i}function Ld(t,e,n){return function r(i){let o=Zr(t)?Xt(t.index,e):e;fv(o,5);let s=e[Oe],a=sC(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=sC(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function sC(t,e,n,r){let i=ee(null);try{return De(6,e,n),n(r)!==!1}catch(o){return PF(t,o),!1}finally{De(7,e,n),ee(i)}}function qS(t,e,n,r,i,o,s,a){let c=hc(t),l=!1,h=null;if(!r&&c&&(h=mL(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=ln(t,n),g=r?r(p):p;_1(n,g,o,a);let y=i.listen(g,o,a),w=r?N=>r(Zt(N[t.index])):t.index;GS(w,e,n,o,a,y,!1)}return l}function mL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[hs],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function GS(t,e,n,r,i,o,s){let a=e.firstCreatePass?Rm(e):null,c=Am(n),l=c.length;c.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function aC(t,e,n,r,i,o){let s=e[n],a=e[G],l=a.data[n].outputs[r],p=s[l].subscribe(o);GS(t.index,a,e,i,o,p,!0)}var by=Symbol("BINDING");var Gd=class extends kc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Qr(e);return new Is(n,this.ngModule)}};function yL(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&uh.SignalBased)!==0};return i&&(o.transform=i),o})}function vL(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function _L(t,e,n){let r=e instanceof xe?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Dy(n,r):n}function EL(t){let e=t.get(ro,null);if(e===null)throw new O(407,!1);let n=t.get(jS,null),r=t.get(qr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function IL(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return uS(e,n,n==="svg"?fb:n==="math"?pb:null)}var Is=class extends gh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=yL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=vL(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=J1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){De(22);let a=ee(null);try{let c=this.componentDef,l=wL(r,c,s,o),h=_L(c,i||this.ngModule,e),p=EL(h),g=p.rendererFactory.createRenderer(null,c),y=r?IF(g,r,c.encapsulation,h):IL(c,g),w=s?.some(cC)||o?.some(M=>typeof M!="function"&&M.bindings.some(cC)),N=rv(null,l,null,512|fS(c),null,null,p,g,h,null,QC(y,h,!0));N[Fe]=y,Dd(N);let S=null;try{let M=$S(Fe,N,2,"#host",()=>l.directiveRegistry,!0,0);y&&(hS(g,y,M),Es(y,N)),uv(l,N,M),JC(l,M,N),HS(l,M),n!==void 0&&DL(M,this.ngContentSelectors,n),S=Xt(M.index,N),N[Oe]=S[Oe],dv(l,N,null)}catch(M){throw S!==null&&cy(S),cy(N),M}finally{De(23),bd()}return new Wd(this.componentType,N,!!w)}finally{ee(a)}}};function wL(t,e,n,r){let i=t?["ng-version","20.1.4"]:Z1(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[by].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[by].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let c=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=gm(p);c.push(g)}return nv(0,null,TL(o,s),1,a,c,null,null,null,[i],null)}function TL(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function cC(t){let e=t[by].kind;return e==="input"||e==="twoWay"}var Wd=class extends VS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=fc(n[G],Fe),this.location=Ds(this._tNode,n),this.instance=Xt(this._tNode.index,n)[Oe],this.hostView=this.changeDetectorRef=new ni(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=lv(r,i[G],i,e,n);this.previousInputValues.set(e,n);let s=Xt(r.index,i);fv(s,1)}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function DL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ii=(()=>{class t{static __NG_ELEMENT_ID__=bL}return t})();function bL(){let t=nt();return KS(t,Y())}var CL=ii,WS=class extends CL{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ds(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){let e=zy(this._hostTNode,this._hostLView);if(NC(e)){let n=Ud(e,this._hostLView),r=jd(e),i=n[G].data[r+8];return new eo(i,n)}else return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=uC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=wy(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Dc(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!HO(e),l;if(c)l=n;else{let S=n||{};l=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef,s=S.directives,a=S.bindings}let h=c?e:new Is(Qr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let M=(c?p:this.parentInjector).get(xe,null);M&&(o=M)}let g=Qr(h.componentType??{}),y=wy(this._lContainer,g?.id??null),w=y?.firstChild??null,N=h.create(p,i,w,o,s,a);return this.insertImpl(N.hostView,l,Dc(this._hostTNode,y)),N}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(mb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Je],l=new WS(c,c[Jt],c[Je]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ph(s,i,o,r),e.attachToViewContainerRef(),dm(Jm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=uC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Cc(this._lContainer,n);r&&(sc(Jm(this._lContainer),n),lh(r[G],r))}detach(e){let n=this._adjustIndex(e,-1),r=Cc(this._lContainer,n);return r&&sc(Jm(this._lContainer),n)!=null?new ni(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uC(t){return t[dc]}function Jm(t){return t[dc]||(t[dc]=[])}function KS(t,e){let n,r=e[t.index];return un(r)?n=r:(n=kS(r,e,null,t),e[t.index]=n,iv(e,n)),AL(n,e,t,r),new WS(n,t,e)}function SL(t,e){let n=t[be],r=n.createComment(""),i=ln(e,t),o=n.parentNode(i);return zd(n,o,r,n.nextSibling(i),!1),r}var AL=ML,RL=()=>!1;function NL(t,e,n){return RL(t,e,n)}function ML(t,e,n,r){if(t[Jr])return;let i;n.type&8?i=Zt(r):i=SL(e,n),t[Jr]=i}var Cy=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Sy=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)yv(e,n).matches!==null&&this.queries[n].setDirty()}},Kd=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=jL(e):this.predicate=e}},Ay=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ry=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,PL(n,o)),this.matchTNodeWithReadOption(e,n,Od(n,e,o,!1,!1))}else r===no?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Od(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===pn||i===ii||i===no&&n.type&4)this.addMatch(n.index,-2);else{let o=Od(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function PL(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function kL(t,e){return t.type&11?Ds(t,e):t.type&4?pv(t,e):null}function xL(t,e,n,r){return n===-1?kL(e,t):n===-2?OL(t,e,r):Tc(t,t[G],n,e)}function OL(t,e,n){if(n===pn)return Ds(e,t);if(n===no)return pv(e,t);if(n===ii)return KS(e,t)}function QS(t,e,n,r){let i=e[Rn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(xL(e,h,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Ny(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=QS(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let p=tt;p<h.length;p++){let g=h[p];g[Yr]===g[Je]&&Ny(g[G],g,l,r)}if(h[Ji]!==null){let p=h[Ji];for(let g=0;g<p.length;g++){let y=p[g];Ny(y[G],y,l,r)}}}}}return r}function FL(t,e){return t[Rn].queries[e].queryList}function YS(t,e,n){let r=new Hd((n&4)===4);return _b(t,e,r,r.destroy),(e[Rn]??=new Sy).queries.push(new Cy(r))-1}function LL(t,e,n){let r=Re();return r.firstCreatePass&&(JS(r,new Kd(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),YS(r,Y(),e)}function VL(t,e,n,r){let i=Re();if(i.firstCreatePass){let o=nt();JS(i,new Kd(e,n,r),o.index),UL(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return YS(i,Y(),n)}function jL(t){return t.split(",").map(e=>e.trim())}function JS(t,e,n){t.queries===null&&(t.queries=new Ay),t.queries.track(new Ry(e,n))}function UL(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function yv(t,e){return t.queries.getByIndex(e)}function BL(t,e){let n=t[G],r=yv(n,e);return r.crossesNgTemplate?Ny(n,t,e,[]):QS(n,t,r,e)}var lC=new Set;function oi(t){lC.has(t)||(lC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var io=class{},mh=class{};var Qd=class extends io{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Gd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=pm(e);this._bootstrapComponents=aS(o.bootstrap),this._r3Injector=$m(e,n,[{provide:io,useValue:this},{provide:kc,useValue:this.componentFactoryResolver},...r],ur(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yd=class extends mh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Qd(this.moduleType,e,[])}};var Sc=class extends io{injector;componentFactoryResolver=new Gd(this);instance=null;constructor(e){super();let n=new qi([...e.providers,{provide:io,useValue:this},{provide:kc,useValue:this.componentFactoryResolver}],e.parent||cc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function xc(t,e,n=null){return new Sc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var $L=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=mm(!1,n.type),i=r.length>0?xc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(q(xe))})}return t})();function vv(t){return Ts(()=>{let e=ZS(t),n=ye(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get($L).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||hr.Emulated,styles:t.styles||At,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&oi("NgStandalone"),XS(n);let r=t.dependencies;return n.directiveDefs=dC(r,HL),n.pipeDefs=dC(r,sb),n.id=GL(n),n})}function HL(t){return Qr(t)||gm(t)}function co(t){return Ts(()=>({type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zL(t,e){if(t==null)return Kr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=uh.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function qL(t){if(t==null)return Kr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function On(t){return Ts(()=>{let e=ZS(t);return XS(e),e})}function bs(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ZS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Kr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:zL(t.inputs,e),outputs:qL(t.outputs),debugInfo:null}}function XS(t){t.features?.forEach(e=>e(t))}function dC(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function GL(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function WL(t){return Object.getPrototypeOf(t.prototype).constructor}function eA(t){let e=WL(t.type),n=!0,r=[t];for(;e;){let i;if(Mn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Zm(t.inputs),s.declaredInputs=Zm(t.declaredInputs),s.outputs=Zm(t.outputs);let a=i.hostBindings;a&&ZL(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&YL(t,c),l&&JL(t,l),KL(t,i),ZD(t.outputs,i.outputs),Mn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===eA&&(n=!1)}}e=Object.getPrototypeOf(e)}QL(r)}function KL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function QL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_s(i.hostAttrs,n=_s(n,i.hostAttrs))}}function Zm(t){return t===Kr?{}:t===At?[]:t}function YL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function JL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function ZL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function tA(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=_s(t.mergedAttrs,t.attrs);let h=t.tView=nv(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),gs(t,!1);let c=eV(n,e,t,r);Cd()&&av(n,e,c,t),Es(c,e);let l=kS(c,e,c,t);e[r+Fe]=l,iv(e,l),NL(l,t,e)}function XL(t,e,n,r,i,o,s,a,c,l,h){let p=n+Fe,g;return e.firstCreatePass?(g=Pc(e,p,4,s||null,a||null),Mm()&&US(e,t,g,en(e.consts,l),IS),SC(e,g)):g=e.data[p],tA(g,t,e,n,r,i,o,c),hc(g)&&uv(e,t,g),l!=null&&hh(t,g,h),g}function Jd(t,e,n,r,i,o,s,a,c,l,h){let p=n+Fe,g;if(e.firstCreatePass){if(g=Pc(e,p,4,s||null,a||null),l!=null){let y=en(e.consts,l);g.localNames=[];for(let w=0;w<y.length;w+=2)g.localNames.push(y[w],-1)}}else g=e.data[p];return tA(g,t,e,n,r,i,o,c),l!=null&&hh(t,g,h),g}function nA(t,e,n,r,i,o,s,a){let c=Y(),l=Re(),h=en(l.consts,o);return XL(c,l,t,e,n,r,i,h,void 0,s,a),nA}var eV=tV;function tV(t,e,n,r){return Sd(!0),e[be].createComment("")}var _v=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(_v||{}),Oc=new U(""),rA=!1,My=class extends Ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,db()&&(this.destroyRef=P(ei,{optional:!0})??void 0,this.pendingTasks=P(kn,{optional:!0})??void 0)}emit(e){let n=ee(null);try{super.next(e)}finally{ee(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},_t=My;function iA(t){let e,n;function r(){t=Ec;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function hC(t){return queueMicrotask(()=>t()),()=>{t=Ec}}var Ev="isAngularZone",Zd=Ev+"_ID",nV=0,ge=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _t(!1);onMicrotaskEmpty=new _t(!1);onStable=new _t(!1);onError=new _t(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=rA}=e;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,oV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ev)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,rV,Ec,Ec);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},rV={};function Iv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function iV(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){iA(()=>{t.callbackScheduled=!1,Py(t),t.isCheckStableRunning=!0,Iv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Py(t)}function oV(t){let e=()=>{iV(t)},n=nV++;t._inner=t._inner.fork({name:"angular",properties:{[Ev]:!0,[Zd]:n,[Zd+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(sV(c))return r.invokeTask(o,s,a,c);try{return fC(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pC(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return fC(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!aV(c)&&e(),pC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Py(t),Iv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Py(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pC(t){t._nesting--,Iv(t)}var Xd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _t;onMicrotaskEmpty=new _t;onStable=new _t;onError=new _t;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function sV(t){return oA(t,"__ignore_ng_zone__")}function aV(t){return oA(t,"__scheduler_tick__")}function oA(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var sA=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();var yh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var wv=new U("");function uo(t){return!!t&&typeof t.then=="function"}function vh(t){return!!t&&typeof t.subscribe=="function"}var aA=new U("");var Tv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P(aA,{optional:!0})??[];injector=P(Ze);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ue(this.injector,i);if(uo(o))n.push(o);else if(vh(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_h=new U("");function cA(){Vg(()=>{let t="";throw new O(600,t)})}function uA(t){return t.isBoundToModule}var cV=10;var si=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Rt);afterRenderManager=P(sA);zonelessEnabled=P(ms);rootEffectScheduler=P(Wm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(kn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(n=>!n))}constructor(){P(Oc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ze.NULL){return this._injector.get(ge).run(()=>{De(10);let s=n instanceof gh;if(!this._injector.get(Tv).done){let w="";throw new O(405,w)}let c;s?c=n:c=this._injector.get(kc).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=uA(c)?void 0:this._injector.get(io),h=r||c.selector,p=c.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(wv,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),wc(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),De(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(_v.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new O(101,!1);let n=ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(n),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ro,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<cV;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!pc(i))continue;let o=r&&!this.zonelessEnabled?0:1;hv(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>pc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;wc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(_h,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>wc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new O(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Eh(t,e,n,r){let i=Y(),o=dr();if(Ht(i,o,e)){let s=Re(),a=vc();RF(a,i,t,e,n,r)}return Eh}function uV(){return Y()[Ft][Oe]}var ky=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Xm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function lV(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=t.at(o),h=e[o],p=Xm(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),y=e[c],w=Xm(s,g,c,y,n);if(w!==0){w<0&&t.updateValue(s,y),s--,c--;continue}let N=n(o,l),S=n(s,g),M=n(o,h);if(Object.is(M,S)){let L=n(c,y);Object.is(L,N)?(t.swap(o,s),t.updateValue(s,y),c--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new eh,i??=mC(t,o,s,n),xy(t,r,o,M))t.updateValue(o,h),o++,s++;else if(i.has(M))r.set(N,t.detach(o)),s--;else{let L=t.create(o,e[o]);t.attach(o,L),o++,s++}}for(;o<=c;)gC(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=Xm(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=c.next();else{r??=new eh,i??=mC(t,o,s,n);let y=n(o,p);if(xy(t,r,o,y))t.updateValue(o,p),o++,s++,l=c.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=c.next();else{let w=n(o,h);r.set(w,t.detach(o)),s--}}}for(;!l.done;)gC(t,r,n,t.length,l.value),l=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function xy(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function gC(t,e,n,r,i){if(xy(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function mC(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var eh=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function dV(t,e,n,r,i,o,s,a){oi("NgControlFlow");let c=Y(),l=Re(),h=en(l.consts,o);return Jd(c,l,t,e,n,r,i,h,256,s,a),Dv}function Dv(t,e,n,r,i,o,s,a){oi("NgControlFlow");let c=Y(),l=Re(),h=en(l.consts,o);return Jd(c,l,t,e,n,r,i,h,512,s,a),Dv}function hV(t,e){oi("NgControlFlow");let n=Y(),r=dr(),i=n[r]!==Et?n[r]:-1,o=i!==-1?th(n,Fe+i):void 0,s=0;if(Ht(n,r,t)){let a=ee(null);try{if(o!==void 0&&OS(o,s),t!==-1){let c=Fe+t,l=th(n,c),h=Vy(n[G],c),p=LS(l,h,n),g=fh(n,h,e,{dehydratedView:p});ph(l,g,s,Dc(h,p))}}finally{ee(a)}}else if(o!==void 0){let a=xS(o,s);a!==void 0&&(a[Oe]=e)}}var Oy=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-tt}};function fV(t,e){return e}var Fy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function pV(t,e,n,r,i,o,s,a,c,l,h,p,g){oi("NgControlFlow");let y=Y(),w=Re(),N=c!==void 0,S=Y(),M=a?s.bind(S[Ft][Oe]):s,L=new Fy(N,M);S[Fe+t]=L,Jd(y,w,t+1,e,n,r,i,en(w.consts,o),256),N&&Jd(y,w,t+2,c,l,h,p,en(w.consts,g),512)}var Ly=class extends ky{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-tt}at(e){return this.getLView(e)[Oe].$implicit}attach(e,n){let r=n[ds];this.needsIndexUpdate||=e!==this.length,ph(this.lContainer,n,e,Dc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,mV(this.lContainer,e)}create(e,n){let r=wy(this.lContainer,this.templateTNode.tView.ssrId),i=fh(this.hostLView,this.templateTNode,new Oy(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){lh(e[G],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Oe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Oe].$index=e}getLView(e){return yV(this.lContainer,e)}};function gV(t){let e=ee(null),n=Pn();try{let r=Y(),i=r[G],o=r[n],s=n+1,a=th(r,s);if(o.liveCollection===void 0){let l=Vy(i,s);o.liveCollection=new Ly(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(lV(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=dr(),h=c.length===0;if(Ht(r,l,h)){let p=n+2,g=th(r,p);if(h){let y=Vy(i,p),w=LS(g,y,r),N=fh(r,y,void 0,{dehydratedView:w});ph(g,N,0,Dc(y,w))}else i.firstUpdatePass&&eL(g),OS(g,0)}}}finally{ee(e)}}function th(t,e){return t[e]}function mV(t,e){return Cc(t,e)}function yV(t,e){return xS(t,e)}function Vy(t,e){return fc(t,e)}function lA(t,e,n){let r=Y(),i=dr();if(Ht(r,i,e)){let o=Re(),s=vc();_S(s,r,t,e,r[be],n)}return lA}function jy(t,e,n,r,i){lv(e,t,n,i?"class":"style",r)}function bv(t,e,n,r){let i=Y(),o=i[G],s=t+Fe,a=o.firstCreatePass?$S(s,i,2,e,IS,Mm(),n,r):o.data[s];if(wS(a,i,t,e,hA),hc(a)){let c=i[G];uv(c,i,a),JC(c,a,i)}return r!=null&&hh(i,a),bv}function Cv(){let t=Re(),e=nt(),n=TS(e);return t.firstCreatePass&&HS(t,n),Pm(n)&&km(),Nm(),n.classesWithoutHost!=null&&QO(n)&&jy(t,n,Y(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&YO(n)&&jy(t,n,Y(),n.stylesWithoutHost,!1),Cv}function Ih(t,e,n,r){return bv(t,e,n,r),Cv(),Ih}function Sv(t,e,n,r){let i=Y(),o=i[G],s=t+Fe,a=o.firstCreatePass?pL(s,o,2,e,n,r):o.data[s];return wS(a,i,t,e,hA),r!=null&&hh(i,a),Sv}function Av(){let t=nt(),e=TS(t);return Pm(e)&&km(),Nm(),Av}function dA(t,e,n,r){return Sv(t,e,n,r),Av(),dA}var hA=(t,e,n,r,i)=>(Sd(!0),uS(e[be],r,Vb()));function vV(){return Y()}function fA(t,e,n){let r=Y(),i=dr();if(Ht(r,i,e)){let o=Re(),s=vc();ES(s,r,t,e,r[be],n)}return fA}var Xi=void 0;function _V(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var EV=["en",[["a","p"],["AM","PM"],Xi],[["AM","PM"],Xi,Xi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xi,"{1} 'at' {0}",Xi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_V],ey={};function Lt(t){let e=IV(t),n=yC(e);if(n)return n;let r=e.split("-")[0];if(n=yC(r),n)return n;if(r==="en")return EV;throw new O(701,!1)}function yC(t){return t in ey||(ey[t]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[t]),ey[t]}var Le=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Le||{});function IV(t){return t.toLowerCase().replace(/_/g,"-")}var Fc="en-US";var wV=Fc;function pA(t){typeof t=="string"&&(wV=t.toLowerCase().replace(/_/g,"-"))}function wh(t,e,n){let r=Y(),i=Re(),o=nt();return mA(i,r,r[be],o,t,e,n),wh}function gA(t,e,n){let r=Y(),i=Re(),o=nt();return(o.type&3||n)&&qS(o,i,r,n,r[be],t,e,Ld(o,r,e)),gA}function mA(t,e,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Ld(r,e,o),qS(r,t,e,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];c??=Ld(r,e,o),aC(r,e,g,y,i,c)}if(l&&l.length)for(let p of l)c??=Ld(r,e,o),aC(r,e,p,i,i,c)}}function TV(t=1){return Lb(t)}function Rv(t,e,n,r){VL(t,e,n,r)}function DV(t,e,n){LL(t,e,n)}function Nv(t){let e=Y(),n=Re(),r=jm();Td(r+1);let i=yv(n,r);if(t.dirty&&gb(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=BL(e,r);t.reset(o,u1),t.notifyOnChanges()}return!0}return!1}function Mv(){return FL(Y(),jm())}function bV(t){let e=Sb();return vd(e,Fe+t)}function Pd(t,e){return t<<17|e<<2}function oo(t){return t>>17&32767}function CV(t){return(t&2)==2}function SV(t,e){return t&131071|e<<17}function Uy(t){return t|2}function ws(t){return(t&131068)>>2}function ty(t,e){return t&-131069|e<<2}function AV(t){return(t&1)===1}function By(t){return t|1}function RV(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=oo(s),c=ws(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ls(p,h)>0)&&(l=!0)}else h=n;if(i)if(c!==0){let g=oo(t[a+1]);t[r+1]=Pd(g,a),g!==0&&(t[g+1]=ty(t[g+1],r)),t[a+1]=SV(t[a+1],r)}else t[r+1]=Pd(a,0),a!==0&&(t[a+1]=ty(t[a+1],r)),a=r;else t[r+1]=Pd(c,0),a===0?a=r:t[c+1]=ty(t[c+1],r),c=r;l&&(t[r+1]=Uy(t[r+1])),vC(t,h,r,!0),vC(t,h,r,!1),NV(e,h,t,r,o),s=Pd(a,c),o?e.classBindings=s:e.styleBindings=s}function NV(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ls(o,e)>=0&&(n[r+1]=By(n[r+1]))}function vC(t,e,n,r){let i=t[n+1],o=e===null,s=r?oo(i):ws(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];MV(c,e)&&(a=!0,t[s+1]=r?By(l):Uy(l)),s=r?oo(l):ws(l)}a&&(t[n+1]=r?Uy(i):By(i))}function MV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ls(t,e)>=0:!1}var hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function PV(t){return t.substring(hn.key,hn.keyEnd)}function kV(t){return xV(t),yA(t,vA(t,0,hn.textEnd))}function yA(t,e){let n=hn.textEnd;return n===e?-1:(e=hn.keyEnd=OV(t,hn.key=e,n),vA(t,e,n))}function xV(t){hn.key=0,hn.keyEnd=0,hn.value=0,hn.valueEnd=0,hn.textEnd=t.length}function vA(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function OV(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function _A(t,e){return VV(t,e,null,!0),_A}function FV(t){jV(qV,LV,t,!0)}function LV(t,e){for(let n=kV(e);n>=0;n=yA(e,n))pd(t,PV(e),!0)}function VV(t,e,n,r){let i=Y(),o=Re(),s=Id(2);if(o.firstUpdatePass&&IA(o,t,s,r),e!==Et&&Ht(i,s,e)){let a=o.data[Pn()];wA(o,a,i,i[be],t,i[s+1]=WV(e,n),r,s)}}function jV(t,e,n,r){let i=Re(),o=Id(2);i.firstUpdatePass&&IA(i,null,o,r);let s=Y();if(n!==Et&&Ht(s,o,n)){let a=i.data[Pn()];if(TA(a,r)&&!EA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=ud(c,n||"")),jy(i,a,s,n,r)}else GV(i,a,s,s[be],s[o+1],s[o+1]=zV(t,e,n),r,o)}}function EA(t,e){return e>=t.expandoStartIndex}function IA(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Pn()],s=EA(t,n);TA(o,r)&&e===null&&!s&&(e=!1),e=UV(i,o,e,r),RV(i,o,e,n,s,r)}}function UV(t,e,n,r){let i=kb(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ny(null,t,e,n,r),n=Ac(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ny(i,t,e,n,r),o===null){let c=BV(t,e,r);c!==void 0&&Array.isArray(c)&&(c=ny(null,t,e,c[1],r),c=Ac(c,e.attrs,r),$V(t,e,r,c))}else o=HV(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function BV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ws(r)!==0)return t[oo(r)]}function $V(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[oo(i)]=r}function HV(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ac(r,s,n)}return Ac(r,e.attrs,n)}function ny(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ac(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ac(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),pd(t,s,n?!0:e[++o]))}return t===void 0?null:t}function zV(t,e,n){if(n==null||n==="")return At;let r=[],i=gn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function qV(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&pd(t,r,n)}function GV(t,e,n,r,i,o,s,a){i===Et&&(i=At);let c=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=c<i.length?i[c+1]:void 0,y=l<o.length?o[l+1]:void 0,w=null,N;h===p?(c+=2,l+=2,g!==y&&(w=p,N=y)):p===null||h!==null&&h<p?(c+=2,w=h):(l+=2,w=p,N=y),w!==null&&wA(t,e,n,r,w,N,s,a),h=c<i.length?i[c]:null,p=l<o.length?o[l]:null}}function wA(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],h=AV(l)?_C(c,e,n,i,ws(l),s):void 0;if(!nh(h)){nh(o)||CV(l)&&(o=_C(c,null,n,i,a,s));let p=Tm(Pn(),n);EF(r,s,p,i,o)}}function _C(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,g=n[i+1];g===Et&&(g=p?At:void 0);let y=p?gd(g,r):h===r?g:void 0;if(l&&!nh(y)&&(y=gd(c,r)),nh(y)&&(a=y,s))return a;let w=t[i+1];i=s?oo(w):ws(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=gd(c,r))}return a}function nh(t){return t!==void 0}function WV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ur(gn(t)))),t}function TA(t,e){return(t.flags&(e?8:16))!==0}function KV(t,e=""){let n=Y(),r=Re(),i=t+Fe,o=r.firstCreatePass?Pc(r,i,1,e,null):r.data[i],s=QV(r,n,o,e,t);n[i]=s,Cd()&&av(r,n,s,o),gs(o,!1)}var QV=(t,e,n,r,i)=>(Sd(!0),X1(e[be],r));function DA(t,e,n,r=""){return Ht(t,dr(),n)?e+Wr(n)+r:Et}function YV(t,e,n,r,i,o=""){let s=Ab(),a=zS(t,s,n,i);return Id(2),a?e+Wr(n)+r+Wr(i)+o:Et}function bA(t){return Pv("",t),bA}function Pv(t,e,n){let r=Y(),i=DA(r,t,e,n);return i!==Et&&SA(r,Pn(),i),Pv}function CA(t,e,n,r,i){let o=Y(),s=YV(o,t,e,n,r,i);return s!==Et&&SA(o,Pn(),s),CA}function SA(t,e,n){let r=Tm(e,t);eF(t[be],r,n)}function AA(t,e,n){zm(e)&&(e=e());let r=Y(),i=dr();if(Ht(r,i,e)){let o=Re(),s=vc();_S(s,r,t,e,r[be],n)}return AA}function JV(t,e){let n=zm(t);return n&&t.set(e),n}function RA(t,e){let n=Y(),r=Re(),i=nt();return mA(r,n,n[be],i,t,e),RA}function ZV(t){return Ht(Y(),dr(),t)?Wr(t):Et}function XV(t,e,n=""){return DA(Y(),t,e,n)}function ej(t,e,n){let r=Re();if(r.firstCreatePass){let i=Mn(t);$y(n,r.data,r.blueprint,i,!0),$y(e,r.data,r.blueprint,i,!1)}}function $y(t,e,n,r,i){if(t=ht(t),Array.isArray(t))for(let o=0;o<t.length;o++)$y(t[o],e,n,r,i);else{let o=Re(),s=Y(),a=nt(),c=zi(t)?t:ht(t.provide),l=vm(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(zi(t)||!t.multi){let y=new to(l,i,Ee,null),w=iy(c,e,i?h:h+g,p);w===-1?(sy($d(a,s),o,c),ry(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[w]=y,s[w]=y)}else{let y=iy(c,e,h+g,p),w=iy(c,e,h,h+g),N=y>=0&&n[y],S=w>=0&&n[w];if(i&&!S||!i&&!N){sy($d(a,s),o,c);let M=rj(i?nj:tj,n.length,i,r,l,t);!i&&S&&(n[w].providerFactory=M),ry(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),s.push(M)}else{let M=NA(n[i?w:y],l,!i&&r);ry(o,t,y>-1?y:w,M)}!i&&r&&S&&n[w].componentProviders++}}}function ry(t,e,n,r){let i=zi(e),o=lb(e);if(i||o){let c=(o?ht(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function NA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function iy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function tj(t,e,n,r,i){return Hy(this.multi,[])}function nj(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Tc(r,r[G],this.providerFactory.index,i);s=c.slice(0,a),Hy(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Hy(o,s);return s}function Hy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function rj(t,e,n,r,i,o){let s=new to(t,n,Ee,null);return s.multi=[],s.index=e,s.componentProviders=0,NA(s,i,r&&!n),s}function ij(t,e=[]){return n=>{n.providersResolver=(r,i)=>ej(r,i?i(t):t,e)}}function oj(t,e,n){let r=yc()+t,i=Y();return i[r]===Et?mv(i,r,n?e.call(n):e()):gL(i,r)}function sj(t,e,n,r){return PA(Y(),yc(),t,e,n,r)}function MA(t,e){let n=t[e];return n===Et?void 0:n}function PA(t,e,n,r,i,o){let s=e+n;return Ht(t,s,i)?mv(t,s+1,o?r.call(o,i):r(i)):MA(t,s+1)}function aj(t,e,n,r,i,o,s){let a=e+n;return zS(t,a,i,o)?mv(t,a+2,s?r.call(s,i,o):r(i,o)):MA(t,a+2)}function cj(t,e){let n=Re(),r,i=t+Fe;n.firstCreatePass?(r=uj(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Hr(r.type,!0)),s,a=St(Ee);try{let c=Bd(!1),l=o();return Bd(c),Dm(n,Y(),i,l),l}finally{St(a)}}function uj(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function lj(t,e,n){let r=t+Fe,i=Y(),o=vd(i,r);return kA(i,r)?PA(i,yc(),e,o.transform,n,o):o.transform(n)}function dj(t,e,n,r){let i=t+Fe,o=Y(),s=vd(o,i);return kA(o,i)?aj(o,yc(),e,s.transform,n,r,s):s.transform(n,r)}function kA(t,e){return t[G].data[e].pure}var rh=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},kv=(()=>{class t{compileModuleSync(n){return new Yd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=pm(n),o=aS(i.declarations).reduce((s,a)=>{let c=Qr(a);return c&&s.push(new Is(c)),s},[]);return new rh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hj=(()=>{class t{zone=P(ge);changeDetectionScheduler=P(qr);applicationRef=P(si);applicationErrorHandler=P(Rt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xA=new U("",{factory:()=>!1});function xv({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ge(ye(V({},Ov()),{scheduleInRootZone:n})),[{provide:ge,useFactory:t},{provide:lr,multi:!0,useFactory:()=>{let r=P(hj,{optional:!0});return()=>r.initialize()}},{provide:lr,multi:!0,useFactory:()=>{let r=P(pj);return()=>{r.initialize()}}},e===!0?{provide:qm,useValue:!0}:[],{provide:Gm,useValue:n??rA},{provide:Rt,useFactory:()=>{let r=P(ge),i=P(xe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Sn),o.handleError(s))})}}}]}function fj(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=xv({ngZoneFactory:()=>{let i=Ov(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&oi("NgZone_CoalesceEvent"),new ge(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ot([{provide:xA,useValue:!0},{provide:ms,useValue:!1},r])}function Ov(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var pj=(()=>{class t{subscription=new ke;initialized=!1;zone=P(ge);pendingTasks=P(kn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var OA=(()=>{class t{applicationErrorHandler=P(Rt);appRef=P(si);taskService=P(kn);ngZone=P(ge);zonelessEnabled=P(ms);tracing=P(Oc,{optional:!0});disableScheduling=P(qm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Gm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Xd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?hC:iA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gj(){return typeof $localize<"u"&&$localize.locale||Fc}var Cs=new U("",{providedIn:"root",factory:()=>P(Cs,{optional:!0,skipSelf:!0})||gj()});function Ss(t){return QD(t)}function mj(t,e){return nd(t,e?.equal)}var FA=class{[vt];constructor(e){this[vt]=e}destroy(){this[vt].destroy()}};var jA=Symbol("InputSignalNode#UNSET"),Nj=ye(V({},rd),{transformFn:void 0,applyValueToInputSignal(t,e){cs(t,e)}});function UA(t,e){let n=Object.create(Nj);n.value=t,n.transformFn=e?.transform;function r(){if(os(n),n.value===jA){let i=null;throw new O(-950,i)}return n.value}return r[vt]=n,r}var Dh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Rc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Mj=new U("");Mj.__NG_ELEMENT_ID__=t=>{let e=nt();if(e===null)throw new O(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new O(204,!1)};function LA(t,e){return UA(t,e)}function Pj(t){return UA(jA,t)}var BA=(LA.required=Pj,LA);var As=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},$A=new As("20.1.4");var Fv=new U(""),kj=new U("");function Lc(t){return!t.moduleRef}function xj(t){let e=Lc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ge);return n.run(()=>{Lc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Rt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Lc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Fv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Fv);s.add(o),t.moduleRef.onDestroy(()=>{wc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Fj(r,n,()=>{let o=e.get(kn),s=o.add(),a=e.get(Tv);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Cs,Fc);if(pA(c||Fc),!e.get(kj,!0))return Lc(t)?e.get(si):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Lc(t)){let h=e.get(si);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return Oj?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var Oj;function Fj(t,e,n){try{let r=n();return uo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Th=null;function Lj(t=[],e){return Ze.create({name:e,providers:[{provide:ac,useValue:"platform"},{provide:Fv,useValue:new Set([()=>Th=null])},...t]})}function Vj(t=[]){if(Th)return Th;let e=Lj(t);return Th=e,cA(),jj(e),e}function jj(t){let e=t.get(sh,null);Ue(t,()=>{e?.forEach(n=>n())})}function Uv(){return!1}var Rs=(()=>{class t{static __NG_ELEMENT_ID__=Uj}return t})();function Uj(t){return Bj(nt(),Y(),(t&16)===16)}function Bj(t,e,n){if(Zr(t)&&!n){let r=Xt(t.index,e);return new ni(r,r)}else if(t.type&175){let r=e[Ft];return new ni(r,e)}return null}var Lv=class{constructor(){}supports(e){return e instanceof Map||gv(e)}create(){return new Vv}},Vv=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||gv(e)))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new jv(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},jv=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function VA(){return new Bv([new Lv])}var Bv=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:VA});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||VA()),deps:[[t,new wC,new Nt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new O(901,!1)}}return t})();function HA(t){De(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Vj(r),o=[xv({}),{provide:qr,useExisting:OA},Ub,...n||[]],s=new Sc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return xj({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{De(9)}}function bh(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var GA=null;function mr(){return GA}function $v(t){GA??=t}var Vc=class{},Hv=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(WA),providedIn:"platform"})}return t})();var WA=(()=>{class t extends Hv{_location;_history;_doc=P(ze);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mr().getBaseHref(this._doc)}onPopState(n){let r=mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function KA(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function zA(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ai(t){return t&&t[0]!=="?"?`?${t}`:t}var Ns=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(YA),providedIn:"root"})}return t})(),QA=new U(""),YA=(()=>{class t extends Ns{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return KA(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ai(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ai(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(q(Hv),q(QA,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ms=(()=>{class t{_subject=new Ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=zj(zA(qA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ai(r))}normalize(n){return t.stripTrailingSlash(Hj(this._basePath,qA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ai(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ai;static joinWithSlash=KA;static stripTrailingSlash=zA;static \u0275fac=function(r){return new(r||t)(q(Ns))};static \u0275prov=$({token:t,factory:()=>$j(),providedIn:"root"})}return t})();function $j(){return new Ms(q(Ns))}function Hj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function qA(t){return t.replace(/\/index.html$/,"")}function zj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Zv=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Zv||{});var It=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(It||{}),we=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(we||{}),Vt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Vt||{}),jt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function t0(t){return Lt(t)[Le.LocaleId]}function n0(t,e,n){let r=Lt(t),i=[r[Le.DayPeriodsFormat],r[Le.DayPeriodsStandalone]],o=tn(i,e);return tn(o,n)}function r0(t,e,n){let r=Lt(t),i=[r[Le.DaysFormat],r[Le.DaysStandalone]],o=tn(i,e);return tn(o,n)}function i0(t,e,n){let r=Lt(t),i=[r[Le.MonthsFormat],r[Le.MonthsStandalone]],o=tn(i,e);return tn(o,n)}function o0(t,e){let r=Lt(t)[Le.Eras];return tn(r,e)}function jc(t,e){let n=Lt(t);return tn(n[Le.DateFormat],e)}function Uc(t,e){let n=Lt(t);return tn(n[Le.TimeFormat],e)}function Bc(t,e){let r=Lt(t)[Le.DateTimeFormat];return tn(r,e)}function Ln(t,e){let n=Lt(t),r=n[Le.NumberSymbols][e];if(typeof r>"u"){if(e===jt.CurrencyDecimal)return n[Le.NumberSymbols][jt.Decimal];if(e===jt.CurrencyGroup)return n[Le.NumberSymbols][jt.Group]}return r}function s0(t,e){return Lt(t)[Le.NumberFormats][e]}function a0(t){if(!t[Le.ExtraData])throw new O(2303,!1)}function c0(t){let e=Lt(t);return a0(e),(e[Le.ExtraData][2]||[]).map(r=>typeof r=="string"?zv(r):[zv(r[0]),zv(r[1])])}function u0(t,e,n){let r=Lt(t);a0(r);let i=[r[Le.ExtraData][0],r[Le.ExtraData][1]],o=tn(i,e)||[];return tn(o,n)||[]}function tn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new O(2304,!1)}function zv(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var qj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ch={},Gj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function l0(t,e,n,r){let i=t2(t);e=yr(n,e)||e;let s=[],a;for(;e;)if(a=Gj.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=h0(r,c),i=e2(i,r));let l="";return s.forEach(h=>{let p=Zj(h);l+=p?p(i,n,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Mh(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function yr(t,e){let n=t0(t);if(Ch[n]??={},Ch[n][e])return Ch[n][e];let r="";switch(e){case"shortDate":r=jc(t,Vt.Short);break;case"mediumDate":r=jc(t,Vt.Medium);break;case"longDate":r=jc(t,Vt.Long);break;case"fullDate":r=jc(t,Vt.Full);break;case"shortTime":r=Uc(t,Vt.Short);break;case"mediumTime":r=Uc(t,Vt.Medium);break;case"longTime":r=Uc(t,Vt.Long);break;case"fullTime":r=Uc(t,Vt.Full);break;case"short":let i=yr(t,"shortTime"),o=yr(t,"shortDate");r=Sh(Bc(t,Vt.Short),[i,o]);break;case"medium":let s=yr(t,"mediumTime"),a=yr(t,"mediumDate");r=Sh(Bc(t,Vt.Medium),[s,a]);break;case"long":let c=yr(t,"longTime"),l=yr(t,"longDate");r=Sh(Bc(t,Vt.Long),[c,l]);break;case"full":let h=yr(t,"fullTime"),p=yr(t,"fullDate");r=Sh(Bc(t,Vt.Full),[h,p]);break}return r&&(Ch[n][e]=r),r}function Sh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function yn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Wj(t,e){return yn(t,3).substring(0,e)}function qe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=Kj(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return Wj(a,e);let c=Ln(s,jt.MinusSign);return yn(a,e,c,r,i)}}function Kj(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new O(2301,!1)}}function Ce(t,e,n=It.Format,r=!1){return function(i,o){return Qj(i,o,t,e,n,r)}}function Qj(t,e,n,r,i,o){switch(n){case 2:return i0(e,i,r)[t.getMonth()];case 1:return r0(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=c0(e),h=u0(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,w]=g,N=s>=y.hours&&a>=y.minutes,S=s<w.hours||s===w.hours&&a<w.minutes;if(y.hours<w.hours){if(N&&S)return!0}else if(N||S)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return n0(e,i,r)[s<12?0:1];case 3:return o0(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new O(2302,!1)}}function Ah(t){return function(e,n,r){let i=-1*r,o=Ln(n,jt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+yn(s,2,o)+yn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+yn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+yn(s,2,o)+":"+yn(Math.abs(i%60),2,o);default:throw new O(2302,!1)}}}var Yj=0,Nh=4;function Jj(t){let e=Mh(t,Yj,1).getDay();return Mh(t,0,1+(e<=Nh?Nh:Nh+7)-e)}function d0(t){let e=t.getDay(),n=e===0?-3:Nh-e;return Mh(t.getFullYear(),t.getMonth(),t.getDate()+n)}function qv(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=d0(n),s=Jj(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return yn(i,t,Ln(r,jt.MinusSign))}}function Rh(t,e=!1){return function(n,r){let o=d0(n).getFullYear();return yn(o,t,Ln(r,jt.MinusSign),e)}}var Gv={};function Zj(t){if(Gv[t])return Gv[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ce(3,we.Abbreviated);break;case"GGGG":e=Ce(3,we.Wide);break;case"GGGGG":e=Ce(3,we.Narrow);break;case"y":e=qe(0,1,0,!1,!0);break;case"yy":e=qe(0,2,0,!0,!0);break;case"yyy":e=qe(0,3,0,!1,!0);break;case"yyyy":e=qe(0,4,0,!1,!0);break;case"Y":e=Rh(1);break;case"YY":e=Rh(2,!0);break;case"YYY":e=Rh(3);break;case"YYYY":e=Rh(4);break;case"M":case"L":e=qe(1,1,1);break;case"MM":case"LL":e=qe(1,2,1);break;case"MMM":e=Ce(2,we.Abbreviated);break;case"MMMM":e=Ce(2,we.Wide);break;case"MMMMM":e=Ce(2,we.Narrow);break;case"LLL":e=Ce(2,we.Abbreviated,It.Standalone);break;case"LLLL":e=Ce(2,we.Wide,It.Standalone);break;case"LLLLL":e=Ce(2,we.Narrow,It.Standalone);break;case"w":e=qv(1);break;case"ww":e=qv(2);break;case"W":e=qv(1,!0);break;case"d":e=qe(2,1);break;case"dd":e=qe(2,2);break;case"c":case"cc":e=qe(7,1);break;case"ccc":e=Ce(1,we.Abbreviated,It.Standalone);break;case"cccc":e=Ce(1,we.Wide,It.Standalone);break;case"ccccc":e=Ce(1,we.Narrow,It.Standalone);break;case"cccccc":e=Ce(1,we.Short,It.Standalone);break;case"E":case"EE":case"EEE":e=Ce(1,we.Abbreviated);break;case"EEEE":e=Ce(1,we.Wide);break;case"EEEEE":e=Ce(1,we.Narrow);break;case"EEEEEE":e=Ce(1,we.Short);break;case"a":case"aa":case"aaa":e=Ce(0,we.Abbreviated);break;case"aaaa":e=Ce(0,we.Wide);break;case"aaaaa":e=Ce(0,we.Narrow);break;case"b":case"bb":case"bbb":e=Ce(0,we.Abbreviated,It.Standalone,!0);break;case"bbbb":e=Ce(0,we.Wide,It.Standalone,!0);break;case"bbbbb":e=Ce(0,we.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ce(0,we.Abbreviated,It.Format,!0);break;case"BBBB":e=Ce(0,we.Wide,It.Format,!0);break;case"BBBBB":e=Ce(0,we.Narrow,It.Format,!0);break;case"h":e=qe(3,1,-12);break;case"hh":e=qe(3,2,-12);break;case"H":e=qe(3,1);break;case"HH":e=qe(3,2);break;case"m":e=qe(4,1);break;case"mm":e=qe(4,2);break;case"s":e=qe(5,1);break;case"ss":e=qe(5,2);break;case"S":e=qe(6,1);break;case"SS":e=qe(6,2);break;case"SSS":e=qe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Ah(0);break;case"ZZZZZ":e=Ah(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ah(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ah(2);break;default:return null}return Gv[t]=e,e}function h0(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Xj(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function e2(t,e,n){let i=t.getTimezoneOffset(),o=h0(e,i);return Xj(t,-1*(o-i))}function t2(t){if(JA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Mh(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(qj))return n2(r)}let e=new Date(t);if(!JA(e))throw new O(2302,!1);return e}function n2(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function JA(t){return t instanceof Date&&!isNaN(t.valueOf())}var r2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ZA=22,Ph=".",$c="0",i2=";",o2=",",Wv="#";function s2(t,e,n,r,i,o,s=!1){let a="",c=!1;if(!isFinite(t))a=Ln(n,jt.Infinity);else{let l=u2(t);s&&(l=c2(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let L=o.match(r2);if(L===null)throw new O(2306,!1);let H=L[1],z=L[3],Me=L[5];H!=null&&(h=Kv(H)),z!=null&&(p=Kv(z)),Me!=null?g=Kv(Me):z!=null&&p>g&&(g=p)}l2(l,p,g);let y=l.digits,w=l.integerLen,N=l.exponent,S=[];for(c=y.every(L=>!L);w<h;w++)y.unshift(0);for(;w<0;w++)y.unshift(0);w>0?S=y.splice(w,y.length):(S=y,y=[0]);let M=[];for(y.length>=e.lgSize&&M.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)M.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&M.unshift(y.join("")),a=M.join(Ln(n,r)),S.length&&(a+=Ln(n,i)+S.join("")),N&&(a+=Ln(n,jt.Exponential)+"+"+N)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function f0(t,e,n){let r=s0(e,Zv.Decimal),i=a2(r,Ln(e,jt.MinusSign));return s2(t,i,e,jt.Group,jt.Decimal,n)}function a2(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(i2),i=r[0],o=r[1],s=i.indexOf(Ph)!==-1?i.split(Ph):[i.substring(0,i.lastIndexOf($c)+1),i.substring(i.lastIndexOf($c)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(Wv));for(let h=0;h<c.length;h++){let p=c.charAt(h);p===$c?n.minFrac=n.maxFrac=h+1:p===Wv?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(o2);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Wv);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function c2(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function u2(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Ph))>-1&&(e=e.replace(Ph,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===$c;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===$c;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>ZA&&(r=r.splice(0,ZA-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function l2(t,e,n){if(e>n)throw new O(2307,!1);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,y,w){return g=g+p,w[y]=g<10?g:g-10,c&&(w[y]===0&&y>=l?w.pop():c=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Kv(t){let e=parseInt(t);if(isNaN(e))throw new O(2305,!1);return e}var Qv=/\s+/,XA=[],d2=(()=>{class t{_ngEl;_renderer;initialClasses=XA;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Qv):XA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Qv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Qv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Ee(pn),Ee(ao))};static \u0275dir=On({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var h2=(()=>{class t{_viewContainer;_context=new kh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){e0(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){e0(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Ee(ii),Ee(no))};static \u0275dir=On({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),kh=class{$implicit=null;ngIf=null};function e0(t,e){if(t&&!t.createEmbeddedView)throw new O(2020,!1)}var f2=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:fn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(Ee(pn),Ee(Bv),Ee(ao))};static \u0275dir=On({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();function xh(t,e){return new O(2100,!1)}var Yv=class{createSubscription(e,n,r){return Ss(()=>e.subscribe({next:n,error:r}))}dispose(e){Ss(()=>e.unsubscribe())}},Jv=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},p2=new Jv,g2=new Yv,m2=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=P(Rt);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(uo(n))return p2;if(vh(n))return g2;throw xh(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(Ee(Rs,16))};static \u0275pipe=bs({name:"async",type:t,pure:!1})}return t})();var y2=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw xh(t,n);return n.toUpperCase()}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=bs({name:"uppercase",type:t,pure:!0})}return t})(),v2="mediumDate",p0=new U(""),g0=new U(""),_2=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??v2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return l0(n,s,o||this.locale,a)}catch(s){throw xh(t,s.message)}}static \u0275fac=function(r){return new(r||t)(Ee(Cs,16),Ee(p0,24),Ee(g0,24))};static \u0275pipe=bs({name:"date",type:t,pure:!0})}return t})();var E2=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!I2(n))return null;i||=this._locale;try{let o=w2(n);return f0(o,i,r)}catch(o){throw xh(t,o.message)}}static \u0275fac=function(r){return new(r||t)(Ee(Cs,16))};static \u0275pipe=bs({name:"number",type:t,pure:!0})}return t})();function I2(t){return!(t==null||t===""||t!==t)}function w2(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new O(2309,!1);return t}var m0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=co({type:t});static \u0275inj=Gr({})}return t})();function Hc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var lo=class{};var y0="browser";var Fh=new U(""),r_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(q(Fh),q(ge))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),zc=class{_doc;constructor(e){this._doc=e}manager},Xv="ng-app-id";function v0(t){for(let e of t)e.remove()}function _0(t,e){let n=e.createElement("style");return n.textContent=t,n}function b2(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Xv}="${e}"],link[${Xv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Xv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function t_(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var i_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,b2(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,_0);r?.forEach(i=>this.addUsage(i,this.external,t_))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(v0(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])v0(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,_0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,t_(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(q(ze),q(oh),q(ah,8),q(ri))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),e_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},o_=/%COMP%/g;var I0="%COMP%",C2=`_nghost-${I0}`,S2=`_ngcontent-${I0}`,A2=!0,R2=new U("",{providedIn:"root",factory:()=>A2});function N2(t){return S2.replace(o_,t)}function M2(t){return C2.replace(o_,t)}function w0(t,e){return e.map(n=>n.replace(o_,t))}var s_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new qc(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Oh?i.applyToHost(n):i instanceof Gc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case hr.Emulated:o=new Oh(c,l,r,this.appId,h,s,a,p,g);break;case hr.ShadowDom:return new n_(c,l,n,r,s,a,this.nonce,p,g);default:o=new Gc(c,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(q(r_),q(i_),q(oh),q(R2),q(ze),q(ri),q(ge),q(ah),q(Oc,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),qc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(e_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(E0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(E0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=e_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=e_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(fn.DashCase|fn.Important)?e.style.setProperty(n,r,i&fn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&fn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=mr().getGlobalEventTarget(this.doc,e),!e))throw new O(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function E0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var n_=class extends qc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=w0(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=t_(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gc=class extends qc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?w0(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Oh=class extends Gc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,c,l,h),this.contentAttr=N2(h),this.hostAttr=M2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Lh=class t extends Vc{supportsDOMEvents=!0;static makeCurrent(){$v(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=P2();return n==null?null:k2(n)}resetBaseElement(){Wc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hc(document.cookie,e)}},Wc=null;function P2(){return Wc=Wc||document.head.querySelector("base"),Wc?Wc.getAttribute("href"):null}function k2(t){return new URL(t,document.baseURI).pathname}var x2=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),D0=(()=>{class t extends zc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(q(ze))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),T0=["alt","control","meta","shift"],O2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},b0=(()=>{class t extends zc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),T0.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=O2[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),T0.forEach(s=>{if(s!==i){let a=F2[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(q(ze))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function L2(t,e){let n=V({rootComponent:t},V2(e));return HA(n)}function V2(t){return{appProviders:[...H2,...t?.providers??[]],platformProviders:$2}}function j2(){Lh.makeCurrent()}function U2(){return new Sn}function B2(){return Gy(document),document}var $2=[{provide:ri,useValue:y0},{provide:sh,useValue:j2,multi:!0},{provide:ze,useFactory:B2}];var H2=[{provide:ac,useValue:"root"},{provide:Sn,useFactory:U2},{provide:Fh,useClass:D0,multi:!0,deps:[ze]},{provide:Fh,useClass:b0,multi:!0,deps:[ze]},s_,i_,r_,{provide:ro,useExisting:s_},{provide:lo,useClass:x2},[]];var xs=class{},Kc=class{},ci=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var jh=class{encodeKey(e){return C0(e)}encodeValue(e){return C0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function z2(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var q2=/%(\d[a-f0-9])/gi,G2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function C0(t){return encodeURIComponent(t).replace(q2,(e,n)=>G2[n]??e)}function Vh(t){return`${t}`}var vr=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new jh,e.fromString){if(e.fromObject)throw new O(2805,!1);this.map=z2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Vh):[Vh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Vh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Vh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Uh=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function W2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function S0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function A0(t){return typeof Blob<"u"&&t instanceof Blob}function R0(t){return typeof FormData<"u"&&t instanceof FormData}function K2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var N0="Content-Type",M0="Accept",P0="X-Request-URL",k0="text/plain",x0="application/json",Q2=`${x0}, ${k0}, */*`,Ps=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(W2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new ci,this.context??=new Uh,!this.params)this.params=new vr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||S0(this.body)||A0(this.body)||R0(this.body)||K2(this.body)?this.body:this.body instanceof vr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||R0(this.body)?null:A0(this.body)?this.body.type||null:S0(this.body)?null:typeof this.body=="string"?k0:this.body instanceof vr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?x0:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,p=e.transferCache??this.transferCache,g=e.timeout??this.timeout,y=e.body!==void 0?e.body:this.body,w=e.withCredentials??this.withCredentials,N=e.reportProgress??this.reportProgress,S=e.headers||this.headers,M=e.params||this.params,L=e.context??this.context;return e.setHeaders!==void 0&&(S=Object.keys(e.setHeaders).reduce((H,z)=>H.set(z,e.setHeaders[z]),S)),e.setParams&&(M=Object.keys(e.setParams).reduce((H,z)=>H.set(z,e.setParams[z]),M)),new t(n,r,y,{params:M,headers:S,context:L,reportProgress:N,responseType:i,withCredentials:w,transferCache:p,keepalive:o,cache:a,priority:s,timeout:g,mode:c,redirect:l,credentials:h})}},ho=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ho||{}),Os=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new ci,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Bh=class t extends Os{constructor(e={}){super(e)}type=ho.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Qc=class t extends Os{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ho.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ks=class extends Os{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Y2=200,J2=204;function a_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect}}var O0=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ps)o=n;else{let c;i.headers instanceof ci?c=i.headers:c=new ci(i.headers);let l;i.params&&(i.params instanceof vr?l=i.params:l=new vr({fromObject:i.params})),o=new Ps(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let s=K(o).pipe(sr(c=>this.handler.handle(c)));if(n instanceof Ps||i.observe==="events")return s;let a=s.pipe(lt(c=>c instanceof Qc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new O(2806,!1);return c.body}));case"blob":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new O(2807,!1);return c.body}));case"text":return a.pipe(X(c=>{if(c.body!==null&&typeof c.body!="string")throw new O(2808,!1);return c.body}));case"json":default:return a.pipe(X(c=>c.body))}case"response":return a;default:throw new O(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new vr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,a_(i,r))}post(n,r,i={}){return this.request("POST",n,a_(i,r))}put(n,r,i={}){return this.request("PUT",n,a_(i,r))}static \u0275fac=function(r){return new(r||t)(q(xs))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var Z2=new U("");function X2(t,e){return e(t)}function eU(t,e,n){return(r,i)=>Ue(n,()=>e(r,o=>t(o,i)))}var F0=new U(""),L0=new U(""),V0=new U("",{providedIn:"root",factory:()=>!0});var $h=(()=>{class t extends xs{backend;injector;chain=null;pendingTasks=P(ti);contributeToStability=P(V0);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(F0),...this.injector.get(L0,[])]));this.chain=r.reduceRight((i,o)=>eU(i,o,this.injector),X2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ji(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(q(Kc),q(xe))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var tU=/^\)\]\}',?\n/,nU=RegExp(`^${P0}:`,"m");function rU(t){return"responseURL"in t&&t.responseURL?t.responseURL:nU.test(t.getAllResponseHeaders())?t.getResponseHeader(P0):null}var c_=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new O(-2800,!1);let r=this.xhrFactory;return K(null).pipe(dt(()=>new Z(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((S,M)=>s.setRequestHeader(S,M.join(","))),n.headers.has(M0)||s.setRequestHeader(M0,Q2),!n.headers.has(N0)){let S=n.detectContentTypeHeader();S!==null&&s.setRequestHeader(N0,S)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let S=n.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let S=s.statusText||"OK",M=new ci(s.getAllResponseHeaders()),L=rU(s)||n.url;return c=new Bh({headers:M,status:s.status,statusText:S,url:L}),c},h=()=>{let{headers:S,status:M,statusText:L,url:H}=l(),z=null;M!==J2&&(z=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=z?Y2:0);let Me=M>=200&&M<300;if(n.responseType==="json"&&typeof z=="string"){let pe=z;z=z.replace(tU,"");try{z=z!==""?JSON.parse(z):null}catch(D){z=pe,Me&&(Me=!1,z={error:D,text:z})}}Me?(o.next(new Qc({body:z,headers:S,status:M,statusText:L,url:H||void 0})),o.complete()):o.error(new ks({error:z,headers:S,status:M,statusText:L,url:H||void 0}))},p=S=>{let{url:M}=l(),L=new ks({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(L)},g=p;n.timeout&&(g=S=>{let{url:M}=l(),L=new ks({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:M||void 0});o.error(L)});let y=!1,w=S=>{y||(o.next(l()),y=!0);let M={type:ho.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(M.total=S.total),n.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},N=S=>{let M={type:ho.UploadProgress,loaded:S.loaded};S.lengthComputable&&(M.total=S.total),o.next(M)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",g),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",w),a!==null&&s.upload&&s.upload.addEventListener("progress",N)),s.send(a),o.next({type:ho.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",g),n.reportProgress&&(s.removeEventListener("progress",w),a!==null&&s.upload&&s.upload.removeEventListener("progress",N)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(q(lo))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),j0=new U(""),iU="XSRF-TOKEN",oU=new U("",{providedIn:"root",factory:()=>iU}),sU="X-XSRF-TOKEN",aU=new U("",{providedIn:"root",factory:()=>sU}),Yc=class{},cU=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(q(ze),q(oU))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function uU(t,e){let n=t.url.toLowerCase();if(!P(j0)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=P(Yc).getToken(),i=P(aU);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function lU(...t){let e=[O0,c_,$h,{provide:xs,useExisting:$h},{provide:Kc,useFactory:()=>P(Z2,{optional:!0})??P(c_)},{provide:F0,useValue:uU,multi:!0},{provide:j0,useValue:!0},{provide:Yc,useClass:cU}];for(let n of t)e.push(...n.\u0275providers);return Ot(e)}var U0=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(q(ze))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=q(hU),i},providedIn:"root"})}return t})(),hU=(()=>{class t extends dU{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case mn.NONE:return r;case mn.HTML:return pr(r,"HTML")?gn(r):Xy(this._doc,String(r)).toString();case mn.STYLE:return pr(r,"Style")?gn(r):r;case mn.SCRIPT:if(pr(r,"Script"))return gn(r);throw new O(5200,!1);case mn.URL:return pr(r,"URL")?gn(r):Nc(String(r));case mn.RESOURCE_URL:if(pr(r,"ResourceURL"))return gn(r);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(n){return Ky(n)}bypassSecurityTrustStyle(n){return Qy(n)}bypassSecurityTrustScript(n){return Yy(n)}bypassSecurityTrustUrl(n){return Jy(n)}bypassSecurityTrustResourceUrl(n){return Zy(n)}static \u0275fac=function(r){return new(r||t)(q(ze))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var oe="primary",du=Symbol("RouteTitle"),f_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function go(t){return new f_(t)}function K0(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function pU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vn(t[n],e[n]))return!1;return!0}function Vn(t,e){let n=t?p_(t):void 0,r=e?p_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Q0(t[i],e[i]))return!1;return!0}function p_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Q0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Y0(t){return t.length>0?t[t.length-1]:null}function Ir(t){return Ng(t)?t:uo(t)?Ie(Promise.resolve(t)):K(t)}var gU={exact:Z0,subset:X0},J0={exact:mU,subset:yU,ignored:()=>!0};function B0(t,e,n){return gU[n.paths](t.root,e.root,n.matrixParams)&&J0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function mU(t,e){return Vn(t,e)}function Z0(t,e,n){if(!fo(t.segments,e.segments)||!qh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Z0(t.children[r],e.children[r],n))return!1;return!0}function yU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Q0(t[n],e[n]))}function X0(t,e,n){return eR(t,e,e.segments,n)}function eR(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!fo(i,n)||e.hasChildren()||!qh(i,n,r))}else if(t.segments.length===n.length){if(!fo(t.segments,n)||!qh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!X0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!fo(t.segments,i)||!qh(t.segments,i,r)||!t.children[oe]?!1:eR(t.children[oe],e,o,r)}}function qh(t,e,n){return e.every((r,i)=>J0[n](t[i].parameters,r.parameters))}var Un=class{root;queryParams;fragment;_queryParamMap;constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){return EU.serialize(this)}},me=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gh(this)}},ui=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=go(this.parameters),this._parameterMap}toString(){return nR(this)}};function vU(t,e){return fo(t,e)&&t.every((n,r)=>Vn(n.parameters,e[r].parameters))}function fo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function _U(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var hu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new mo,providedIn:"root"})}return t})(),mo=class{parse(e){let n=new m_(e);return new Un(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Jc(e.root,!0)}`,r=TU(e.queryParams),i=typeof e.fragment=="string"?`#${IU(e.fragment)}`:"";return`${n}${r}${i}`}},EU=new mo;function Gh(t){return t.segments.map(e=>nR(e)).join("/")}function Jc(t,e){if(!t.hasChildren())return Gh(t);if(e){let n=t.children[oe]?Jc(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${Jc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=_U(t,(r,i)=>i===oe?[Jc(t.children[oe],!1)]:[`${i}:${Jc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${Gh(t)}/${n[0]}`:`${Gh(t)}/(${n.join("//")})`}}function tR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hh(t){return tR(t).replace(/%3B/gi,";")}function IU(t){return encodeURI(t)}function g_(t){return tR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wh(t){return decodeURIComponent(t)}function $0(t){return Wh(t.replace(/\+/g,"%20"))}function nR(t){return`${g_(t.path)}${wU(t.parameters)}`}function wU(t){return Object.entries(t).map(([e,n])=>`;${g_(e)}=${g_(n)}`).join("")}function TU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Hh(n)}=${Hh(i)}`).join("&"):`${Hh(n)}=${Hh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var DU=/^[^\/()?;#]+/;function u_(t){let e=t.match(DU);return e?e[0]:""}var bU=/^[^\/()?;=#]+/;function CU(t){let e=t.match(bU);return e?e[0]:""}var SU=/^[^=?&#]+/;function AU(t){let e=t.match(SU);return e?e[0]:""}var RU=/^[^&#]+/;function NU(t){let e=t.match(RU);return e?e[0]:""}var m_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new me(e,n)),r}parseSegment(){let e=u_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new ui(Wh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=CU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=u_(this.remaining);i&&(r=i,this.capture(r))}e[Wh(n)]=Wh(r)}parseQueryParam(e){let n=AU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=NU(this.remaining);s&&(r=s,this.capture(r))}let i=$0(n),o=$0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=u_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[oe]:new me([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function rR(t){return t.segments.length>0?new me([],{[oe]:t}):t}function iR(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=iR(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new me(t.segments,e);return MU(n)}function MU(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new me(t.segments.concat(e.segments),e.children)}return t}function li(t){return t instanceof Un}function oR(t,e,n=null,r=null){let i=sR(t);return aR(i,e,n,r)}function sR(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new me(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=rR(r);return e??i}function aR(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return l_(i,i,i,n,r);let o=PU(e);if(o.toRoot())return l_(i,i,new me([],{}),n,r);let s=kU(o,i,t),a=s.processChildren?Xc(s.segmentGroup,s.index,o.commands):uR(s.segmentGroup,s.index,o.commands);return l_(i,s.segmentGroup,a,n,r)}function Kh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function nu(t){return typeof t=="object"&&t!=null&&t.outlets}function l_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=cR(t,e,n);let a=rR(iR(s));return new Un(a,o,i)}function cR(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=cR(o,e,n)}),new me(t.segments,r)}var Qh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Kh(r[0]))throw new O(4003,!1);let i=r.find(nu);if(i&&i!==Y0(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function PU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Qh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Qh(n,e,r)}var Vs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function kU(t,e,n){if(t.isAbsolute)return new Vs(e,!0,0);if(!n)return new Vs(e,!1,NaN);if(n.parent===null)return new Vs(n,!0,0);let r=Kh(t.commands[0])?0:1,i=n.segments.length-1+r;return xU(n,i,t.numberOfDoubleDots)}function xU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Vs(r,!1,i-o)}function OU(t){return nu(t[0])?t[0].outlets:{[oe]:t}}function uR(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return Xc(t,e,n);let r=FU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new me(t.segments.slice(0,r.pathIndex),{});return o.children[oe]=new me(t.segments.slice(r.pathIndex),t.children),Xc(o,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?y_(t,e,n):r.match?Xc(t,0,i):y_(t,e,n)}function Xc(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=OU(n),i={};if(Object.keys(r).some(o=>o!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let o=Xc(t.children[oe],e,n);return new me(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=uR(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(t.segments,i)}}function FU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(nu(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!z0(c,l,s))return o;r+=2}else{if(!z0(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function y_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(nu(o)){let c=LU(o.outlets);return new me(r,c)}if(i===0&&Kh(n[0])){let c=t.segments[e];r.push(new ui(c.path,H0(n[0]))),i++;continue}let s=nu(o)?o.outlets[oe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Kh(a)?(r.push(new ui(s,H0(a))),i+=2):(r.push(new ui(s,{})),i++)}return new me(r,{})}function LU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=y_(new me([],{}),0,r))}),e}function H0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function z0(t,e,n){return t==n.path&&Vn(e,n.parameters)}var eu="imperative",rt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(rt||{}),qt=class{id;url;constructor(e,n){this.id=e,this.url=n}},yo=class extends qt{type=rt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_n=class extends qt{urlAfterRedirects;type=rt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(Mt||{}),ru=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ru||{}),jn=class extends qt{reason;code;type=rt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_r=class extends qt{reason;code;type=rt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Us=class extends qt{error;target;type=rt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},iu=class extends qt{urlAfterRedirects;state;type=rt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yh=class extends qt{urlAfterRedirects;state;type=rt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jh=class extends qt{urlAfterRedirects;state;shouldActivate;type=rt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zh=class extends qt{urlAfterRedirects;state;type=rt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xh=class extends qt{urlAfterRedirects;state;type=rt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ef=class{route;type=rt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tf=class{route;type=rt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},nf=class{snapshot;type=rt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rf=class{snapshot;type=rt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},of=class{snapshot;type=rt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sf=class{snapshot;type=rt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ou=class{},Bs=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function VU(t){return!(t instanceof ou)&&!(t instanceof Bs)}function jU(t,e){return t.providers&&!t._injector&&(t._injector=xc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function vn(t){return t.outlet||oe}function UU(t,e){let n=t.filter(r=>vn(r)===e);return n.push(...t.filter(r=>vn(r)!==e)),n}function zs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var af=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return zs(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new qs(this.rootInjector)}},qs=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new af(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(q(xe))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=v_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=v_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=__(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return __(e,this._root).map(n=>n.value)}};function v_(t,e){if(t===e.value)return e;for(let n of e.children){let r=v_(t,n);if(r)return r}return null}function __(t,e){if(t===e.value)return[e];for(let n of e.children){let r=__(t,n);if(r.length)return r.unshift(e),r}return[]}var zt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ls(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var su=class extends cf{snapshot;constructor(e,n){super(e),this.snapshot=n,S_(this,e)}toString(){return this.snapshot.toString()}};function lR(t){let e=BU(t),n=new ut([new ui("",{})]),r=new ut({}),i=new ut({}),o=new ut({}),s=new ut(""),a=new Er(n,r,o,s,i,oe,t,e.root);return a.snapshot=e.root,new su(new zt(a,[]),e)}function BU(t){let e={},n={},r={},i="",o=new po([],e,r,i,n,oe,t,null,{});return new au("",new zt(o,[]))}var Er=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(l=>l[du]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>go(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>go(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function uf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&hR(i)&&(r.resolve[du]=i.title),r}var po=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[du]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=go(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},au=class extends cf{url;constructor(e,n){super(n),this.url=e,S_(this,n)}toString(){return dR(this._root)}};function S_(t,e){e.value._routerState=t,e.children.forEach(n=>S_(t,n))}function dR(t){let e=t.children.length>0?` { ${t.children.map(dR).join(", ")} } `:"";return`${t.value}${e}`}function d_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vn(e.params,n.params)||t.paramsSubject.next(n.params),pU(e.url,n.url)||t.urlSubject.next(n.url),Vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function E_(t,e){let n=Vn(t.params,e.params)&&vU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||E_(t.parent,e.parent))}function hR(t){return typeof t.title=="string"||t.title===null}var fR=new U(""),A_=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new _t;deactivateEvents=new _t;attachEvents=new _t;detachEvents=new _t;routerOutletData=BA(void 0);parentContexts=P(qs);location=P(ii);changeDetector=P(Rs);inputBinder=P(ff,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new I_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=On({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[so]})}return t})(),I_=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Er?this.route:e===qs?this.childContexts:e===fR?this.outletData:this.parent.get(e,n)}},ff=new U("");var R_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=vv({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ih(0,"router-outlet")},dependencies:[A_],encapsulation:2})}return t})();function N_(t){let e=t.children&&t.children.map(N_),n=e?ye(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=R_),n}function $U(t,e,n){let r=cu(t,e._root,n?n._root:void 0);return new su(r,e)}function cu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=HU(t,e,n);return new zt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>cu(t,a)),s}}let r=zU(e.value),i=e.children.map(o=>cu(t,o));return new zt(r,i)}}function HU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return cu(t,r,i);return cu(t,r)})}function zU(t){return new Er(new ut(t.url),new ut(t.params),new ut(t.queryParams),new ut(t.fragment),new ut(t.data),t.outlet,t.component,t)}var $s=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},pR="ngNavigationCancelingError";function lf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gR(!1,Mt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function gR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[pR]=!0,n.cancellationCode=e,n}function qU(t){return mR(t)&&li(t.url)}function mR(t){return!!t&&t[pR]}var GU=(t,e,n,r)=>X(i=>(new w_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),w_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),d_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ls(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ls(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new sf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new rf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(d_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),d_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},df=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},js=class{component;route;constructor(e,n){this.component=e,this.route=n}};function WU(t,e,n){let r=t._root,i=e?e._root:null;return Zc(r,i,n,[r.value])}function KU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Gs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!tm(t)?t:e.get(t):r}function Zc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ls(e);return t.children.forEach(s=>{QU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tu(a,n.getContext(s),i)),i}function QU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=YU(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new df(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Zc(t,e,a?a.children:null,r,i):Zc(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new js(a.outlet.component,s))}else s&&tu(e,a,i),i.canActivateChecks.push(new df(r)),o.component?Zc(t,null,a?a.children:null,r,i):Zc(t,null,n,r,i);return i}function YU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!fo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fo(t.url,e.url)||!Vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!E_(t,e)||!Vn(t.queryParams,e.queryParams);case"paramsChange":default:return!E_(t,e)}}function tu(t,e,n){let r=Ls(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?tu(s,e.children.getContext(o),n):tu(s,null,n):tu(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new js(e.outlet.component,i)):n.canDeactivateChecks.push(new js(null,i)):n.canDeactivateChecks.push(new js(null,i))}function fu(t){return typeof t=="function"}function JU(t){return typeof t=="boolean"}function ZU(t){return t&&fu(t.canLoad)}function XU(t){return t&&fu(t.canActivate)}function eB(t){return t&&fu(t.canActivateChild)}function tB(t){return t&&fu(t.canDeactivate)}function nB(t){return t&&fu(t.canMatch)}function yR(t){return t instanceof ir||t?.name==="EmptyError"}var zh=Symbol("INITIAL_VALUE");function Hs(){return dt(t=>Bl(t.map(e=>e.pipe(bn(1),zl(zh)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===zh)return zh;if(n===!1||rB(n))return n}return!0}),lt(e=>e!==zh),bn(1)))}function rB(t){return li(t)||t instanceof $s}function iB(t,e){return He(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?K(ye(V({},n),{guardsResult:!0})):oB(s,r,i,t).pipe(He(a=>a&&JU(a)?sB(r,o,t,e):K(a)),X(a=>ye(V({},n),{guardsResult:a})))})}function oB(t,e,n,r){return Ie(t).pipe(He(i=>dB(i.component,i.route,n,e,r)),ar(i=>i!==!0,!0))}function sB(t,e,n,r){return Ie(e).pipe(sr(i=>ns(cB(i.route.parent,r),aB(i.route,r),lB(t,i.path,n),uB(t,i.route,n))),ar(i=>i!==!0,!0))}function aB(t,e){return t!==null&&e&&e(new of(t)),K(!0)}function cB(t,e){return t!==null&&e&&e(new nf(t)),K(!0)}function uB(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>Za(()=>{let s=zs(e)??n,a=Gs(o,s),c=XU(a)?a.canActivate(e,t):Ue(s,()=>a(e,t));return Ir(c).pipe(ar())}));return K(i).pipe(Hs())}function lB(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>KU(s)).filter(s=>s!==null).map(s=>Za(()=>{let a=s.guards.map(c=>{let l=zs(s.node)??n,h=Gs(c,l),p=eB(h)?h.canActivateChild(r,t):Ue(l,()=>h(r,t));return Ir(p).pipe(ar())});return K(a).pipe(Hs())}));return K(o).pipe(Hs())}function dB(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let c=zs(e)??i,l=Gs(a,c),h=tB(l)?l.canDeactivate(t,e,n,r):Ue(c,()=>l(t,e,n,r));return Ir(h).pipe(ar())});return K(s).pipe(Hs())}function hB(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=Gs(s,t),c=ZU(a)?a.canLoad(e,n):Ue(t,()=>a(e,n));return Ir(c)});return K(o).pipe(Hs(),vR(r))}function vR(t){return wl(et(e=>{if(typeof e!="boolean")throw lf(t,e)}),X(e=>e===!0))}function fB(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=Gs(s,t),c=nB(a)?a.canMatch(e,n):Ue(t,()=>a(e,n));return Ir(c)});return K(o).pipe(Hs(),vR(r))}var uu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},lu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Fs(t){return es(new uu(t))}function pB(t){return es(new O(4e3,!1))}function gB(t){return es(gR(!1,Mt.GuardRejected))}var T_=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[oe])return pB(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,n,r,i,o){return mB(n,i,o).pipe(X(s=>{if(s instanceof Un)throw new lu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new lu(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Un(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new me(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function mB(t,e,n){if(typeof t=="string")return K(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:h,title:p}=e;return Ir(Ue(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:p})))}var D_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yB(t,e,n,r,i){let o=_R(t,e,n);return o.matched?(r=jU(e,r),fB(r,e,n,i).pipe(X(s=>s===!0?o:V({},D_)))):K(o)}function _R(t,e,n){if(e.path==="**")return vB(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},D_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||K0)(n,t,e);if(!i)return V({},D_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function vB(t){return{matched:!0,parameters:t.length>0?Y0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function q0(t,e,n,r){return n.length>0&&IB(t,n,r)?{segmentGroup:new me(e,EB(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&wB(t,n,r)?{segmentGroup:new me(t.segments,_B(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function _B(t,e,n,r){let i={};for(let o of n)if(pf(t,e,o)&&!r[vn(o)]){let s=new me([],{});i[vn(o)]=s}return V(V({},r),i)}function EB(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&vn(r)!==oe){let i=new me([],{});n[vn(r)]=i}return n}function IB(t,e,n){return n.some(r=>pf(t,e,r)&&vn(r)!==oe)}function wB(t,e,n){return n.some(r=>pf(t,e,r))}function pf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function TB(t,e,n){return e.length===0&&!t.children[n]}var b_=class{};function DB(t,e,n,r,i,o,s="emptyOnly"){return new C_(t,e,n,r,i,s,o).recognize()}var bB=31,C_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new T_(this.urlSerializer,this.urlTree)}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=q0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:n,rootSnapshot:r})=>{let i=new zt(r,n),o=new au("",i),s=oR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new po([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,n).pipe(X(r=>({children:r,rootSnapshot:n})),or(r=>{if(r instanceof lu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof uu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(X(s=>s instanceof zt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ie(o).pipe(sr(s=>{let a=r.children[s],c=UU(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Hl((s,a)=>(s.push(...a),s)),$r(null),Pg(),He(s=>{if(s===null)return Fs(r);let a=ER(s);return CB(a),K(a)}))}processSegment(e,n,r,i,o,s,a){return Ie(n).pipe(sr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(or(l=>{if(l instanceof uu)return K(null);throw l}))),ar(c=>!!c),or(c=>{if(yR(c))return TB(r,i,o)?K(new b_):Fs(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return vn(r)!==s&&(s===oe||!pf(i,o,r))?Fs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Fs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=_R(n,i,o);if(!c)return Fs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bB&&(this.allowRedirects=!1));let y=new po(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,G0(i),vn(i),i.component??i._loadedComponent??null,i,W0(i)),w=uf(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(w.params),y.data=Object.freeze(w.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(dt(S=>this.applyRedirects.lineralizeSegments(i,S)),He(S=>this.processSegment(e,r,n,S.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=yB(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(dt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(dt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=c,w=new po(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,G0(r),vn(r),r.component??r._loadedComponent??null,r,W0(r)),N=uf(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data);let{segmentGroup:S,slicedSegments:M}=q0(n,g,y,l);if(M.length===0&&S.hasChildren())return this.processChildren(h,l,S,w).pipe(X(H=>new zt(w,H)));if(l.length===0&&M.length===0)return K(new zt(w,[]));let L=vn(r)===o;return this.processSegment(h,l,S,M,L?oe:o,!0,w).pipe(X(H=>new zt(w,H instanceof zt?[H]:[])))}))):Fs(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):hB(e,n,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,n).pipe(et(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):gB(n))):K({routes:[],injector:e})}};function CB(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function SB(t){let e=t.value.routeConfig;return e&&e.path===""}function ER(t){let e=[],n=new Set;for(let r of t){if(!SB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ER(r.children);e.push(new zt(r.value,i))}return e.filter(r=>!n.has(r))}function G0(t){return t.data||{}}function W0(t){return t.resolve||{}}function AB(t,e,n,r,i,o){return He(s=>DB(t,e,n,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:c})=>ye(V({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function RB(t,e){return He(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of IR(c))s.add(l);let a=0;return Ie(s).pipe(sr(c=>o.has(c)?NB(c,r,t,e):(c.data=uf(c,c.parent,t).resolve,K(void 0))),et(()=>a++),rs(1),He(c=>a===s.size?K(n):kt))})}function IR(t){let e=t.children.map(n=>IR(n)).flat();return[t,...e]}function NB(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!hR(i)&&(o[du]=i.title),Za(()=>(t.data=uf(t,t.parent,n).resolve,MB(o,t,e,r).pipe(X(s=>(t._resolvedData=s,t.data=V(V({},t.data),s),null)))))}function MB(t,e,n,r){let i=p_(t);if(i.length===0)return K({});let o={};return Ie(i).pipe(He(s=>PB(t[s],e,n,r).pipe(ar(),et(a=>{if(a instanceof $s)throw lf(new mo,a);o[s]=a}))),rs(1),X(()=>o),or(s=>yR(s)?kt:es(s)))}function PB(t,e,n,r){let i=zs(e)??r,o=Gs(t,i),s=o.resolve?o.resolve(e,n):Ue(i,()=>o(e,n));return Ir(s)}function h_(t){return dt(e=>{let n=t(e);return n?Ie(n).pipe(X(()=>e)):K(e)})}var M_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(n){return n.data[du]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(wR),providedIn:"root"})}return t})(),wR=(()=>{class t extends M_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(q(U0))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ws=new U("",{providedIn:"root",factory:()=>({})}),pu=new U(""),TR=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(kv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ir(Ue(n,()=>r.loadComponent())).pipe(X(bR),et(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ji(()=>{this.componentLoaders.delete(r)})),o=new Yo(i,()=>new Ye).pipe(Qo());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=DR(r,this.compiler,n,this.onLoadEndListener).pipe(ji(()=>{this.childrenLoaders.delete(r)})),s=new Yo(o,()=>new Ye).pipe(Qo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DR(t,e,n,r){return Ir(Ue(n,()=>t.loadChildren())).pipe(X(bR),He(i=>i instanceof mh||Array.isArray(i)?K(i):Ie(e.compileModuleAsync(i))),X(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(pu,[],{optional:!0,self:!0}).flat()),{routes:s.map(N_),injector:o}}))}function kB(t){return t&&typeof t=="object"&&"default"in t}function bR(t){return kB(t)?t.default:t}var gf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(xB),providedIn:"root"})}return t})(),xB=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),CR=new U("");var SR=new U(""),AR=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ye;transitionAbortWithErrorSubject=new Ye;configLoader=P(TR);environmentInjector=P(xe);destroyRef=P(ei);urlSerializer=P(hu);rootContexts=P(qs);location=P(Ms);inputBindingEnabled=P(ff,{optional:!0})!==null;titleStrategy=P(M_);options=P(Ws,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(gf);createViewTransition=P(CR,{optional:!0});navigationErrorHandler=P(SR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ef(i)),r=i=>this.events.next(new tf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ye(V({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new ut(null),this.transitions.pipe(lt(r=>r!==null),dt(r=>{let i=!1;return K(r).pipe(dt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),kt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ye(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new _r(o.id,this.urlSerializer.serialize(o.rawUrl),c,ru.IgnoredSameUrlNavigation)),o.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return K(o).pipe(dt(c=>(this.events.next(new yo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?kt:Promise.resolve(c))),AB(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),et(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ye(V({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new iu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new yo(c,this.urlSerializer.serialize(l),h,p);this.events.next(y);let w=lR(this.rootComponentType).snapshot;return this.currentTransition=r=ye(V({},o),{targetSnapshot:w,urlAfterRedirects:l,extras:ye(V({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,K(r)}else{let c="";return this.events.next(new _r(o.id,this.urlSerializer.serialize(o.extractedUrl),c,ru.IgnoredByUrlHandlingStrategy)),o.resolve(!1),kt}}),et(o=>{let s=new Yh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),X(o=>(this.currentTransition=r=ye(V({},o),{guards:WU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),iB(this.environmentInjector,o=>this.events.next(o)),et(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw lf(this.urlSerializer,o.guardsResult);let s=new Jh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),lt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Mt.GuardRejected),!1)),h_(o=>{if(o.guards.canActivateChecks.length!==0)return K(o).pipe(et(s=>{let a=new Zh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),dt(s=>{let a=!1;return K(s).pipe(RB(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Mt.NoDataFromResolver)}}))}),et(s=>{let a=new Xh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),h_(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=zs(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(et(h=>{a.component=h}),X(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Bl(s(o.targetSnapshot.root)).pipe($r(null),bn(1))}),h_(()=>this.afterPreactivation()),dt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ie(a).pipe(X(()=>r)):K(r)}),X(o=>{let s=$U(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ye(V({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),et(()=>{this.events.next(new ou)}),GU(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),bn(1),ql(new Z(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(lt(()=>!i&&!r.targetRouterState),et(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Mt.Aborted)}))),et({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _n(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ql(this.transitionAbortWithErrorSubject.pipe(et(o=>{throw o}))),ji(()=>{i||this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),or(o=>{if(this.destroyed)return r.resolve(!1),kt;if(i=!0,mR(o))this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),qU(o)?this.events.next(new Bs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Us(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ue(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof $s){let{message:c,cancellationCode:l}=lf(this.urlSerializer,a);this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Bs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return kt}))}))}cancelNavigationTransition(n,r,i){let o=new jn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function OB(t){return t!==eu}var RR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(FB),providedIn:"root"})}return t})(),hf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},FB=(()=>{class t extends hf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ih(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NR=(()=>{class t{urlSerializer=P(hu);options=P(Ws,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Ms);urlHandlingStrategy=P(gf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Un?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=lR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(LB),providedIn:"root"})}return t})(),LB=(()=>{class t extends NR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof yo?this.updateStateMemento():n instanceof _r?this.commitTransition(r):n instanceof iu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ou?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof jn&&n.code!==Mt.SupersededByNewNavigation&&n.code!==Mt.Redirect?this.restoreHistory(r):n instanceof Us?this.restoreHistory(r,!0):n instanceof _n&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ih(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function P_(t,e){t.events.pipe(lt(n=>n instanceof _n||n instanceof jn||n instanceof Us||n instanceof _r),X(n=>n instanceof _n||n instanceof _r?0:(n instanceof jn?n.code===Mt.Redirect||n.code===Mt.SupersededByNewNavigation:!1)?2:1),lt(n=>n!==2),bn(1)).subscribe(()=>{e()})}var VB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ks=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(yh);stateManager=P(NR);options=P(Ws,{optional:!0})||{};pendingTasks=P(kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(AR);urlSerializer=P(hu);location=P(Ms);urlHandlingStrategy=P(gf);injector=P(xe);_events=new Ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(RR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(pu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(ff,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ke;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jn&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _n)this.navigated=!0;else if(r instanceof Bs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||OB(i.source)},s);this.scheduleNavigation(a,eu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}VU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),eu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=V({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Rt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(N_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=sR(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return aR(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=li(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,eu,null,r)}navigate(n,r={skipLocationChange:!1}){return UB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=V({},VB):r===!1?i=V({},jB):i=r,li(n))return B0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return B0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,c=g});let h=this.pendingTasks.add();return P_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function UB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new O(4008,!1)}var mf=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=_c(null);get href(){return Ss(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ye;applicationErrorHandler=P(Rt);options=P(Ws,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new Dh("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof _n&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(li(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:li(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(Ee(Ks),Ee(Er),Rc("tabindex"),Ee(ao),Ee(pn),Ee(Ns))};static \u0275dir=On({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&wh("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Eh("href",i.reactiveHref(),ev)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",bh],skipLocationChange:[2,"skipLocationChange","skipLocationChange",bh],replaceUrl:[2,"replaceUrl","replaceUrl",bh],routerLink:"routerLink"},features:[so]})}return t})(),$B=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new _t;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof _n&&this.update()})}ngAfterContentInit(){K(this.links.changes,K(null)).pipe(ts()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ie(n).pipe(ts()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=HB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(Ee(Ks),Ee(pn),Ee(ao),Ee(Rs),Ee(mf,8))};static \u0275dir=On({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Rv(o,mf,5),r&2){let s;Nv(s=Mv())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[so]})}return t})();function HB(t){return!!t.paths}var zB=new U("");function qB(t,...e){return Ot([{provide:pu,multi:!0,useValue:t},[],{provide:Er,useFactory:GB,deps:[Ks]},{provide:_h,multi:!0,useFactory:WB},e.map(n=>n.\u0275providers)])}function GB(t){return t.routerState.root}function WB(){let t=P(Ze);return e=>{let n=t.get(si);if(e!==n.components[0])return;let r=t.get(Ks),i=t.get(KB);t.get(QB)===1&&r.initialNavigation(),t.get(YB,null,{optional:!0})?.setUpPreloading(),t.get(zB,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var KB=new U("",{factory:()=>new Ye}),QB=new U("",{providedIn:"root",factory:()=>1});var YB=new U("");var MR=()=>{};var xR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},yf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;c||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new x_;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},x_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ZB=function(t){let e=xR(t);return yf.encodeByteArray(e,!0)},mu=function(t){return ZB(t).replace(/\./g,"")},vf=function(t){try{return yf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function F_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var XB=()=>F_().__FIREBASE_DEFAULTS__,e$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&vf(t[1]);return e&&JSON.parse(e)},_f=()=>{try{return MR()||XB()||e$()||t$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},L_=t=>{var e,n;return(n=(e=_f())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OR=t=>{let e=L_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},V_=()=>{var t;return(t=_f())===null||t===void 0?void 0:t.config},j_=t=>{var e;return(e=_f())===null||e===void 0?void 0:e[`_${t}`]};var vo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function di(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Ef(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function FR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mu(JSON.stringify(n)),mu(JSON.stringify(s)),""].join(".")}var gu={};function n$(){let t={prod:[],emulator:[]};for(let e of Object.keys(gu))gu[e]?t.emulator.push(e):t.prod.push(e);return t}function r$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var PR=!1;function If(t,e){if(typeof window>"u"||typeof document>"u"||!di(window.location.host)||gu[t]===e||gu[t]||PR)return;gu[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=n$().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{PR=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=r$(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),S=document.getElementById(N)||document.createElement("a"),M=n("preprendIcon"),L=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let H=g.element;a(H),h(S,N);let z=l();c(L,M),H.append(L,w,S,z),document.body.appendChild(H)}o?(w.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function i$(){var t;let e=(t=_f())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){let t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $R(){return!i$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yu(){try{return typeof indexedDB=="object"}catch{return!1}}function HR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var o$="FirebaseError",Gt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o$,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}},En=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?s$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gt(i,a,r)}};function s$(t,e){return t.replace(a$,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var a$=/\{\$([^}]+)}/g;function zR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(kR(o)&&kR(s)){if(!Bn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function kR(t){return t!==null&&typeof t=="object"}function vu(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ys(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qR(t,e){let n=new O_(t,e);return n.subscribe.bind(n)}var O_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");c$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=k_),i.error===void 0&&(i.error=k_),i.complete===void 0&&(i.complete=k_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function c$(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function k_(){}var ioe=4*60*60*1e3;function Be(t){return t&&t._delegate?t._delegate:t}var Pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _o="[DEFAULT]";var U_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new vo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l$(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function u$(t){return t===_o?void 0:t}function l$(t){return t.instantiationMode==="EAGER"}var wf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new U_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var d$=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),h$={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},f$=le.INFO,p$={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},g$=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=p$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$n=class{constructor(e){this.name=e,this._logLevel=f$,this._logHandler=g$,this._userLogHandler=null,d$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var m$=(t,e)=>e.some(n=>t instanceof n),GR,WR;function y$(){return GR||(GR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v$(){return WR||(WR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var KR=new WeakMap,$_=new WeakMap,QR=new WeakMap,B_=new WeakMap,z_=new WeakMap;function _$(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Hn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&KR.set(n,t)}).catch(()=>{}),z_.set(e,t),e}function E$(t){if($_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});$_.set(t,e)}var H_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YR(t){H_=t(H_)}function I$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Tf(this),e,...n);return QR.set(r,e.sort?e.sort():[e]),Hn(r)}:v$().includes(t)?function(...e){return t.apply(Tf(this),e),Hn(KR.get(this))}:function(...e){return Hn(t.apply(Tf(this),e))}}function w$(t){return typeof t=="function"?I$(t):(t instanceof IDBTransaction&&E$(t),m$(t,y$())?new Proxy(t,H_):t)}function Hn(t){if(t instanceof IDBRequest)return _$(t);if(B_.has(t))return B_.get(t);let e=w$(t);return e!==t&&(B_.set(t,e),z_.set(e,t)),e}var Tf=t=>z_.get(t);function ZR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Hn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Hn(s.result),c.oldVersion,c.newVersion,Hn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var T$=["get","getKey","getAll","getAllKeys","count"],D$=["put","add","delete","clear"],q_=new Map;function JR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(q_.get(e))return q_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=D$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||T$.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return q_.set(e,o),o}YR(t=>ye(V({},t),{get:(e,n,r)=>JR(e,n)||t.get(e,n,r),has:(e,n)=>!!JR(e,n)||t.has(e,n)}));var W_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b$(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function b$(t){let e=t.getComponent();return e?.type==="VERSION"}var K_="@firebase/app",XR="0.13.2";var wr=new $n("@firebase/app"),C$="@firebase/app-compat",S$="@firebase/analytics-compat",A$="@firebase/analytics",R$="@firebase/app-check-compat",N$="@firebase/app-check",M$="@firebase/auth",P$="@firebase/auth-compat",k$="@firebase/database",x$="@firebase/data-connect",O$="@firebase/database-compat",F$="@firebase/functions",L$="@firebase/functions-compat",V$="@firebase/installations",j$="@firebase/installations-compat",U$="@firebase/messaging",B$="@firebase/messaging-compat",$$="@firebase/performance",H$="@firebase/performance-compat",z$="@firebase/remote-config",q$="@firebase/remote-config-compat",G$="@firebase/storage",W$="@firebase/storage-compat",K$="@firebase/firestore",Q$="@firebase/ai",Y$="@firebase/firestore-compat",J$="firebase",Z$="11.10.0";var Q_="[DEFAULT]",X$={[K_]:"fire-core",[C$]:"fire-core-compat",[A$]:"fire-analytics",[S$]:"fire-analytics-compat",[N$]:"fire-app-check",[R$]:"fire-app-check-compat",[M$]:"fire-auth",[P$]:"fire-auth-compat",[k$]:"fire-rtdb",[x$]:"fire-data-connect",[O$]:"fire-rtdb-compat",[F$]:"fire-fn",[L$]:"fire-fn-compat",[V$]:"fire-iid",[j$]:"fire-iid-compat",[U$]:"fire-fcm",[B$]:"fire-fcm-compat",[$$]:"fire-perf",[H$]:"fire-perf-compat",[z$]:"fire-rc",[q$]:"fire-rc-compat",[G$]:"fire-gcs",[W$]:"fire-gcs-compat",[K$]:"fire-fst",[Y$]:"fire-fst-compat",[Q$]:"fire-vertex","fire-js":"fire-js",[J$]:"fire-js-all"};var _u=new Map,eH=new Map,Y_=new Map;function eN(t,e){try{t.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function In(t){let e=t.name;if(Y_.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Y_.set(e,t);for(let n of _u.values())eN(n,t);for(let n of eH.values())eN(n,t);return!0}function Js(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ut(t){return t==null?!1:t.settings!==void 0}var tH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new En("app","Firebase",tH);var J_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}};var fi=Z$;function iN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Q_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw hi.create("bad-app-name",{appName:String(i)});if(n||(n=V_()),!n)throw hi.create("no-options");let o=_u.get(i);if(o){if(Bn(n,o.options)&&Bn(r,o.config))return o;throw hi.create("duplicate-app",{appName:i})}let s=new wf(i);for(let c of Y_.values())s.addComponent(c);let a=new J_(n,r,s);return _u.set(i,a),a}function Eo(t=Q_){let e=_u.get(t);if(!e&&t===Q_&&V_())return iN();if(!e)throw hi.create("no-app",{appName:t});return e}function Df(){return Array.from(_u.values())}function Ve(t,e,n){var r;let i=(r=X$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(a.join(" "));return}In(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var nH="firebase-heartbeat-database",rH=1,Eu="firebase-heartbeat-store",G_=null;function oN(){return G_||(G_=ZR(nH,rH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),G_}function iH(t){return _(this,null,function*(){try{let n=(yield oN()).transaction(Eu),r=yield n.objectStore(Eu).get(sN(t));return yield n.done,r}catch(e){if(e instanceof Gt)wr.warn(e.message);else{let n=hi.create("idb-get",{originalErrorMessage:e?.message});wr.warn(n.message)}}})}function tN(t,e){return _(this,null,function*(){try{let r=(yield oN()).transaction(Eu,"readwrite");yield r.objectStore(Eu).put(e,sN(t)),yield r.done}catch(n){if(n instanceof Gt)wr.warn(n.message);else{let r=hi.create("idb-set",{originalErrorMessage:n?.message});wr.warn(r.message)}}})}function sN(t){return`${t.name}!${t.options.appId}`}var oH=1024,sH=30,Z_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new X_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>sH){let s=cH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=nN(),{heartbeatsToSend:r,unsentEntries:i}=aH(this._heartbeatsCache.heartbeats),o=mu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wr.warn(n),""}})}};function nN(){return new Date().toISOString().substring(0,10)}function aH(t,e=oH){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var X_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return yu()?HR().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield iH(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return tN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return tN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function rN(t){return mu(JSON.stringify({version:2,heartbeats:t})).length}function cH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function uH(t){In(new Pt("platform-logger",e=>new W_(e),"PRIVATE")),In(new Pt("heartbeat",e=>new Z_(e),"PRIVATE")),Ve(K_,XR,t),Ve(K_,XR,"esm2017"),Ve("fire-js","")}uH("");var lH="firebase",dH="11.10.0";Ve(lH,dH,"app");function aN(t){t===void 0&&(t=P(Ze));let e=t.get(ti);return n=>new Z(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var pi=new As("ANGULARFIRE2_VERSION");function Iu(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xs=(t,e)=>{let n=e?[e]:Df(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Zs=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Zs||{}),cN=Uv()&&typeof Zone<"u"?Zs.WARN:Zs.SILENT;var bf=class{zone;delegate;constructor(e,n=Rg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},gi=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=P(ge);this.outsideAngular=n.runOutsideAngular(()=>new bf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new bf(typeof Zone>"u"?void 0:Zone.current,Ja))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uN=!1;function hH(t,e){!uN&&(cN>Zs.SILENT||Uv())&&(uN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),cN>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function fH(t){let e=P(ge,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Io(t){let e=P(ge,{optional:!0});return e?e.run(()=>t()):t()}var pH=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Ue(n,()=>Io(()=>t.apply(void 0,r)))),wn=(t,e,n)=>(n||=e?Zs.WARN:Zs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(gi),s=P(ti),a=P(xe)}catch{return hH(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Io(()=>s.add())),i[l]=pH(i[l],r,a));let c=fH(()=>t.apply(this,i));return e?c instanceof Z?c.pipe(Br(o.outsideAngular),Ur(o.insideAngular),aN(a)):c instanceof Promise?Io(()=>{let l=s.add();return new Promise((h,p)=>{c.then(g=>Ue(a,()=>Io(()=>h(g))),g=>Ue(a,()=>Io(()=>p(g)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Io(()=>c):c instanceof Z?c.pipe(Br(o.outsideAngular),Ur(o.insideAngular)):Io(()=>c)});var Tr=class{constructor(e){return e}},wo=class{constructor(){return Df()}};function gH(t){return t&&t.length===1?t[0]:new Tr(Eo())}var eE=new U("angularfire2._apps"),mH={provide:Tr,useFactory:gH,deps:[[new Nt,eE]]},yH={provide:wo,deps:[[new Nt,eE]]};function vH(t){return(e,n)=>{let r=n.get(ri);Ve("angularfire",pi.full,"core"),Ve("angularfire",pi.full,"app"),Ve("angular",$A.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Tr(i)}}function Xoe(t,...e){return Ot([mH,yH,{provide:eE,useFactory:vH(t),multi:!0,deps:[ge,Ze,gi,...e]}])}var _H=new Map,EH={activated:!1,tokenObservers:[]},IH={initialized:!1,enabled:!1};function Tn(t){return _H.get(t)||Object.assign({},EH)}function fN(){return IH}var wH="https://content-firebaseappcheck.googleapis.com/v1";var TH="exchangeDebugToken",lN={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},cse=24*60*60*1e3;var rE=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new vo,this.pending.promise.catch(n=>{}),yield DH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new vo,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function DH(t){return new Promise(e=>{setTimeout(e,t)})}var bH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},mi=new En("appCheck","AppCheck",bH);function pN(t){if(!Tn(t).activated)throw mi.create("use-before-activation",{appName:t.name})}function gN(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(y){throw mi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(c.status!==200)throw mi.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(y){throw mi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw mi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function mN(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${wH}/projects/${n}/apps/${r}:${TH}?key=${i}`,body:{debug_token:e}}}var CH="firebase-app-check-database",SH=1,iE="firebase-app-check-store";var Cf=null;function AH(){return Cf||(Cf=new Promise((t,e)=>{try{let n=indexedDB.open(CH,SH);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(mi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(iE,{keyPath:"compositeKey"})}}}catch(n){e(mi.create("storage-open",{originalErrorMessage:n?.message}))}}),Cf)}function RH(t,e){return NH(MH(t),e)}function NH(t,e){return _(this,null,function*(){let r=(yield AH()).transaction(iE,"readwrite"),o=r.objectStore(iE).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(mi.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function MH(t){return`${t.options.appId}-${t.name}`}var wu=new $n("@firebase/app-check");function tE(t,e){return yu()?RH(t,e).catch(n=>{wu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function yN(){return fN().enabled}function vN(){return _(this,null,function*(){let t=fN();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var PH={error:"UNKNOWN_ERROR"};function kH(t){return yf.encodeString(JSON.stringify(t),!1)}function oE(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;pN(r);let i=Tn(r),o=i.token,s;if(o&&!Tu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Tu(l)?o=l:yield tE(r,void 0))}if(!e&&o&&Tu(o))return{token:o.token};let a=!1;if(yN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=gN(mN(r,yield vN()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield tE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?wu.warn(l.message):n&&wu.error(l),nE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Tn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?wu.warn(l.message):n&&wu.error(l),s=l}let c;return o?s?Tu(o)?c={token:o.token,internalError:s}:c=nE(s):(c={token:o.token},i.token=o,yield tE(r,o)):c=nE(s),a&&LH(r,c),c})}function xH(t){return _(this,null,function*(){let e=t.app;pN(e);let{provider:n}=Tn(e);if(yN()){let r=yield vN(),{token:i}=yield gN(mN(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function OH(t,e,n,r){let{app:i}=t,o=Tn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Tu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),dN(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>dN(t))}function _N(t,e){let n=Tn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function dN(t){let{app:e}=t,n=Tn(e),r=n.tokenRefresher;r||(r=FH(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function FH(t){let{app:e}=t;return new rE(()=>_(null,null,function*(){let n=Tn(e),r;if(n.token?r=yield oE(t,!0):r=yield oE(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Tn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},lN.RETRIAL_MIN_WAIT,lN.RETRIAL_MAX_WAIT)}function LH(t,e){let n=Tn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Tu(t){return t.expireTimeMillis-Date.now()>0}function nE(t){return{token:kH(PH),error:t}}var sE=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Tn(this.app);for(let n of e)_N(this.app,n.next);return Promise.resolve()}};function VH(t,e){return new sE(t,e)}function jH(t){return{getToken:e=>oE(t,e),getLimitedUseToken:()=>xH(t),addTokenListener:e=>OH(t,"INTERNAL",e),removeTokenListener:e=>_N(t.app,e)}}var UH="@firebase/app-check",BH="0.10.1";var $H="app-check",hN="app-check-internal";function HH(){In(new Pt($H,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return VH(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(hN).initialize()})),In(new Pt(hN,t=>{let e=t.getProvider("app-check").getImmediate();return jH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ve(UH,BH)}HH();var zH="app-check";var ea=class{constructor(){return Xs(zH)}};var qH=["localhost","0.0.0.0","127.0.0.1"],Ise=typeof window<"u"&&qH.includes(window.location.hostname);function ON(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var FN=ON,LN=new En("auth","Firebase",ON());var Pf=new $n("@firebase/auth");function GH(t,...e){Pf.logLevel<=le.WARN&&Pf.warn(`Auth (${fi}): ${t}`,...e)}function Af(t,...e){Pf.logLevel<=le.ERROR&&Pf.error(`Auth (${fi}): ${t}`,...e)}function qn(t,...e){throw ME(t,...e)}function To(t,...e){return ME(t,...e)}function VN(t,e,n){let r=Object.assign(Object.assign({},FN()),{[e]:n});return new En("auth","Firebase",r).create(e,{appName:t.name})}function Cr(t){return VN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ME(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LN.create(t,...e)}function J(t,e,...n){if(!t)throw ME(e,...n)}function Dr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Af(e),new Error(e)}function _i(t,e){t||Dr(e)}function lE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WH(){return EN()==="http:"||EN()==="https:"}function EN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function KH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WH()||jR()||"connection"in navigator)?navigator.onLine:!0}function QH(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Do=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=LR()||UR()}get(){return KH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function PE(t,e){_i(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var kf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var YH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var JH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZH=new Do(3e4,6e4);function Ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ii(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return jN(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=vu(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},l);return VR()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&di(t.emulatorConfig.host)&&(y.credentials="include"),kf.fetch()(yield UN(t,t.config.apiHost,n,p),y)}))})}function jN(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},YH),e);try{let i=new dE(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Sf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Sf(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Sf(t,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw VN(t,h,l);qn(t,h)}}catch(i){if(i instanceof Gt)throw i;qn(t,"network-request-failed",{message:String(i)})}})}function Pu(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield Ii(t,e,n,r,i);return"mfaPendingCredential"in l&&qn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function UN(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?PE(t.config,i):`${t.config.apiScheme}://${i}`;return JH.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function XH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var dE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(To(this.auth,"network-request-failed")),ZH.get())})}};function Sf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=To(t,e,r);return i.customData._tokenResponse=n,i}function IN(t){return t!==void 0&&t.enterprise!==void 0}var hE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function e4(t,e){return _(this,null,function*(){return Ii(t,"GET","/v2/recaptchaConfig",Ei(t,e))})}function t4(t,e){return _(this,null,function*(){return Ii(t,"POST","/v1/accounts:delete",e)})}function xf(t,e){return _(this,null,function*(){return Ii(t,"POST","/v1/accounts:lookup",e)})}function bu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kE(t,e=!1){return _(this,null,function*(){let n=Be(t),r=yield n.getIdToken(e),i=xE(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:bu(aE(i.auth_time)),issuedAtTime:bu(aE(i.iat)),expirationTime:bu(aE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function aE(t){return Number(t)*1e3}function xE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Af("JWT malformed, contained fewer than 3 sections"),null;try{let i=vf(n);return i?JSON.parse(i):(Af("Failed to decode base64 JWT payload"),null)}catch(i){return Af("Caught error parsing JWT payload as JSON",i?.toString()),null}}function wN(t){let e=xE(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Su(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Gt&&n4(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function n4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var fE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Au=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Of(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Su(t,xf(n,{idToken:r}));J(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?BN(o.providerUserInfo):[],a=r4(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Au(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function OE(t){return _(this,null,function*(){let e=Be(t);yield Of(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function r4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BN(t){return t.map(e=>{var{providerId:n}=e,r=bg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function i4(t,e){return _(this,null,function*(){let n=yield jN(t,{},()=>_(null,null,function*(){let r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield UN(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return t.emulatorConfig&&di(t.emulatorConfig.host)&&(c.credentials="include"),kf.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function o4(t,e){return _(this,null,function*(){return Ii(t,"POST","/v2/accounts:revokeToken",Ei(t,e))})}var Cu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");let n=wN(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield i4(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Dr("not implemented")}};function yi(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var vi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Au(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Su(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return kE(this,e)}reload(){return OE(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Of(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Ut(this.auth.app))return Promise.reject(Cr(this.auth));let e=yield this.getIdToken();return yield Su(this,t4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,M=(l=n.createdAt)!==null&&l!==void 0?l:void 0,L=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:z,isAnonymous:Me,providerData:pe,stsTokenManager:D}=n;J(H&&D,e,"internal-error");let v=Cu.fromJSON(this.name,D);J(typeof H=="string",e,"internal-error"),yi(p,e.name),yi(g,e.name),J(typeof z=="boolean",e,"internal-error"),J(typeof Me=="boolean",e,"internal-error"),yi(y,e.name),yi(w,e.name),yi(N,e.name),yi(S,e.name),yi(M,e.name),yi(L,e.name);let I=new t({uid:H,auth:e,email:g,emailVerified:z,displayName:p,isAnonymous:Me,photoURL:w,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:M,lastLoginAt:L});return pe&&Array.isArray(pe)&&(I.providerData=pe.map(T=>Object.assign({},T))),S&&(I._redirectEventId=S),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Cu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Of(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?BN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Cu;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Au(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var TN=new Map;function br(t){_i(t instanceof Function,"Expected a class definition");let e=TN.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TN.set(t,e),e)}var s4=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),pE=s4;function Rf(t,e,n){return`firebase:${t}:${e}:${n}`}var Ff=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Rf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Rf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield xf(this.auth,{idToken:e}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,e):null}return vi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(br(pE),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||br(pE),s=Rf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield xf(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield vi._fromGetAccountInfoResponse(e,g,h)}else p=vi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function DN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($N(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WN(e))return"Blackberry";if(KN(e))return"Webos";if(HN(e))return"Safari";if((e.includes("chrome/")||zN(e))&&!e.includes("edge/"))return"Chrome";if(GN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function $N(t=it()){return/firefox\//i.test(t)}function HN(t=it()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zN(t=it()){return/crios\//i.test(t)}function qN(t=it()){return/iemobile/i.test(t)}function GN(t=it()){return/android/i.test(t)}function WN(t=it()){return/blackberry/i.test(t)}function KN(t=it()){return/webos/i.test(t)}function FE(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a4(t=it()){var e;return FE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c4(){return BR()&&document.documentMode===10}function QN(t=it()){return FE(t)||GN(t)||KN(t)||WN(t)||/windows phone/i.test(t)||qN(t)}function YN(t,e=[]){let n;switch(t){case"Browser":n=DN(it());break;case"Worker":n=`${DN(it())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fi}/${r}`}var gE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function u4(n){return _(this,arguments,function*(t,e={}){return Ii(t,"GET","/v2/passwordPolicy",Ei(t,e))})}var l4=6,mE=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:l4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var yE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lf(this),this.idTokenSubscription=new Lf(this),this.beforeStateQueue=new gE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=br(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Ff.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield xf(this,{idToken:e}),r=yield vi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(Ut(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Of(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=QH()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Ut(this.app))return Promise.reject(Cr(this));let n=e?Be(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Ut(this.app)?Promise.reject(Cr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ut(this.app)?Promise.reject(Cr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(br(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield u4(this),n=new mE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new En("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield o4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&br(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield Ff.create(this,[br(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&GH(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Co(t){return Be(t)}var Lf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qR(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var zf={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d4(t){zf=t}function JN(t){return zf.loadJS(t)}function h4(){return zf.recaptchaEnterpriseScript}function f4(){return zf.gapiScript}function ZN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var vE=class{constructor(){this.enterprise=new _E}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},_E=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var p4="recaptcha-enterprise",XN="NO_RECAPTCHA",EE=class{constructor(e){this.type=p4,this.auth=Co(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){e4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new hE(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;IN(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(XN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&IN(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=h4();c.length!==0&&(c+=a),JN(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Du(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new EE(t),s;if(i)s=XN;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function IE(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Du(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Du(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Du(t,e,n);return r(t,a).catch(c=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Du(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)}))}else{let a=yield Du(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function LE(t,e){let n=Js(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Bn(o,e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}function g4(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(br);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function VE(t,e,n){let r=Co(t);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=eM(e),{host:s,port:a}=m4(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(Bn(l,r.config.emulator)&&Bn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,di(s)?(Ef(`${o}//${s}${c}`),If("Auth",!0)):i||y4()}function eM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function m4(t){let e=eM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:bN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:bN(s)}}}function bN(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function y4(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ru=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}};function v4(t,e){return _(this,null,function*(){return Ii(t,"POST","/v1/accounts:signUp",e)})}function _4(t,e){return _(this,null,function*(){return Pu(t,"POST","/v1/accounts:signInWithPassword",Ei(t,e))})}function E4(t,e){return _(this,null,function*(){return Pu(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))})}function I4(t,e){return _(this,null,function*(){return Pu(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))})}var Nu=class t extends Ru{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IE(e,n,"signInWithPassword",_4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return E4(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IE(e,r,"signUpPassword",v4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return I4(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function cE(t,e){return _(this,null,function*(){return Pu(t,"POST","/v1/accounts:signInWithIdp",Ei(t,e))})}function w4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T4(t){let e=Qs(Ys(t)).link,n=e?Qs(Ys(e)).deep_link_id:null,r=Qs(Ys(t)).deep_link_id;return(r?Qs(Ys(r)).link:null)||r||n||e||t}var Vf=class t{constructor(e){var n,r,i,o,s,a;let c=Qs(Ys(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=w4((i=c.mode)!==null&&i!==void 0?i:null);J(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=T4(e);try{return new t(n)}catch{return null}}};var tM=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Nu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Vf.parseLink(r);return J(i,"argument-error"),Nu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),jf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wE=class extends jf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function D4(t,e){return _(this,null,function*(){return Pu(t,"POST","/v1/accounts:signUp",Ei(t,e))})}var ta=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield vi._fromIdTokenResponse(e,r,i),s=CN(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=CN(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function CN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var TE=class t extends Gt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function nM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?TE._fromErrorAndOperation(t,o,e,r):o})}function b4(t,e,n=!1){return _(this,null,function*(){let r=yield Su(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ta._forOperation(t,"link",r)})}function C4(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(Ut(r.app))return Promise.reject(Cr(r));let i="reauthenticate";try{let o=yield Su(t,nM(r,i,e,t),n);J(o.idToken,r,"internal-error");let s=xE(o.idToken);J(s,r,"internal-error");let{sub:a}=s;return J(t.uid===a,r,"user-mismatch"),ta._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&qn(r,"user-mismatch"),o}})}function rM(t,e,n=!1){return _(this,null,function*(){if(Ut(t.app))return Promise.reject(Cr(t));let r="signIn",i=yield nM(t,r,e),o=yield ta._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function jE(t,e){return _(this,null,function*(){return rM(Co(t),e)})}function iM(t){return _(this,null,function*(){let e=Co(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function UE(t,e,n){return _(this,null,function*(){if(Ut(t.app))return Promise.reject(Cr(t));let r=Co(t),s=yield IE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",D4,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&iM(t),c}),a=yield ta._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function BE(t,e,n){return Ut(t.app)?Promise.reject(Cr(t)):jE(Be(t),tM.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&iM(t),r}))}function qf(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function $E(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function Gf(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function HE(t){return Be(t).signOut()}var Uf="__sak";var Bf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var S4=1e3,A4=10,R4=(()=>{class t extends Bf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);c4()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,A4):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},S4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Vr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Vr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Vr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),oM=R4;var N4=(()=>{class t extends Bf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),zE=N4;function M4(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var P4=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield M4(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function sM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var DE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=sM("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function zn(){return window}function k4(t){zn().location.href=t}function aM(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}function x4(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function O4(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F4(){return aM()?self:null}var cM="firebaseLocalStorageDb",L4=1,$f="firebaseLocalStorage",uM="fbase_key",bo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Wf(t,e){return t.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function V4(){let t=indexedDB.deleteDatabase(cM);return new bo(t).toPromise()}function bE(){let t=indexedDB.open(cM,L4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore($f,{keyPath:uM})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains($f)?e(r):(r.close(),yield V4(),e(yield bE()))}))})}function SN(t,e,n){return _(this,null,function*(){let r=Wf(t,!0).put({[uM]:e,value:n});return new bo(r).toPromise()})}function j4(t,e){return _(this,null,function*(){let n=Wf(t,!1).get(e),r=yield new bo(n).toPromise();return r===void 0?null:r.value})}function AN(t,e){let n=Wf(t,!0).delete(e);return new bo(n).toPromise()}var U4=800,B4=3,$4=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield bE(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>B4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return aM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=P4._getInstance(F4()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield x4(),!this.activeServiceWorker)return;this.sender=new DE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||O4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield bE();return yield SN(n,Uf,"1"),yield AN(n,Uf),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>SN(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>j4(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>AN(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=Wf(o,!1).getAll();return new bo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),U4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),lM=$4;var Rse=ZN("rcb"),Nse=new Do(3e4,6e4);function H4(t,e){return e?br(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Mu=class extends Ru{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cE(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cE(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cE(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function z4(t){return rM(t.auth,new Mu(t),t.bypassAuthState)}function q4(t){let{auth:e,user:n}=t;return J(n,e,"internal-error"),C4(n,new Mu(t),t.bypassAuthState)}function G4(t){return _(this,null,function*(){let{auth:e,user:n}=t;return J(n,e,"internal-error"),b4(n,new Mu(t),t.bypassAuthState)})}var CE=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z4;case"linkViaPopup":case"linkViaRedirect":return G4;case"reauthViaPopup":case"reauthViaRedirect":return q4;default:qn(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Mse=new Do(2e3,1e4);var W4="pendingRedirect",Nf=new Map,SE=class t extends CE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Nf.get(this.auth._key());if(!e){try{let r=(yield K4(this.resolver,this.auth))?yield Vr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nf.set(this.auth._key(),e)}return this.bypassAuthState||Nf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Vr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Vr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function K4(t,e){return _(this,null,function*(){let n=J4(e),r=Y4(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Q4(t,e){Nf.set(t._key(),e)}function Y4(t){return br(t._redirectPersistence)}function J4(t){return Rf(W4,t.config.apiKey,t.name)}function Z4(t,e,n=!1){return _(this,null,function*(){if(Ut(t.app))return Promise.reject(Cr(t));let r=Co(t),i=H4(r,e),s=yield new SE(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var X4=10*60*1e3,AE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ez(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(To(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X4&&this.cachedEventUids.clear(),this.cachedEventUids.has(RN(e))}saveEventToCache(e){this.cachedEventUids.add(RN(e)),this.lastProcessedEventTime=Date.now()}};function RN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ez(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dM(t);default:return!1}}function tz(n){return _(this,arguments,function*(t,e={}){return Ii(t,"GET","/v1/projects",e)})}var nz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rz=/^https?/;function iz(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield tz(t);for(let n of e)try{if(oz(n))return}catch{}qn(t,"unauthorized-domain")})}function oz(t){let e=lE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!rz.test(n))return!1;if(nz.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var sz=new Do(3e4,6e4);function NN(){let t=zn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function az(t){return new Promise((e,n)=>{var r,i,o;function s(){NN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NN(),n(To(t,"network-request-failed"))},timeout:sz.get()})}if(!((i=(r=zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=zn().gapi)===null||o===void 0)&&o.load)s();else{let a=ZN("iframefcb");return zn()[a]=()=>{gapi.load?s():n(To(t,"network-request-failed"))},JN(`${f4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Mf=null,e})}var Mf=null;function cz(t){return Mf=Mf||az(t),Mf}var uz=new Do(5e3,15e3),lz="__/auth/iframe",dz="emulator/auth/iframe",hz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pz(t){let e=t.config;J(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?PE(e,dz):`https://${t.config.authDomain}/${lz}`,r={apiKey:e.apiKey,appName:t.name,v:fi},i=fz.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${vu(r).slice(1)}`}function gz(t){return _(this,null,function*(){let e=yield cz(t),n=zn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:pz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hz,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=To(t,"network-request-failed"),a=zn().setTimeout(()=>{o(s)},uz.get());function c(){zn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var mz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yz=500,vz=600,_z="_blank",Ez="http://localhost",Hf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Iz(t,e,n,r=yz,i=vz){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},mz),{width:r.toString(),height:i.toString(),top:o,left:s}),l=it().toLowerCase();n&&(a=zN(l)?_z:n),$N(l)&&(e=e||Ez,c.scrollbars="yes");let h=Object.entries(c).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(a4(l)&&a!=="_self")return wz(e||"",a),new Hf(null);let p=window.open(e||"",a,h);J(p,t,"popup-blocked");try{p.focus()}catch{}return new Hf(p)}function wz(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Tz="__/auth/handler",Dz="emulator/auth/handler",bz=encodeURIComponent("fac");function MN(t,e,n,r,i,o){return _(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fi,eventId:i};if(e instanceof jf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",zR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof wE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield t._getAppCheckToken(),l=c?`#${bz}=${encodeURIComponent(c)}`:"";return`${Cz(t)}?${vu(a).slice(1)}${l}`})}function Cz({config:t}){return t.emulator?PE(t,Dz):`https://${t.authDomain}/${Tz}`}var uE="webStorageSupport",RE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zE,this._completeRedirectFn=Z4,this._overrideRedirectResult=Q4}_openPopup(e,n,r,i){return _(this,null,function*(){var o;_i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield MN(e,n,r,lE(),i);return Iz(e,s,sM())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield MN(e,n,r,lE(),i);return k4(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield gz(e),r=new AE(e);return n.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uE,{type:uE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[uE];s!==void 0&&n(!!s),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QN()||HN()||FE()}},hM=RE;var PN="@firebase/auth",kN="1.10.8";var NE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Sz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Az(t){In(new Pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YN(t)},l=new yE(r,i,o,c);return g4(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),In(new Pt("auth-internal",e=>{let n=Co(e.getProvider("auth").getImmediate());return(r=>new NE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(PN,kN,Sz(t)),Ve(PN,kN,"esm2017")}var Rz=5*60,Nz=j_("authIdTokenMaxAge")||Rz,xN=null,Mz=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Nz)return;let i=n?.token;xN!==i&&(xN=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function qE(t=Eo()){let e=Js(t,"auth");if(e.isInitialized())return e.getImmediate();let n=LE(t,{popupRedirectResolver:hM,persistence:[lM,oM,zE]}),r=j_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Mz(o.toString());$E(n,s,()=>s(n.currentUser)),qf(n,a=>s(a))}}let i=L_("auth");return i&&VE(n,`http://${i}`),n}function Pz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}d4({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=To("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Pz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Az("Browser");function pM(t){return new Z(function(e){var n=Gf(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var gM="auth",So=class{constructor(e){return e}},ku=class{constructor(){return Xs(gM)}};var GE=new U("angularfire2.auth-instances");function _q(t,e){let n=Iu(gM,t,e);return n&&new So(n)}function Eq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new So(r)}}var Iq={provide:ku,deps:[[new Nt,GE]]},wq={provide:So,useFactory:_q,deps:[[new Nt,GE],Tr]};function Tae(t,...e){return Ve("angularfire",pi.full,"auth"),Ot([wq,Iq,{provide:GE,useFactory:Eq(t),multi:!0,deps:[ge,Ze,gi,wo,[new Nt,ea],...e]}])}var mM=wn(pM,!0);var yM=wn(UE,!0,2);var Dae=wn(qE,!0);var vM=wn(BE,!0,2);var _M=wn(HE,!0,2);var EM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},IM={};var Sr,WE;(function(){var t;function e(D,v){function I(){}I.prototype=v.prototype,D.D=v.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(T,b,A){for(var E=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)E[tr-2]=arguments[tr];return v.prototype[b].apply(T,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,I){I||(I=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(b=0;16>b;++b)T[b]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=D.g[0],I=D.g[1],b=D.g[2];var A=D.g[3],E=v+(A^I&(b^A))+T[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[1]+3905402710&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[2]+606105819&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+T[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[5]+1200080426&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[6]+2821735955&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+T[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[9]+2336552879&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[10]+4294925233&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+T[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[13]+4254626195&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[14]+2792965006&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(b^A&(I^b))+T[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[6]+3225465664&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[11]+643717713&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+T[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[10]+38016083&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[15]+3634488961&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+T[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[14]+3275163606&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[3]+4107603335&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+T[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[2]+4243563512&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[7]+1735328473&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(I^b^A)+T[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[8]+2272392833&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[11]+1839030562&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+T[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[4]+1272893353&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[7]+4139469664&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+T[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[0]+3936430074&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[3]+3572445317&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+T[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[12]+3873151461&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[15]+530742520&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(b^(I|~A))+T[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[7]+1126891415&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[14]+2878612391&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+T[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[3]+2399980690&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[10]+4293915773&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+T[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[15]+4264355552&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[6]+2734768916&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+T[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[11]+3174756917&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[2]+718787259&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var I=v-this.blockSize,T=this.B,b=this.h,A=0;A<v;){if(b==0)for(;A<=I;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<v;)if(T[b++]=D.charCodeAt(A++),b==this.blockSize){i(this,T),b=0;break}}else for(;A<v;)if(T[b++]=D[A++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var I=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=I&255,I/=256;for(this.u(D),D=Array(16),v=I=0;4>v;++v)for(var T=0;32>T;T+=8)D[I++]=this.g[v]>>>T&255;return D};function o(D,v){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=v(D)}function s(D,v){this.h=v;for(var I=[],T=!0,b=D.length-1;0<=b;b--){var A=D[b]|0;T&&A==v||(I[b]=A,T=!1)}this.g=I}var a={};function c(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return S(l(-D));for(var v=[],I=1,T=0;D>=I;T++)v[T]=D/I|0,I*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return S(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),T=p,b=0;b<D.length;b+=8){var A=Math.min(8,D.length-b),E=parseInt(D.substring(b,b+A),v);8>A?(A=l(Math.pow(v,A)),T=T.j(A).add(l(E))):(T=T.j(I),T=T.add(l(E)))}return T}var p=c(0),g=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(N(this))return-S(this).m();for(var D=0,v=1,I=0;I<this.g.length;I++){var T=this.i(I);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(N(this))return"-"+S(this).toString(D);for(var v=l(Math.pow(D,6)),I=this,T="";;){var b=z(I,v).g;I=M(I,b.j(v));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=b,w(I))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=M(this,D),N(D)?-1:w(D)?0:1};function S(D){for(var v=D.g.length,I=[],T=0;T<v;T++)I[T]=~D.g[T];return new s(I,~D.h).add(g)}t.abs=function(){return N(this)?S(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0,b=0;b<=v;b++){var A=T+(this.i(b)&65535)+(D.i(b)&65535),E=(A>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);T=E>>>16,A&=65535,E&=65535,I[b]=E<<16|A}return new s(I,I[I.length-1]&-2147483648?-1:0)};function M(D,v){return D.add(S(v))}t.j=function(D){if(w(this)||w(D))return p;if(N(this))return N(D)?S(this).j(S(D)):S(S(this).j(D));if(N(D))return S(this.j(S(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,I=[],T=0;T<2*v;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<D.g.length;b++){var A=this.i(T)>>>16,E=this.i(T)&65535,tr=D.i(b)>>>16,Na=D.i(b)&65535;I[2*T+2*b]+=E*Na,L(I,2*T+2*b),I[2*T+2*b+1]+=A*Na,L(I,2*T+2*b+1),I[2*T+2*b+1]+=E*tr,L(I,2*T+2*b+1),I[2*T+2*b+2]+=A*tr,L(I,2*T+2*b+2)}for(T=0;T<v;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=v;T<2*v;T++)I[T]=0;return new s(I,0)};function L(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function H(D,v){this.g=D,this.h=v}function z(D,v){if(w(v))throw Error("division by zero");if(w(D))return new H(p,p);if(N(D))return v=z(S(D),v),new H(S(v.g),S(v.h));if(N(v))return v=z(D,S(v)),new H(S(v.g),v.h);if(30<D.g.length){if(N(D)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,T=v;0>=T.l(D);)I=Me(I),T=Me(T);var b=pe(I,1),A=pe(T,1);for(T=pe(T,2),I=pe(I,2);!w(T);){var E=A.add(T);0>=E.l(D)&&(b=b.add(I),A=E),T=pe(T,1),I=pe(I,1)}return v=M(D,b.j(v)),new H(b,v)}for(b=p;0<=D.l(v);){for(I=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=l(I),E=A.j(v);N(E)||0<E.l(D);)I-=T,A=l(I),E=A.j(v);w(A)&&(A=g),b=b.add(A),D=M(D,E)}return new H(b,D)}t.A=function(D){return z(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)&D.i(T);return new s(I,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)|D.i(T);return new s(I,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)^D.i(T);return new s(I,this.h^D.h)};function Me(D){for(var v=D.g.length+1,I=[],T=0;T<v;T++)I[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(I,D.h)}function pe(D,v){var I=v>>5;v%=32;for(var T=D.g.length-I,b=[],A=0;A<T;A++)b[A]=0<v?D.i(A+I)>>>v|D.i(A+I+1)<<32-v:D.i(A+I);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WE=IM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Sr=IM.Integer=s}).apply(typeof EM<"u"?EM:typeof self<"u"?self:typeof window<"u"?window:{});var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ar={};var KE,Tq,na,QE,xu,Qf,YE,JE,ZE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kf=="object"&&Kf];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var m=0;m<u.length-1;m++){var C=u[m];if(!(C in f))break e;f=f[C]}u=u[u.length-1],m=f[u],d=d(m),d!=m&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,m=!1,C={next:function(){if(!m&&f<u.length){var R=f++;return{value:d(R,u[R]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),u.apply(d,C)}}return function(){return u.apply(d,arguments)}}function g(u,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),u.apply(this,m)}}function w(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(m,C,R){for(var F=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];return d.prototype[C].apply(m,F)}}function N(u){let d=u.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=u[m];return f}return[]}function S(u,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(c(m)){let C=u.length||0,R=m.length||0;u.length=C+R;for(let F=0;F<R;F++)u[C+F]=m[F]}else u.push(m)}}class M{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function L(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function z(u){return z[" "](u),u}z[" "]=function(){};var Me=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function pe(u,d,f){for(let m in u)d.call(f,u[m],m,u)}function D(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function v(u){let d={};for(let f in u)d[f]=u[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)u[f]=m[f];for(let R=0;R<I.length;R++)f=I[R],Object.prototype.hasOwnProperty.call(m,f)&&(u[f]=m[f])}}function b(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function A(u){a.setTimeout(()=>{throw u},0)}function E(){var u=Kp;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class tr{constructor(){this.h=this.g=null}add(d,f){let m=Na.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Na=new M(()=>new Wk,u=>u.reset());class Wk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ma,Pa=!1,Kp=new tr,gT=()=>{let u=a.Promise.resolve(void 0);Ma=()=>{u.then(Kk)}};var Kk=()=>{for(var u;u=E();){try{u.h.call(u.g)}catch(f){A(f)}var d=Na;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}Pa=!1};function xr(){this.s=this.s,this.C=this.C}xr.prototype.s=!1,xr.prototype.ma=function(){this.s||(this.s=!0,this.N())},xr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var Qk=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u}();function ka(u,d){if(ft.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,m=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(Me){e:{try{z(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Yk[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ka.aa.h.call(this)}}w(ka,ft);var Yk={2:"touch",3:"pen",4:"mouse"};ka.prototype.h=function(){ka.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xa="closure_listenable_"+(1e6*Math.random()|0),Jk=0;function Zk(u,d,f,m,C){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++Jk,this.da=this.fa=!1}function el(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function tl(u){this.src=u,this.g={},this.h=0}tl.prototype.add=function(u,d,f,m,C){var R=u.toString();u=this.g[R],u||(u=this.g[R]=[],this.h++);var F=Yp(u,d,m,C);return-1<F?(d=u[F],f||(d.fa=!1)):(d=new Zk(d,this.src,R,!!m,C),d.fa=f,u.push(d)),d};function Qp(u,d){var f=d.type;if(f in u.g){var m=u.g[f],C=Array.prototype.indexOf.call(m,d,void 0),R;(R=0<=C)&&Array.prototype.splice.call(m,C,1),R&&(el(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function Yp(u,d,f,m){for(var C=0;C<u.length;++C){var R=u[C];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==m)return C}return-1}var Jp="closure_lm_"+(1e6*Math.random()|0),Zp={};function mT(u,d,f,m,C){if(m&&m.once)return vT(u,d,f,m,C);if(Array.isArray(d)){for(var R=0;R<d.length;R++)mT(u,d[R],f,m,C);return null}return f=ng(f),u&&u[xa]?u.K(d,f,l(m)?!!m.capture:!!m,C):yT(u,d,f,!1,m,C)}function yT(u,d,f,m,C,R){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Te=eg(u);if(Te||(u[Jp]=Te=new tl(u)),f=Te.add(d,f,m,F,R),f.proxy)return f;if(m=Xk(),f.proxy=m,m.src=u,m.listener=f,u.addEventListener)Qk||(C=F),C===void 0&&(C=!1),u.addEventListener(d.toString(),m,C);else if(u.attachEvent)u.attachEvent(ET(d.toString()),m);else if(u.addListener&&u.removeListener)u.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Xk(){function u(f){return d.call(u.src,u.listener,f)}let d=ex;return u}function vT(u,d,f,m,C){if(Array.isArray(d)){for(var R=0;R<d.length;R++)vT(u,d[R],f,m,C);return null}return f=ng(f),u&&u[xa]?u.L(d,f,l(m)?!!m.capture:!!m,C):yT(u,d,f,!0,m,C)}function _T(u,d,f,m,C){if(Array.isArray(d))for(var R=0;R<d.length;R++)_T(u,d[R],f,m,C);else m=l(m)?!!m.capture:!!m,f=ng(f),u&&u[xa]?(u=u.i,d=String(d).toString(),d in u.g&&(R=u.g[d],f=Yp(R,f,m,C),-1<f&&(el(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete u.g[d],u.h--)))):u&&(u=eg(u))&&(d=u.g[d.toString()],u=-1,d&&(u=Yp(d,f,m,C)),(f=-1<u?d[u]:null)&&Xp(f))}function Xp(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[xa])Qp(d.i,u);else{var f=u.type,m=u.proxy;d.removeEventListener?d.removeEventListener(f,m,u.capture):d.detachEvent?d.detachEvent(ET(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=eg(d))?(Qp(f,u),f.h==0&&(f.src=null,d[Jp]=null)):el(u)}}}function ET(u){return u in Zp?Zp[u]:Zp[u]="on"+u}function ex(u,d){if(u.da)u=!0;else{d=new ka(d,this);var f=u.listener,m=u.ha||u.src;u.fa&&Xp(u),u=f.call(m,d)}return u}function eg(u){return u=u[Jp],u instanceof tl?u:null}var tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function ng(u){return typeof u=="function"?u:(u[tg]||(u[tg]=function(d){return u.handleEvent(d)}),u[tg])}function pt(){xr.call(this),this.i=new tl(this),this.M=this,this.F=null}w(pt,xr),pt.prototype[xa]=!0,pt.prototype.removeEventListener=function(u,d,f,m){_T(this,u,d,f,m)};function Dt(u,d){var f,m=u.F;if(m)for(f=[];m;m=m.F)f.push(m);if(u=u.M,m=d.type||d,typeof d=="string")d=new ft(d,u);else if(d instanceof ft)d.target=d.target||u;else{var C=d;d=new ft(m,u),T(d,C)}if(C=!0,f)for(var R=f.length-1;0<=R;R--){var F=d.g=f[R];C=nl(F,m,!0,d)&&C}if(F=d.g=u,C=nl(F,m,!0,d)&&C,C=nl(F,m,!1,d)&&C,f)for(R=0;R<f.length;R++)F=d.g=f[R],C=nl(F,m,!1,d)&&C}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],m=0;m<f.length;m++)el(f[m]);delete u.g[d],u.h--}}this.F=null},pt.prototype.K=function(u,d,f,m){return this.i.add(String(u),d,!1,f,m)},pt.prototype.L=function(u,d,f,m){return this.i.add(String(u),d,!0,f,m)};function nl(u,d,f,m){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,R=0;R<d.length;++R){var F=d[R];if(F&&!F.da&&F.capture==f){var Te=F.listener,ct=F.ha||F.src;F.fa&&Qp(u.i,F),C=Te.call(ct,m)!==!1&&C}}return C&&!m.defaultPrevented}function IT(u,d,f){if(typeof u=="function")f&&(u=g(u,f));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function wT(u){u.g=IT(()=>{u.g=null,u.i&&(u.i=!1,wT(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class tx extends xr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:wT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(u){xr.call(this),this.h=u,this.g={}}w(Oa,xr);var TT=[];function DT(u){pe(u.g,function(d,f){this.g.hasOwnProperty(f)&&Xp(d)},u),u.g={}}Oa.prototype.N=function(){Oa.aa.N.call(this),DT(this)},Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rg=a.JSON.stringify,nx=a.JSON.parse,rx=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ig(){}ig.prototype.h=null;function bT(u){return u.h||(u.h=u.i())}function CT(){}var Fa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function og(){ft.call(this,"d")}w(og,ft);function sg(){ft.call(this,"c")}w(sg,ft);var Mi={},ST=null;function rl(){return ST=ST||new pt}Mi.La="serverreachability";function AT(u){ft.call(this,Mi.La,u)}w(AT,ft);function La(u){let d=rl();Dt(d,new AT(d))}Mi.STAT_EVENT="statevent";function RT(u,d){ft.call(this,Mi.STAT_EVENT,u),this.stat=d}w(RT,ft);function bt(u){let d=rl();Dt(d,new RT(d,u))}Mi.Ma="timingevent";function NT(u,d){ft.call(this,Mi.Ma,u),this.size=d}w(NT,ft);function Va(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function ja(){this.g=!0}ja.prototype.xa=function(){this.g=!1};function ix(u,d,f,m,C,R){u.info(function(){if(u.g)if(R)for(var F="",Te=R.split("&"),ct=0;ct<Te.length;ct++){var fe=Te[ct].split("=");if(1<fe.length){var gt=fe[0];fe=fe[1];var mt=gt.split("_");F=2<=mt.length&&mt[1]=="type"?F+(gt+"="+fe+"&"):F+(gt+"=redacted&")}}else F=null;else F=R;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function ox(u,d,f,m,C,R,F){u.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+R+" "+F})}function Uo(u,d,f,m){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+ax(u,f)+(m?" "+m:"")})}function sx(u,d){u.info(function(){return"TIMEOUT: "+d})}ja.prototype.info=function(){};function ax(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var m=f[u];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var R=C[0];if(R!="noop"&&R!="stop"&&R!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return rg(f)}catch{return d}}var il={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},MT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ag;function ol(){}w(ol,ig),ol.prototype.g=function(){return new XMLHttpRequest},ol.prototype.i=function(){return{}},ag=new ol;function Or(u,d,f,m){this.j=u,this.i=d,this.l=f,this.R=m||1,this.U=new Oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new PT}function PT(){this.i=null,this.g="",this.h=!1}var kT={},cg={};function ug(u,d,f){u.L=1,u.v=ul(nr(d)),u.m=f,u.P=!0,xT(u,null)}function xT(u,d){u.F=Date.now(),sl(u),u.A=nr(u.v);var f=u.A,m=u.R;Array.isArray(m)||(m=[String(m)]),KT(f.i,"t",m),u.C=0,f=u.j.J,u.h=new PT,u.g=hD(u.j,f?d:null,!u.m),0<u.O&&(u.M=new tx(g(u.Y,u,u.g),u.O)),d=u.U,f=u.g,m=u.ca;var C="readystatechange";Array.isArray(C)||(C&&(TT[0]=C.toString()),C=TT);for(var R=0;R<C.length;R++){var F=mT(f,C[R],m||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),La(),ix(u.i,u.u,u.A,u.l,u.R,u.m)}Or.prototype.ca=function(u){u=u.target;let d=this.M;d&&rr(u)==3?d.j():this.Y(u)},Or.prototype.Y=function(u){try{if(u==this.g)e:{let mt=rr(this.g);var d=this.g.Ba();let Ho=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||tD(this.g)))){this.J||mt!=4||d==7||(d==8||0>=Ho?La(3):La(2)),lg(this);var f=this.g.Z();this.X=f;t:if(OT(this)){var m=tD(this.g);u="";var C=m.length,R=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),Ua(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,u+=this.h.i.decode(m[d],{stream:!(R&&d==C-1)});m.length=0,this.h.g+=u,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,ox(this.i,this.u,this.A,this.l,this.R,mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,ct=this.g;if((Te=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Te)){var fe=Te;break t}}fe=null}if(f=fe)Uo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dg(this,f);else{this.o=!1,this.s=3,bt(12),Pi(this),Ua(this);break e}}if(this.P){f=!0;let sn;for(;!this.J&&this.C<F.length;)if(sn=cx(this,F),sn==cg){mt==4&&(this.s=4,bt(14),f=!1),Uo(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==kT){this.s=4,bt(15),Uo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else Uo(this.i,this.l,sn,null),dg(this,sn);if(OT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||F.length!=0||this.h.h||(this.s=1,bt(16),f=!1),this.o=this.o&&f,!f)Uo(this.i,this.l,F,"[Invalid Chunked Response]"),Pi(this),Ua(this);else if(0<F.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),yg(gt),gt.M=!0,bt(11))}}else Uo(this.i,this.l,F,null),dg(this,F);mt==4&&Pi(this),this.o&&!this.J&&(mt==4?cD(this.j,this):(this.o=!1,sl(this)))}else bx(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Pi(this),Ua(this)}}}catch{}finally{}};function OT(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function cx(u,d){var f=u.C,m=d.indexOf(`
`,f);return m==-1?cg:(f=Number(d.substring(f,m)),isNaN(f)?kT:(m+=1,m+f>d.length?cg:(d=d.slice(m,m+f),u.C=m+f,d)))}Or.prototype.cancel=function(){this.J=!0,Pi(this)};function sl(u){u.S=Date.now()+u.I,FT(u,u.I)}function FT(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Va(g(u.ba,u),d)}function lg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Or.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(sx(this.i,this.A),this.L!=2&&(La(),bt(17)),Pi(this),this.s=2,Ua(this)):FT(this,this.S-u)};function Ua(u){u.j.G==0||u.J||cD(u.j,u)}function Pi(u){lg(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,DT(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function dg(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||hg(f.h,u))){if(!u.K&&hg(f.h,u)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)pl(f),hl(f);else break e;mg(f),bt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Va(g(f.Za,f),6e3));if(1>=jT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else xi(f,11)}else if((u.K||f.g==u)&&pl(f),!L(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let fe=C[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let gt=fe[3];gt!=null&&(f.la=gt,f.j.info("VER="+f.la));let mt=fe[4];mt!=null&&(f.Aa=mt,f.j.info("SVER="+f.Aa));let Ho=fe[5];Ho!=null&&typeof Ho=="number"&&0<Ho&&(m=1.5*Ho,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let sn=u.g;if(sn){let ml=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ml){var R=m.h;R.g||ml.indexOf("spdy")==-1&&ml.indexOf("quic")==-1&&ml.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(fg(R,R.h),R.h=null))}if(m.D){let vg=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;vg&&(m.ya=vg,Se(m.I,m.D,vg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=u;if(m.qa=dD(m,m.J?m.ia:null,m.W),F.K){UT(m.h,F);var Te=F,ct=m.L;ct&&(Te.I=ct),Te.B&&(lg(Te),sl(Te)),m.g=F}else sD(m);0<f.i.length&&fl(f)}else fe[0]!="stop"&&fe[0]!="close"||xi(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?xi(f,7):gg(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}La(4)}catch{}}var ux=class{constructor(u,d){this.g=u,this.map=d}};function LT(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function VT(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function jT(u){return u.h?1:u.g?u.g.size:0}function hg(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function fg(u,d){u.g?u.g.add(d):u.h=d}function UT(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}LT.prototype.cancel=function(){if(this.i=BT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function BT(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return N(u.i)}function lx(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,m=0;m<f;m++)d.push(u[m]);return d}d=[],f=0;for(m in u)d[f++]=u[m];return d}function dx(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let m in u)d[f++]=m;return d}}}function $T(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=dx(u),m=lx(u),C=m.length,R=0;R<C;R++)d.call(void 0,m[R],f&&f[R],u)}var HT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hx(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var m=u[f].indexOf("="),C=null;if(0<=m){var R=u[f].substring(0,m);C=u[f].substring(m+1)}else R=u[f];d(R,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ki(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ki){this.h=u.h,al(this,u.j),this.o=u.o,this.g=u.g,cl(this,u.s),this.l=u.l;var d=u.i,f=new Ha;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),zT(this,f),this.m=u.m}else u&&(d=String(u).match(HT))?(this.h=!1,al(this,d[1]||"",!0),this.o=Ba(d[2]||""),this.g=Ba(d[3]||"",!0),cl(this,d[4]),this.l=Ba(d[5]||"",!0),zT(this,d[6]||"",!0),this.m=Ba(d[7]||"")):(this.h=!1,this.i=new Ha(null,this.h))}ki.prototype.toString=function(){var u=[],d=this.j;d&&u.push($a(d,qT,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push($a(d,qT,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push($a(f,f.charAt(0)=="/"?gx:px,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",$a(f,yx)),u.join("")};function nr(u){return new ki(u)}function al(u,d,f){u.j=f?Ba(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function cl(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function zT(u,d,f){d instanceof Ha?(u.i=d,vx(u.i,u.h)):(f||(d=$a(d,mx)),u.i=new Ha(d,u.h))}function Se(u,d,f){u.i.set(d,f)}function ul(u){return Se(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ba(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $a(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,fx),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fx(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qT=/[#\/\?@]/g,px=/[#\?:]/g,gx=/[#\?]/g,mx=/[#\?@]/g,yx=/#/g;function Ha(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function Fr(u){u.g||(u.g=new Map,u.h=0,u.i&&hx(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ha.prototype,t.add=function(u,d){Fr(this),this.i=null,u=Bo(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function GT(u,d){Fr(u),d=Bo(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function WT(u,d){return Fr(u),d=Bo(u,d),u.g.has(d)}t.forEach=function(u,d){Fr(this),this.g.forEach(function(f,m){f.forEach(function(C){u.call(d,C,m,this)},this)},this)},t.na=function(){Fr(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=u[m];for(let R=0;R<C.length;R++)f.push(d[m])}return f},t.V=function(u){Fr(this);let d=[];if(typeof u=="string")WT(this,u)&&(d=d.concat(this.g.get(Bo(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},t.set=function(u,d){return Fr(this),this.i=null,u=Bo(this,u),WT(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},t.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function KT(u,d,f){GT(u,d),0<f.length&&(u.i=null,u.g.set(Bo(u,d),N(f)),u.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let R=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var C=R;F[m]!==""&&(C+="="+encodeURIComponent(String(F[m]))),u.push(C)}}return this.i=u.join("&")};function Bo(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function vx(u,d){d&&!u.j&&(Fr(u),u.i=null,u.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(GT(this,m),KT(this,C,f))},u)),u.j=d}function _x(u,d){let f=new ja;if(a.Image){let m=new Image;m.onload=y(Lr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Lr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Lr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Lr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=u}else d(!1)}function Ex(u,d){let f=new ja,m=new AbortController,C=setTimeout(()=>{m.abort(),Lr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:m.signal}).then(R=>{clearTimeout(C),R.ok?Lr(f,"TestPingServer: ok",!0,d):Lr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Lr(f,"TestPingServer: error",!1,d)})}function Lr(u,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function Ix(){this.g=new rx}function wx(u,d,f){let m=f||"";try{$T(u,function(C,R){let F=C;l(C)&&(F=rg(C)),d.push(m+R+"="+encodeURIComponent(F))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function za(u){this.l=u.Ub||null,this.j=u.eb||!1}w(za,ig),za.prototype.g=function(){return new ll(this.l,this.j)},za.prototype.i=function(u){return function(){return u}}({});function ll(u,d){pt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ll,pt),t=ll.prototype,t.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,Ga(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ga(this)),this.g&&(this.readyState=3,Ga(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;QT(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function QT(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?qa(this):Ga(this),this.readyState==3&&QT(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,qa(this))},t.Qa=function(u){this.g&&(this.response=u,qa(this))},t.ga=function(){this.g&&qa(this)};function qa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ga(u)}t.setRequestHeader=function(u,d){this.u.append(u,d)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function Ga(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function YT(u){let d="";return pe(u,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function pg(u,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=YT(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):Se(u,d,f))}function Pe(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Pe,pt);var Tx=/^https?$/i,Dx=["POST","PUT"];t=Pe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ag.g(),this.v=this.o?bT(this.o):bT(ag),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(R){JT(this,R);return}if(u=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let R of m.keys())f.set(R,m.get(R));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),C=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Dx,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,F]of f)this.g.setRequestHeader(R,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{eD(this),this.u=!0,this.g.send(u),this.u=!1}catch(R){JT(this,R)}};function JT(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,ZT(u),dl(u)}function ZT(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Dt(this,"complete"),Dt(this,"abort"),dl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dl(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?XT(this):this.bb())},t.bb=function(){XT(this)};function XT(u){if(u.h&&typeof s<"u"&&(!u.v[1]||rr(u)!=4||u.Z()!=2)){if(u.u&&rr(u)==4)IT(u.Ea,0,u);else if(Dt(u,"readystatechange"),rr(u)==4){u.h=!1;try{let F=u.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=F===0){var C=String(u.D).match(HT)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!Tx.test(C?C.toLowerCase():"")}f=m}if(f)Dt(u,"complete"),Dt(u,"success");else{u.m=6;try{var R=2<rr(u)?u.g.statusText:""}catch{R=""}u.l=R+" ["+u.Z()+"]",ZT(u)}}finally{dl(u)}}}}function dl(u,d){if(u.g){eD(u);let f=u.g,m=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Dt(u,"ready");try{f.onreadystatechange=m}catch{}}}function eD(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function rr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),nx(d)}};function tD(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bx(u){let d={};u=(u.g&&2<=rr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<u.length;m++){if(L(u[m]))continue;var f=b(u[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[C]||[];d[C]=R,R.push(f)}D(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wa(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function nD(u){this.Aa=0,this.i=[],this.j=new ja,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wa("baseRetryDelayMs",5e3,u),this.cb=Wa("retryDelaySeedMs",1e4,u),this.Wa=Wa("forwardChannelMaxRetries",2,u),this.wa=Wa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new LT(u&&u.concurrentRequestLimit),this.Da=new Ix,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nD.prototype,t.la=8,t.G=1,t.connect=function(u,d,f,m){bt(0),this.W=u,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=dD(this,null,this.W),fl(this)};function gg(u){if(rD(u),u.G==3){var d=u.U++,f=nr(u.I);if(Se(f,"SID",u.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),Ka(u,f),d=new Or(u,u.j,d),d.L=2,d.v=ul(nr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=hD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),sl(d)}lD(u)}function hl(u){u.g&&(yg(u),u.g.cancel(),u.g=null)}function rD(u){hl(u),u.u&&(a.clearTimeout(u.u),u.u=null),pl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function fl(u){if(!VT(u.h)&&!u.s){u.s=!0;var d=u.Ga;Ma||gT(),Pa||(Ma(),Pa=!0),Kp.add(d,u),u.B=0}}function Cx(u,d){return jT(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Va(g(u.Ga,u,d),uD(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let C=new Or(this,this.j,u),R=this.o;if(this.S&&(R?(R=v(R),T(R,this.S)):R=this.S),this.m!==null||this.O||(C.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=oD(this,C,d),f=nr(this.I),Se(f,"RID",u),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),Ka(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(YT(R)))+"&"+d:this.m&&pg(f,this.m,R)),fg(this.h,C),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),C.T=!0,ug(C,f,null)):ug(C,f,d),this.G=2}}else this.G==3&&(u?iD(this,u):this.i.length==0||VT(this.h)||iD(this))};function iD(u,d){var f;d?f=d.l:f=u.U++;let m=nr(u.I);Se(m,"SID",u.K),Se(m,"RID",f),Se(m,"AID",u.T),Ka(u,m),u.m&&u.o&&pg(m,u.m,u.o),f=new Or(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=oD(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fg(u.h,f),ug(f,m,d)}function Ka(u,d){u.H&&pe(u.H,function(f,m){Se(d,m,f)}),u.l&&$T({},function(f,m){Se(d,m,f)})}function oD(u,d,f){f=Math.min(u.i.length,f);var m=u.l?g(u.l.Na,u.l,u):null;e:{var C=u.i;let R=-1;for(;;){let F=["count="+f];R==-1?0<f?(R=C[0].g,F.push("ofs="+R)):R=0:F.push("ofs="+R);let Te=!0;for(let ct=0;ct<f;ct++){let fe=C[ct].g,gt=C[ct].map;if(fe-=R,0>fe)R=Math.max(0,C[ct].g-100),Te=!1;else try{wx(gt,F,"req"+fe+"_")}catch{m&&m(gt)}}if(Te){m=F.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,m}function sD(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;Ma||gT(),Pa||(Ma(),Pa=!0),Kp.add(d,u),u.v=0}}function mg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Va(g(u.Fa,u),uD(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,aD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Va(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),hl(this),aD(this))};function yg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function aD(u){u.g=new Or(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=nr(u.qa);Se(d,"RID","rpc"),Se(d,"SID",u.K),Se(d,"AID",u.T),Se(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Se(d,"TO",u.ja),Se(d,"TYPE","xmlhttp"),Ka(u,d),u.m&&u.o&&pg(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=ul(nr(d)),f.m=null,f.P=!0,xT(f,u)}t.Za=function(){this.C!=null&&(this.C=null,hl(this),mg(this),bt(19))};function pl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function cD(u,d){var f=null;if(u.g==d){pl(u),yg(u),u.g=null;var m=2}else if(hg(u.h,d))f=d.D,UT(u.h,d),m=1;else return;if(u.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=u.B;m=rl(),Dt(m,new NT(m,f)),fl(u)}else sD(u);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&Cx(u,d)||m==2&&mg(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),C){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function uD(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function xi(u,d){if(u.j.info("Error code "+d),d==2){var f=g(u.fb,u),m=u.Xa;let C=!m;m=new ki(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||al(m,"https"),ul(m),C?_x(m.toString(),f):Ex(m.toString(),f)}else bt(2);u.G=0,u.l&&u.l.sa(d),lD(u),rD(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function lD(u){if(u.G=0,u.ka=[],u.l){let d=BT(u.h);(d.length!=0||u.i.length!=0)&&(S(u.ka,d),S(u.ka,u.i),u.h.i.length=0,N(u.i),u.i.length=0),u.l.ra()}}function dD(u,d,f){var m=f instanceof ki?nr(f):new ki(f);if(m.g!="")d&&(m.g=d+"."+m.g),cl(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var R=new ki(null);m&&al(R,m),d&&(R.g=d),C&&cl(R,C),f&&(R.l=f),m=R}return f=u.D,d=u.ya,f&&d&&Se(m,f,d),Se(m,"VER",u.la),Ka(u,m),m}function hD(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Pe(new za({eb:f})):new Pe(u.pa),d.Ha(u.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fD(){}t=fD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gl(){}gl.prototype.g=function(u,d){return new Bt(u,d)};function Bt(u,d){pt.call(this),this.g=new nD(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!L(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!L(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new $o(this)}w(Bt,pt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){gg(this.g)},Bt.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=rg(u),u=f);d.i.push(new ux(d.Ya++,u)),d.G==3&&fl(d)},Bt.prototype.N=function(){this.g.l=null,delete this.j,gg(this.g),delete this.g,Bt.aa.N.call(this)};function pD(u){og.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}w(pD,og);function gD(){sg.call(this),this.status=1}w(gD,sg);function $o(u){this.g=u}w($o,fD),$o.prototype.ua=function(){Dt(this.g,"a")},$o.prototype.ta=function(u){Dt(this.g,new pD(u))},$o.prototype.sa=function(u){Dt(this.g,new gD)},$o.prototype.ra=function(){Dt(this.g,"b")},gl.prototype.createWebChannel=gl.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,ZE=Ar.createWebChannelTransport=function(){return new gl},JE=Ar.getStatEventTarget=function(){return rl()},YE=Ar.Event=Mi,Qf=Ar.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},il.NO_ERROR=0,il.TIMEOUT=8,il.HTTP_ERROR=6,xu=Ar.ErrorCode=il,MT.COMPLETE="complete",QE=Ar.EventType=MT,CT.EventType=Fa,Fa.OPEN="a",Fa.CLOSE="b",Fa.ERROR="c",Fa.MESSAGE="d",pt.prototype.listen=pt.prototype.K,na=Ar.WebChannel=CT,Tq=Ar.FetchXmlHttpFactory=za,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,KE=Ar.XhrIo=Pe}).apply(typeof Kf<"u"?Kf:typeof self<"u"?self:typeof window<"u"?window:{});var wM="@firebase/firestore",TM="4.8.0";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var ba="11.10.0";var Po=new $n("@firebase/firestore");function ra(){return Po.logLevel}function j(t,...e){if(Po.logLevel<=le.DEBUG){let n=e.map(Vw);Po.debug(`Firestore (${ba}): ${t}`,...n)}}function Rr(t,...e){if(Po.logLevel<=le.ERROR){let n=e.map(Vw);Po.error(`Firestore (${ba}): ${t}`,...n)}}function Ci(t,...e){if(Po.logLevel<=le.WARN){let n=e.map(Vw);Po.warn(`Firestore (${ba}): ${t}`,...n)}}function Vw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hP(t,r,n)}function hP(t,e,n){let r=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rr(r),new Error(r)}function _e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||hP(e,i,r)}function ne(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Gt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Gn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var np=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},rI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},iI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},oI=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new np(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new ot(e)}},sI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},aI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cI=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ut(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Dq(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function fP(){return new TextEncoder}var Uu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Dq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ce(t,e){return t<e?-1:t>e?1:0}function uI(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ce(r,i);{let o=fP(),s=bq(o.encode(DM(t,n)),o.encode(DM(e,n)));return s!==0?s:ce(r,i)}}n+=r>65535?2:1}return ce(t.length,e.length)}function DM(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function bq(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ce(t[n],e[n]);return ce(t.length,e.length)}function da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var bM="__name__",ip=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ce(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):uI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}},Ne=class t extends ip{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Cq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class t extends ip{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Cq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bM}static keyField(){return new t([bM])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};function pP(t,e,n){if(!n)throw new B(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sq(t,e,n,r){if(e===!0&&r===!0)throw new B(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CM(t){if(!W.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SM(t){if(W.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function on(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=jw(t);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ke(t,e){let n={typeString:t};return e&&(n.value=e),n}function Ju(t,e){if(!gP(t))throw new B(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new B(k.INVALID_ARGUMENT,n);return!0}var AM=-62135596800,RM=1e6,Qe=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RM);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AM)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RM}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ju(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-AM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Ke("string",Qe._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};var ie=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Qe(0,0))}static max(){return new t(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Bu=-1,lI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};lI.UNKNOWN_ID=-1;function Aq(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new ko(i,W.empty(),e)}function Rq(t){return new ko(t.readTime,t.key,Bu)}var ko=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),W.empty(),Bu)}static max(){return new t(ie.max(),W.empty(),Bu)}};function Nq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}var Mq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ca(t){return _(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==Mq)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Pq(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sa(t){return t.name==="IndexedDbTransactionError"}var Uw=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),Bw=-1;function Lp(t){return t==null}function $u(t){return t===0&&1/t==-1/0}function kq(t){return typeof t=="number"&&Number.isInteger(t)&&!$u(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mP="";function xq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NM(e)),e=Oq(t.get(n),e);return NM(e)}function Oq(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case mP:n+="";break;default:n+=o}}return n}function NM(t){return t+mP+""}var Fq="remoteDocuments",yP="owner";var vP="mutationQueues";var _P="mutations";var EP="documentMutations",Lq="remoteDocumentsV14";var IP="remoteDocumentGlobal";var wP="targets";var TP="targetDocuments";var DP="targetGlobal",bP="collectionParents";var CP="clientMetadata";var SP="bundles";var AP="namedQueries";var Vq="indexConfiguration";var jq="indexState";var Uq="indexEntries";var RP="documentOverlays";var Bq="globals";var $q=[vP,_P,EP,Fq,wP,yP,DP,TP,CP,IP,bP,SP,AP],jae=[...$q,RP],Hq=[vP,_P,EP,Lq,wP,yP,DP,TP,CP,IP,bP,SP,AP,RP],zq=Hq,qq=[...zq,Vq,jq,Uq];var Uae=[...qq,Bq];function MM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||Wn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new aa(this.root,e,this.comparator,!0)}},aa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new op(this.data.getIterator())}getIteratorFrom(e){return new op(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},op=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var rn=class t{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new t([])}unionWith(e){let n=new st(Kt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var sp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sp("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var Gq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(t){if(_e(!!t,39018),typeof t=="string"){let e=0,n=Gq.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mr(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}var MP="server_timestamp",PP="__type__",kP="__previous_value__",xP="__local_write_time__";function $w(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[PP])===null||n===void 0?void 0:n.stringValue)===MP}function Vp(t){let e=t.mapValue.fields[kP];return $w(e)?Vp(e):e}function Hu(t){let e=Nr(t.mapValue.fields[xP].timestampValue);return new Qe(e.seconds,e.nanos)}var hI=class{constructor(e,n,r,i,o,s,a,c,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=h}},ap="(default)",cp=class t{constructor(e,n){this.projectId=e,this.database=n||ap}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===ap}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Hw="__type__",OP="__max__",Yf={mapValue:{fields:{__type__:{stringValue:OP}}}},zw="__vector__",ha="value";function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$w(t)?4:LP(t)?9007199254740991:FP(t)?10:11:Q(28295,{value:t})}function Jn(t,e){if(t===e)return!0;let n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hu(t).isEqual(Hu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Nr(i.timestampValue),a=Nr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Mr(i.bytesValue).isEqual(Mr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?$u(s)===$u(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(MM(s)!==MM(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Jn(s[c],a[c])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function zu(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function fa(t,e){if(t===e)return 0;let n=Si(t),r=Si(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ae(o.integerValue||o.doubleValue),c=Ae(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return PM(t.timestampValue,e.timestampValue);case 4:return PM(Hu(t),Hu(e));case 5:return uI(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Mr(o),c=Mr(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=ce(a[l],c[l]);if(h!==0)return h}return ce(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ce(Ae(o.latitude),Ae(s.latitude));return a!==0?a:ce(Ae(o.longitude),Ae(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kM(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[ha])===null||a===void 0?void 0:a.arrayValue,w=(c=g[ha])===null||c===void 0?void 0:c.arrayValue,N=ce(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:kM(y,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Yf.mapValue&&s===Yf.mapValue)return 0;if(o===Yf.mapValue)return 1;if(s===Yf.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let g=uI(c[p],h[p]);if(g!==0)return g;let y=fa(a[c[p]],l[h[p]]);if(y!==0)return y}return ce(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{le:n})}}function PM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);let n=Nr(t),r=Nr(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function kM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=fa(n[i],r[i]);if(o)return o}return ce(n.length,r.length)}function pa(t){return fI(t)}function fI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Nr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=fI(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${fI(n.fields[s])}`;return i+"}"}(t.mapValue):Q(61005,{value:t})}function Xf(t){switch(Si(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Vp(t);return e?16+Xf(e):16;case 5:return 2*t.stringValue.length;case 6:return Mr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Xf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ni(r.fields,(o,s)=>{i+=o.length+Xf(s)}),i}(t.mapValue);default:throw Q(13486,{value:t})}}function pI(t){return!!t&&"integerValue"in t}function qw(t){return!!t&&"arrayValue"in t}function xM(t){return!!t&&"nullValue"in t}function OM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ep(t){return!!t&&"mapValue"in t}function FP(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hw])===null||n===void 0?void 0:n.stringValue)===zw}function Fu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OP}var $ae={mapValue:{fields:{[Hw]:{stringValue:zw},[ha]:{arrayValue:{}}}}};var Wt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ep(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(n)}setAll(e){let n=Kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Fu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());ep(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ep(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Fu(this.value))}};function VP(t){let e=[];return Ni(t.fields,(n,r)=>{let i=new Kt([n]);if(ep(r)){let o=VP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new rn(e)}var Dn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ga=class{constructor(e,n){this.position=e,this.inclusive=n}};function FM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=fa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}var ma=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Wq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var up=class{},Xe=class t extends up{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mI(e,n,r):n==="array-contains"?new _I(e,r):n==="in"?new EI(e,r):n==="not-in"?new II(e,r):n==="array-contains-any"?new wI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yI(e,r):new vI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fa(n,this.value)):n!==null&&Si(this.value)===Si(n)&&this.matchesComparison(fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Zn=class t extends up{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return jP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function jP(t){return t.op==="and"}function UP(t){return Kq(t)&&jP(t)}function Kq(t){for(let e of t.filters)if(e instanceof Zn)return!1;return!0}function gI(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+pa(t.value);if(UP(t))return t.filters.map(e=>gI(e)).join(",");{let e=t.filters.map(n=>gI(n)).join(",");return`${t.op}(${e})`}}function BP(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(t,e):t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&BP(s,i.filters[a]),!0):!1}(t,e):void Q(19439)}function $P(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${pa(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map($P).join(" ,")+"}"}(t):"Filter"}var mI=class extends Xe{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},yI=class extends Xe{constructor(e,n){super(e,"in",n),this.keys=HP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},vI=class extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=HP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function HP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var _I=class extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return qw(n)&&zu(n.arrayValue,this.value)}},EI=class extends Xe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}},II=class extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zu(this.value.arrayValue,n)}},wI=class extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!qw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}};var TI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function VM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new TI(t,e,n,r,i,o,s)}function Gw(t){let e=ne(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Lp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pa(r)).join(",")),e.Pe=n}return e.Pe}function Ww(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LM(t.startAt,e.startAt)&&LM(t.endAt,e.endAt)}function DI(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ya=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Qq(t,e,n,r,i,o,s,a){return new ya(t,e,n,r,i,o,s,a)}function jp(t){return new ya(t)}function jM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yq(t){return t.collectionGroup!==null}function Lu(t){let e=ne(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new st(Kt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ma(o,r))}),n.has(Kt.keyField().canonicalString())||e.Te.push(new ma(Kt.keyField(),r))}return e.Te}function Kn(t){let e=ne(t);return e.Ie||(e.Ie=Jq(e,Lu(t))),e.Ie}function Jq(t,e){if(t.limitType==="F")return VM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ma(i.field,o)});let n=t.endAt?new ga(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ga(t.startAt.position,t.startAt.inclusive):null;return VM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bI(t,e,n){return new ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Up(t,e){return Ww(Kn(t),Kn(e))&&t.limitType===e.limitType}function zP(t){return`${Gw(Kn(t))}|lt:${t.limitType}`}function ia(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$P(i)).join(", ")}]`),Lp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pa(i)).join(",")),`Target(${r})`}(Kn(t))}; limitType=${t.limitType})`}function Bp(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Lu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=FM(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Lu(r),i)||r.endAt&&!function(s,a,c){let l=FM(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Lu(r),i))}(t,e)}function Zq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qP(t){return(e,n)=>{let r=!1;for(let i of Lu(t)){let o=Xq(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Xq(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?fa(c,l):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}var Pr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return NP(this.inner)}size(){return this.innerSize}};var e3=new je(W.comparator);function kr(){return e3}var GP=new je(W.comparator);function Ou(...t){let e=GP;for(let n of t)e=e.insert(n.key,n);return e}function WP(t){let e=GP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ao(){return Vu()}function KP(){return Vu()}function Vu(){return new Pr(t=>t.toString(),(t,e)=>t.isEqual(e))}var t3=new je(W.comparator),n3=new st(W.comparator);function de(...t){let e=n3;for(let n of t)e=e.add(n);return e}var r3=new st(ce);function i3(){return r3}function Kw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function QP(t){return{integerValue:""+t}}function o3(t,e){return kq(e)?QP(e):Kw(t,e)}var va=class{constructor(){this._=void 0}};function s3(t,e,n){return t instanceof _a?function(i,o){let s={fields:{[PP]:{stringValue:MP},[xP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$w(o)&&(o=Vp(o)),o&&(s.fields[kP]=o),{mapValue:s}}(n,e):t instanceof xo?JP(t,e):t instanceof Oo?ZP(t,e):function(i,o){let s=YP(i,o),a=UM(s)+UM(i.Ee);return pI(s)&&pI(i.Ee)?QP(a):Kw(i.serializer,a)}(t,e)}function a3(t,e,n){return t instanceof xo?JP(t,e):t instanceof Oo?ZP(t,e):n}function YP(t,e){return t instanceof Ea?function(r){return pI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var _a=class extends va{},xo=class extends va{constructor(e){super(),this.elements=e}};function JP(t,e){let n=XP(e);for(let r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Oo=class extends va{constructor(e){super(),this.elements=e}};function ZP(t,e){let n=XP(e);for(let r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}var Ea=class extends va{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function UM(t){return Ae(t.integerValue||t.doubleValue)}function XP(t){return qw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function c3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xo&&i instanceof xo||r instanceof Oo&&i instanceof Oo?da(r.elements,i.elements,Jn):r instanceof Ea&&i instanceof Ea?Jn(r.Ee,i.Ee):r instanceof _a&&i instanceof _a}(t.transform,e.transform)}var CI=class{constructor(e,n){this.version=e,this.transformResults=n}},Qn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function tp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ia=class{};function ek(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qu(t.key,Qn.none()):new Fo(t.key,t.data,Qn.none());{let n=t.data,r=Wt.empty(),i=new st(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Xn(t.key,r,new rn(i.toArray()),Qn.none())}}function u3(t,e,n){t instanceof Fo?function(i,o,s){let a=i.value.clone(),c=$M(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xn?function(i,o,s){if(!tp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=$M(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(tk(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ju(t,e,n,r){return t instanceof Fo?function(o,s,a,c){if(!tp(o.precondition,s))return a;let l=o.value.clone(),h=HM(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xn?function(o,s,a,c){if(!tp(o.precondition,s))return a;let l=HM(o.fieldTransforms,c,s),h=s.data;return h.setAll(tk(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return tp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function l3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=YP(r.transform,i||null);o!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,o))}return n||null}function BM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&da(r,i,(o,s)=>c3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Fo=class extends Ia{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Xn=class extends Ia{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function tk(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function $M(t,e,n){let r=new Map;_e(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,a3(s,a,n[i]))}return r}function HM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,s3(o,s,e))}return r}var qu=class extends Ia{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},SI=class extends Ia{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var AI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&u3(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ju(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ju(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=KP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=ek(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>BM(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>BM(n,r))}},RI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return t3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var NI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var MI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ge,he;function d3(t){switch(t){case k.OK:return Q(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function nk(t){if(t===void 0)return Rr("GRPC error has no .code"),k.UNKNOWN;switch(t){case Ge.OK:return k.OK;case Ge.CANCELLED:return k.CANCELLED;case Ge.UNKNOWN:return k.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return k.INTERNAL;case Ge.UNAVAILABLE:return k.UNAVAILABLE;case Ge.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ge.NOT_FOUND:return k.NOT_FOUND;case Ge.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ge.ABORTED:return k.ABORTED;case Ge.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ge.DATA_LOSS:return k.DATA_LOSS;default:return Q(39323,{code:t})}}(he=Ge||(Ge={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var zM=null;var h3=new Sr([4294967295,4294967295],0);function qM(t){let e=fP().encode(t),n=new WE;return n.update(e),new Uint8Array(n.digest())}function GM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Sr([n,r],0),new Sr([i,o],0)]}var PI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ro(`Invalid padding: ${n}`);if(r<0)throw new Ro(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Sr.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Sr.fromNumber(r)));return i.compare(h3)===1&&(i=new Sr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=qM(e),[r,i]=GM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=qM(e),[r,i]=GM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ro=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var lp=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new je(ce),kr(),de())}},Gu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var ca=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},dp=class{constructor(e,n){this.targetId=e,this.De=n}},hp=class{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},fp=class{constructor(){this.ve=0,this.Ce=WM(),this.Fe=Tt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=de(),n=de(),r=de();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new Gu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=WM()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},kI=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=kr(),this.je=Jf(),this.Je=Jf(),this.He=new je(ce)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(DI(o))if(r===0){let s=new W(o.path);this.Xe(n,s,Dn.newNoDocument(s,ie.min()))}else _e(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}zM?.ct(function(h,p,g,y,w){var N,S,M,L,H,z;let Me={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},pe=p.unchangedNames;return pe&&(Me.bloomFilter={applied:w===0,hashCount:(N=pe?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(L=(M=(S=pe?.bits)===null||S===void 0?void 0:S.bitmap)===null||M===void 0?void 0:M.length)!==null&&L!==void 0?L:0,padding:(z=(H=pe?.bits)===null||H===void 0?void 0:H.padding)!==null&&z!==void 0?z:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Me}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Mr(r).toUint8Array()}catch(c){if(c instanceof sp)return Ci("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new PI(s,i,o)}catch(c){return Ci(c instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&DI(a.target)){let c=new W(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Dn.newNoDocument(c,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=de();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new lp(e,n,this.He,this.ze,r);return this.ze=kr(),this.je=Jf(),this.Je=Jf(),this.He=new je(ce),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new fp,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new st(ce),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new st(ce),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new fp),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function Jf(){return new je(W.comparator)}function WM(){return new je(W.comparator)}var f3={asc:"ASCENDING",desc:"DESCENDING"},p3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g3={and:"AND",or:"OR"},xI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function OI(t,e){return t.useProto3Json||Lp(e)?e:{value:e}}function pp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m3(t,e){return pp(t,e.toTimestamp())}function Yn(t){return _e(!!t,49232),ie.fromTimestamp(function(n){let r=Nr(n);return new Qe(r.seconds,r.nanos)}(t))}function Qw(t,e){return FI(t,e).canonicalString()}function FI(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ik(t){let e=Ne.fromString(t);return _e(uk(e),10190,{key:e.toString()}),e}function LI(t,e){return Qw(t.databaseId,e.path)}function XE(t,e){let n=ik(e);if(n.get(1)!==t.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(sk(n))}function ok(t,e){return Qw(t.databaseId,e)}function y3(t){let e=ik(t);return e.length===4?Ne.emptyPath():sk(e)}function VI(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sk(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KM(t,e,n){return{name:LI(t,e),fields:n.value.mapValue.fields}}function v3(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(_e(h===void 0||typeof h=="string",58123),Tt.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:nk(l.code);return new B(h,l.message||"")}(s);n=new hp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=XE(t,r.document.name),o=Yn(r.document.updateTime),s=r.document.createTime?Yn(r.document.createTime):ie.min(),a=new Wt({mapValue:{fields:r.document.fields}}),c=Dn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ca(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=XE(t,r.document),o=r.readTime?Yn(r.readTime):ie.min(),s=Dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ca([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=XE(t,r.document),o=r.removedTargetIds||[];n=new ca([],o,i,null)}else{if(!("filter"in e))return Q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new MI(i,o),a=r.targetId;n=new dp(a,s)}}return n}function _3(t,e){let n;if(e instanceof Fo)n={update:KM(t,e.key,e.value)};else if(e instanceof qu)n={delete:LI(t,e.key)};else if(e instanceof Xn)n={update:KM(t,e.key,e.data),updateMask:A3(e.fieldMask)};else{if(!(e instanceof SI))return Q(16599,{Rt:e.type});n={verify:LI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof _a)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ea)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:m3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q(27497)}(t,e.precondition)),n}function E3(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Yn(i.updateTime):Yn(o);return s.isEqual(ie.min())&&(s=Yn(o)),new CI(s,i.transformResults||[])}(n,e))):[]}function I3(t,e){return{documents:[ok(t,e.path)]}}function w3(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ok(t,i);let o=function(l){if(l.length!==0)return ck(Zn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:oa(g.field),direction:b3(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=OI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function T3(t){let e=y3(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_e(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=ak(p);return g instanceof Zn&&UP(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(w){return new ma(sa(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Lp(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){let g=!!p.before,y=p.values||[];return new ga(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new ga(y,g)}(n.endAt)),Qq(e,i,s,o,a,"F",c,l)}function D3(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ak(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=sa(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=sa(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=sa(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=sa(n.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(sa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>ak(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function b3(t){return f3[t]}function C3(t){return p3[t]}function S3(t){return g3[t]}function oa(t){return{fieldPath:t.canonicalString()}}function sa(t){return Kt.fromServerFormat(t.fieldPath)}function ck(t){return t instanceof Xe?function(n){if(n.op==="=="){if(OM(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NAN"}};if(xM(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OM(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NOT_NAN"}};if(xM(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(n.field),op:C3(n.op),value:n.value}}}(t):t instanceof Zn?function(n){let r=n.getFilters().map(i=>ck(i));return r.length===1?r[0]:{compositeFilter:{op:S3(n.op),filters:r}}}(t):Q(54877,{filter:t})}function A3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Wu=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=Tt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var jI=class{constructor(e){this.gt=e}};function R3(t){let e=T3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bI(e,e.limit,"L"):e}var gp=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),$u(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Nr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Mr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?LP(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):FP(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Q(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=ha,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ae(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),W.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};gp.Ut=new gp;var UI=class{constructor(){this.Dn=new BI}addToCollectionParentIndex(e,n){return this.Dn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(ko.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},BI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(Ne.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Ne.comparator)).toArray()}};var Hae=new Uint8Array(0);var QM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lk=41943040,nn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(lk,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);var Ku=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var YM="LruGarbageCollector",N3=1048576;function JM([t,e],[n,r]){let i=ce(t,n);return i===0?ce(e,r):i}var $I=class{constructor(e){this.Tr=e,this.buffer=new st(JM),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();JM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},HI=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){j(YM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sa(n)?j(YM,"Ignoring IndexedDB error during garbage collection: ",n):yield Ca(n)}yield this.Rr(3e5)}))}},zI=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(Uw.ue);let r=new $I(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(QM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QM):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ra()<=le.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function M3(t,e){return new zI(t,e)}var qI=class{constructor(){this.changes=new Pr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var GI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var WI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ju(r.mutation,i,rn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=Ao();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ou();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ao();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=kr(),s=Vu(),a=function(){return Vu()}();return n.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Xn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ju(h.mutation,l,h.mutation.getFieldMask(),Qe.now())):s.set(l.key,rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new GI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Vu(),i=new je((s,a)=>s-a),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let h=r.get(c)||rn.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||de()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=KP();h.forEach(g=>{if(!o.has(g)){let y=ek(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(Ao()),a=Bu,c=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,de())).next(h=>({batchId:a,changes:WP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=Ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Ou();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,c=>{let l=function(p,g){return new ya(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Dn.newInvalidDocument(h)))});let a=Ou();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&ju(h.mutation,l,rn.empty(),Qe.now()),Bp(n,l)&&(a=a.insert(c,l))}),a})}};var KI=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return x.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:R3(i.bundledQuery),readTime:Yn(i.readTime)}}(n)),x.resolve()}};var QI=class{constructor(){this.overlays=new je(W.comparator),this.kr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ao();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Ao(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ao(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ao(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new NI(n,r));let o=this.kr.get(n);o===void 0&&(o=de(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var YI=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var Qu=class{constructor(){this.qr=new st(We.Qr),this.$r=new st(We.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new We(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new We(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new W(new Ne([])),r=new We(n,e),i=new We(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new W(new Ne([])),r=new We(n,e),i=new We(n,e+1),o=de();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new We(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return W.comparator(e.key,n.key)||ce(e.Hr,n.Hr)}static Ur(e,n){return ce(e.Hr,n.Hr)||W.comparator(e.key,n.key)}};var JI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new st(We.Qr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new AI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new We(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?Bw:this.er-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(ce);return n.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),x.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new We(new W(o),0),a=new st(ce);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Hr)),!0)},s),x.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return x.forEach(n.mutations,i=>{let o=new We(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new We(n,0),i=this.Yr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ZI=class{constructor(e){this.ni=e,this.docs=function(){return new je(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=kr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=kr(),s=n.path,a=new W(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Nq(Rq(h),r)<=0||(i.has(h.key)||Bp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}ri(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XI(this)}getSize(e){return x.resolve(this.size)}},XI=class extends qI{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var ew=class{constructor(e){this.persistence=e,this.ii=new Pr(n=>Gw(n),Ww),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new Qu,this.targetCount=0,this._i=Ku.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),x.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Ku(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.hr(n),x.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.oi.containsKey(n))}};var mp=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new Uw(0),this.ci=!1,this.ci=!0,this.li=new YI,this.referenceDelegate=e(this),this.hi=new ew(this),this.indexManager=new UI,this.remoteDocumentCache=function(i){return new ZI(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new jI(n),this.Ti=new KI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new JI(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new tw(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return x.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},tw=class extends dI{constructor(e){super(),this.currentSequenceNumber=e}},nw=class t{constructor(e){this.persistence=e,this.Ai=new Qu,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw Q(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),x.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.mi,r=>{let i=W.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return x.or([()=>x.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},yp=class t{constructor(e,n){this.persistence=e,this.gi=new Pr(r=>xq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=M3(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return x.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return x.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?x.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),x.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),x.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xf(e.data.value)),n}Sr(e,n,r){return x.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var rw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=de(),i=de();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var iw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ow=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return $R()?8:Pq(it())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new iw;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(ra()<=le.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(ra()<=le.DEBUG&&j("QueryEngine","Query:",ia(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ra()<=le.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):x.resolve())}ps(e,n){if(jM(n))return x.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bI(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.bs(n,a);return this.Ds(n,l,s,c.readTime)?this.ps(e,bI(n,null,"F")):this.vs(e,l,n,c)}))})))}ys(e,n,r,i){return jM(n)||i.isEqual(ie.min())?x.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?x.resolve(null):(ra()<=le.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ia(n)),this.vs(e,s,n,Aq(i,Bu)).next(a=>a))})}bs(e,n){let r=new st(qP(e));return n.forEach((i,o)=>{Bp(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return ra()<=le.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",ia(n)),this.gs.getDocumentsMatchingQuery(e,n,ko.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Yw="LocalStore",P3=3e8,sw=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new je(ce),this.Ms=new Pr(o=>Gw(o),Ww),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function k3(t,e,n,r){return new sw(t,e,n,r)}function dk(t,e){return _(this,null,function*(){let n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=de();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function x3(t,e){let n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let p=l.batch,g=p.keys(),y=x.resolve();return g.forEach(w=>{y=y.next(()=>h.getEntry(c,w)).next(N=>{let S=l.docVersions.get(w);_e(S!==null,48541),N.version.compareTo(S)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hk(t){let e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function O3(t,e){let n=ne(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Tt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,S,M){return N.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=P3?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(g,y,h)&&a.push(n.hi.updateTargetData(o,y))});let c=kr(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(F3(o,s,e.documentUpdates).next(h=>{c=h.Ls,l=h.ks})),!r.isEqual(ie.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.Fs=i,o))}function F3(t,e,n){let r=de(),i=de();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=kr();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):j(Yw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function L3(t,e){let n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Bw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function V3(t,e){let n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Wu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function aw(t,e,n){return _(this,null,function*(){let r=ne(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Sa(s))throw s;j(Yw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function ZM(t,e,n){let r=ne(t),i=ie.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let p=ne(c),g=p.Ms.get(h);return g!==void 0?x.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)}(r,s,Kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:de())).next(a=>(j3(r,Zq(e),a),{documents:a,qs:o})))}function j3(t,e,n){let r=t.xs.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var vp=class{constructor(){this.activeTargetIds=i3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var cw=class{constructor(){this.Fo=new vp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new vp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var uw=class{xo(e){}shutdown(){}};var XM="ConnectivityMonitor",_p=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){j(XM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){j(XM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zf=null;function lw(){return Zf===null?Zf=function(){return 268435456+Math.round(2147483648*Math.random())}():Zf++,"0x"+Zf.toString(16)}var eI="RestConnection",U3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},dw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ap?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=lw(),a=this.Go(e,n.toUriEncodedString());j(eI,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:l}=new URL(a),h=di(l);return this.jo(e,a,c,r,h).then(p=>(j(eI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ci(eI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=U3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var hw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var wt="WebChannelConnection",fw=class extends dw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=lw();return new Promise((a,c)=>{let l=new KE;l.setWithCredentials(!0),l.listenOnce(QE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xu.NO_ERROR:let p=l.getResponseJson();j(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case xu.TIMEOUT:j(wt,`RPC '${e}' ${s} timed out`),c(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:let g=l.getStatus();if(j(wt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let N=function(M){let L=M.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(L)>=0?L:k.UNKNOWN}(w.status);c(new B(N,w.message))}else c(new B(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new B(k.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{j(wt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);j(wt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=lw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ZE(),a=JE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let h=o.join("");j(wt,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c);this.T_(p);let g=!1,y=!1,w=new hw({Ho:S=>{y?j(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(j(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),j(wt,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Yo:()=>p.close()}),N=(S,M,L)=>{S.listen(M,H=>{try{L(H)}catch(z){setTimeout(()=>{throw z},0)}})};return N(p,na.EventType.OPEN,()=>{y||(j(wt,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),N(p,na.EventType.CLOSE,()=>{y||(y=!0,j(wt,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(p))}),N(p,na.EventType.ERROR,S=>{y||(y=!0,Ci(wt,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),w.__(new B(k.UNAVAILABLE,"The operation could not be completed")))}),N(p,na.EventType.MESSAGE,S=>{var M;if(!y){let L=S.data[0];_e(!!L,16349);let H=L,z=H?.error||((M=H[0])===null||M===void 0?void 0:M.error);if(z){j(wt,`RPC '${e}' stream ${i} received error:`,z);let Me=z.status,pe=function(I){let T=Ge[I];if(T!==void 0)return nk(T)}(Me),D=z.message;pe===void 0&&(pe=k.INTERNAL,D="Unknown error status: "+Me+" with message "+z.message),y=!0,w.__(new B(pe,D)),p.close()}else j(wt,`RPC '${e}' stream ${i} received:`,L),w.a_(L)}}),N(a,YE.STAT_EVENT,S=>{S.stat===Qf.PROXY?j(wt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Qf.NOPROXY&&j(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function tI(){return typeof document<"u"?document:null}function $p(t){return new xI(t,!0)}var Ep=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var eP="PersistentStream",Ip=class{constructor(e,n,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Ep(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return j(eP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(j(eP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},pw=class extends Ip{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=v3(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?Yn(s.readTime):ie.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=VI(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=DI(c)?{documents:I3(o,c)}:{query:w3(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=rk(o,s.resumeToken);let l=OI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=pp(o,s.snapshotVersion.toTimestamp());let l=OI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=D3(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=VI(this.serializer),n.removeTarget=e,this.k_(n)}},gw=class extends Ip{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=E3(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=VI(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>_3(this.serializer,r))};this.k_(n)}};var mw=class{},yw=class extends mw{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,FI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(k.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,FI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},vw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Rr(n),this._a=!1):j("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Lo="RemoteStore",_w=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Vo(this)&&(j(Lo,"Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let l=ne(c);l.Ia.add(4),yield Zu(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Hp(l)})}(this))}))}),this.Aa=new vw(r,i)}};function Hp(t){return _(this,null,function*(){if(Vo(t))for(let e of t.da)yield e(!0)})}function Zu(t){return _(this,null,function*(){for(let e of t.da)yield e(!1)})}function fk(t,e){let n=ne(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),eT(n)?Xw(n):Aa(n).x_()&&Zw(n,e))}function Jw(t,e){let n=ne(t),r=Aa(n);n.Ta.delete(e),r.x_()&&pk(n,e),n.Ta.size===0&&(r.x_()?r.B_():Vo(n)&&n.Aa.set("Unknown"))}function Zw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Aa(t).H_(e)}function pk(t,e){t.Ra.$e(e),Aa(t).Y_(e)}function Xw(t){t.Ra=new kI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Aa(t).start(),t.Aa.aa()}function eT(t){return Vo(t)&&!Aa(t).M_()&&t.Ta.size>0}function Vo(t){return ne(t).Ia.size===0}function gk(t){t.Ra=void 0}function B3(t){return _(this,null,function*(){t.Aa.set("Online")})}function $3(t){return _(this,null,function*(){t.Ta.forEach((e,n)=>{Zw(t,e)})})}function H3(t,e){return _(this,null,function*(){gk(t),eT(t)?(t.Aa.la(e),Xw(t)):t.Aa.set("Unknown")})}function z3(t,e,n){return _(this,null,function*(){if(t.Aa.set("Online"),e instanceof hp&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(t,e)}catch(r){j(Lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wp(t,r)}else if(e instanceof ca?t.Ra.Ye(e):e instanceof dp?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ie.min()))try{let r=yield hk(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.Ta.get(c);if(!h)return;o.Ta.set(c,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),pk(o,c);let p=new Wu(h.target,c,l,h.sequenceNumber);Zw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j(Lo,"Failed to raise snapshot:",r),yield wp(t,r)}})}function wp(t,e,n){return _(this,null,function*(){if(!Sa(e))throw e;t.Ia.add(1),yield Zu(t),t.Aa.set("Offline"),n||(n=()=>hk(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){j(Lo,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield Hp(t)}))})}function mk(t,e){return e().catch(n=>wp(t,n,e))}function zp(t){return _(this,null,function*(){let e=ne(t),n=Ai(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Bw;for(;q3(e);)try{let i=yield L3(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,G3(e,i)}catch(i){yield wp(e,i)}yk(e)&&vk(e)})}function q3(t){return Vo(t)&&t.Pa.length<10}function G3(t,e){t.Pa.push(e);let n=Ai(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function yk(t){return Vo(t)&&!Ai(t).M_()&&t.Pa.length>0}function vk(t){Ai(t).start()}function W3(t){return _(this,null,function*(){Ai(t).na()})}function K3(t){return _(this,null,function*(){let e=Ai(t);for(let n of t.Pa)e.X_(n.mutations)})}function Q3(t,e,n){return _(this,null,function*(){let r=t.Pa.shift(),i=RI.from(r,e,n);yield mk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield zp(t)})}function Y3(t,e){return _(this,null,function*(){e&&Ai(t).Z_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return d3(s)&&s!==k.ABORTED}(i.code)){let o=r.Pa.shift();Ai(r).N_(),yield mk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield zp(r)}})}(t,e)),yk(t)&&vk(t)})}function tP(t,e){return _(this,null,function*(){let n=ne(t);n.asyncQueue.verifyOperationInProgress(),j(Lo,"RemoteStore received new credentials");let r=Vo(n);n.Ia.add(3),yield Zu(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield Hp(n)})}function J3(t,e){return _(this,null,function*(){let n=ne(t);e?(n.Ia.delete(2),yield Hp(n)):e||(n.Ia.add(2),yield Zu(n),n.Aa.set("Unknown"))})}function Aa(t){return t.Va||(t.Va=function(n,r,i){let o=ne(n);return o.ia(),new pw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:B3.bind(null,t),e_:$3.bind(null,t),n_:H3.bind(null,t),J_:z3.bind(null,t)}),t.da.push(e=>_(null,null,function*(){e?(t.Va.N_(),eT(t)?Xw(t):t.Aa.set("Unknown")):(yield t.Va.stop(),gk(t))}))),t.Va}function Ai(t){return t.ma||(t.ma=function(n,r,i){let o=ne(n);return o.ia(),new gw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:W3.bind(null,t),n_:Y3.bind(null,t),ea:K3.bind(null,t),ta:Q3.bind(null,t)}),t.da.push(e=>_(null,null,function*(){e?(t.ma.N_(),yield zp(t)):(yield t.ma.stop(),t.Pa.length>0&&(j(Lo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var Ew=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function tT(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),Sa(t))return new B(k.UNAVAILABLE,`${e}: ${t}`);throw t}var Tp=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Ou(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Dp=class{constructor(){this.fa=new je(W.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Q(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},wa=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Tp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Iw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},ww=class{constructor(){this.queries=nP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=ne(n),o=i.queries;i.queries=nP(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new B(k.ABORTED,"Firestore shutting down"))}};function nP(){return new Pr(t=>zP(t),Up)}function _k(t,e){return _(this,null,function*(){let n=ne(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Iw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=tT(s,`Initialization of query '${ia(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&nT(n)})}function Ek(t,e){return _(this,null,function*(){let n=ne(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Z3(t,e){let n=ne(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&nT(n)}function X3(t,e,n){let r=ne(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function nT(t){t.Da.forEach(e=>{e.next()})}var Tw,rP;(rP=Tw||(Tw={})).Fa="default",rP.Cache="cache";var bp=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Tw.Cache}};var Cp=class{constructor(e){this.key=e}},Sp=class{constructor(e){this.key=e}},Dw=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=de(),this.mutatedKeys=de(),this.Xa=qP(e),this.eu=new Tp(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Dp,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Bp(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;g&&y?g.data.isEqual(y.data)?w!==N&&(r.track({type:3,doc:y}),S=!0):this.iu(g,y)||(r.track({type:2,doc:y}),S=!0,(c&&this.Xa(y,c)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),S=!0):g&&!y&&(r.track({type:1,doc:g}),S=!0,(c||l)&&(a=!0)),S&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,w){let N=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{At:S})}};return N(y)-N(w)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,l=c!==this.Ya;return this.Ya=c,s.length!==0||l?{snapshot:new wa(this.query,e.eu,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Dp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=de(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Sp(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Cp(r))}),n}uu(e){this.Ha=e.qs,this.Za=de();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return wa.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},rT="SyncEngine",bw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Cw=class{constructor(e){this.key=e,this.lu=!1}},Sw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Pr(a=>zP(a),Up),this.Tu=new Map,this.Iu=new Set,this.du=new je(W.comparator),this.Eu=new Map,this.Au=new Qu,this.Ru={},this.Vu=new Map,this.mu=Ku.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function e6(t,e,n=!0){return _(this,null,function*(){let r=Ck(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield Ik(r,e,n,!0),i})}function t6(t,e){return _(this,null,function*(){let n=Ck(t);yield Ik(n,e,!0,!1)})}function Ik(t,e,n,r){return _(this,null,function*(){let i=yield V3(t.localStore,Kn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield n6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&fk(t.remoteStore,i),a})}function n6(t,e,n,r,i){return _(this,null,function*(){t.gu=(p,g,y)=>function(N,S,M,L){return _(this,null,function*(){let H=S.view.nu(M);H.Ds&&(H=yield ZM(N.localStore,S.query,!1).then(({documents:D})=>S.view.nu(D,H)));let z=L&&L.targetChanges.get(S.targetId),Me=L&&L.targetMismatches.get(S.targetId)!=null,pe=S.view.applyChanges(H,N.isPrimaryClient,z,Me);return oP(N,S.targetId,pe._u),pe.snapshot})}(t,p,g,y);let o=yield ZM(t.localStore,e,!0),s=new Dw(e,o.qs),a=s.nu(o.documents),c=Gu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);oP(t,n,l._u);let h=new bw(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function r6(t,e,n){return _(this,null,function*(){let r=ne(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Up(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield aw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jw(r.remoteStore,i.targetId),Aw(r,i.targetId)}).catch(Ca))):(Aw(r,i.targetId),yield aw(r.localStore,i.targetId,!0))})}function i6(t,e){return _(this,null,function*(){let n=ne(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jw(n.remoteStore,r.targetId))})}function o6(t,e,n){return _(this,null,function*(){let r=h6(t);try{let i=yield function(s,a){let c=ne(s),l=Qe.now(),h=a.reduce((y,w)=>y.add(w.key),de()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=kr(),N=de();return c.Os.getEntries(y,h).next(S=>{w=S,w.forEach((M,L)=>{L.isValidDocument()||(N=N.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,w)).next(S=>{p=S;let M=[];for(let L of a){let H=l3(L,p.get(L.key).overlayedDocument);H!=null&&M.push(new Xn(L.key,H,VP(H.value.mapValue),Qn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,M,a)}).next(S=>{g=S;let M=S.applyToLocalDocumentSet(p,N);return c.documentOverlayCache.saveOverlays(y,S.batchId,M)})}).then(()=>({batchId:g.batchId,changes:WP(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Ru[s.currentUser.toKey()];l||(l=new je(ce)),l=l.insert(a,c),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Xu(r,i.changes),yield zp(r.remoteStore)}catch(i){let o=tT(i,"Failed to persist write");n.reject(o)}})}function wk(t,e){return _(this,null,function*(){let n=ne(t);try{let r=yield O3(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?_e(s.lu,14607):i.removedDocuments.size>0&&(_e(s.lu,42227),s.lu=!1))}),yield Xu(n,r,e)}catch(r){yield Ca(r)}})}function iP(t,e,n){let r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ne(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&nT(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function s6(t,e,n){return _(this,null,function*(){let r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new je(W.comparator);s=s.insert(o,Dn.newNoDocument(o,ie.min()));let a=de().add(o),c=new lp(ie.min(),new Map,new je(ce),s,a);yield wk(r,c),r.du=r.du.remove(o),r.Eu.delete(e),iT(r)}else yield aw(r.localStore,e,!1).then(()=>Aw(r,e,n)).catch(Ca)})}function a6(t,e){return _(this,null,function*(){let n=ne(t),r=e.batch.batchId;try{let i=yield x3(n.localStore,e);Dk(n,r,null),Tk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Xu(n,i)}catch(i){yield Ca(i)}})}function c6(t,e,n){return _(this,null,function*(){let r=ne(t);try{let i=yield function(s,a){let c=ne(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(_e(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);Dk(r,e,n),Tk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Xu(r,i)}catch(i){yield Ca(i)}})}function Tk(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function Dk(t,e,n){let r=ne(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Aw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||bk(t,r)})}function bk(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(Jw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),iT(t))}function oP(t,e,n){for(let r of n)r instanceof Cp?(t.Au.addReference(r.key,e),u6(t,r)):r instanceof Sp?(j(rT,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||bk(t,r.key)):Q(19791,{yu:r})}function u6(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(j(rT,"New document in limbo: "+n),t.Iu.add(r),iT(t))}function iT(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new W(Ne.fromString(e)),r=t.mu.next();t.Eu.set(r,new Cw(n)),t.du=t.du.insert(n,r),fk(t.remoteStore,new Wu(Kn(jp(n.path)),r,"TargetPurposeLimboResolution",Uw.ue))}}function Xu(t,e,n){return _(this,null,function*(){let r=ne(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=rw.Es(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,l){return _(this,null,function*(){let h=ne(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>x.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Sa(p))throw p;j(Yw,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),w=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(w);h.Fs=h.Fs.insert(g,N)}}})}(r.localStore,o))})}function l6(t,e){return _(this,null,function*(){let n=ne(t);if(!n.currentUser.isEqual(e)){j(rT,"User change. New user:",e.toKey());let r=yield dk(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new B(k.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xu(n,r.Bs)}})}function d6(t,e){let n=ne(t),r=n.Eu.get(e);if(r&&r.lu)return de().add(r.key);{let i=de(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function Ck(t){let e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s6.bind(null,e),e.hu.J_=Z3.bind(null,e.eventManager),e.hu.pu=X3.bind(null,e.eventManager),e}function h6(t){let e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c6.bind(null,e),e}var Sk=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=$p(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return k3(this.persistence,new ow,n.initialUser,this.serializer)}Du(n){return new mp(nw.Vi,this.serializer)}bu(n){return new cw}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Rw=class extends Sk{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){_e(this.persistence.referenceDelegate instanceof yp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new HI(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new mp(r=>yp.Vi(r,n),this.serializer)}};var f6=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=l6.bind(null,this.syncEngine),yield J3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new ww}()}createDatastore(n){let r=$p(n.databaseInfo.databaseId),i=function(s){return new fw(s)}(n.databaseInfo);return function(s,a,c,l){return new yw(s,a,c,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,c){return new _w(i,o,s,a,c)}(this.localStore,this.datastore,n.asyncQueue,r=>iP(this.syncEngine,r,0),function(){return _p.C()?new _p:new uw}())}createSyncEngine(n,r){return function(o,s,a,c,l,h,p){let g=new Sw(o,s,a,c,l,h);return p&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=ne(o);j(Lo,"RemoteStore shutting down."),s.Ia.add(5),yield Zu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Ap=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ri="FirestoreClient",Nw=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Uu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){j(Ri,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j(Ri,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=tT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function nI(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j(Ri,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield dk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Ci("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{j("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ci("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function sP(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield p6(t);j(Ri,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tP(e.remoteStore,i)),t._onlineComponents=e})}function p6(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j(Ri,"Using user provided OfflineComponentProvider");try{yield nI(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ci("Error using user provided cache. Falling back to memory cache: "+n),yield nI(t,new Sk)}}else j(Ri,"Using default OfflineComponentProvider"),yield nI(t,new Rw(void 0));return t._offlineComponents})}function Ak(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j(Ri,"Using user provided OnlineComponentProvider"),yield sP(t,t._uninitializedComponentsProvider._online)):(j(Ri,"Using default OnlineComponentProvider"),yield sP(t,new f6))),t._onlineComponents})}function g6(t){return Ak(t).then(e=>e.syncEngine)}function Mw(t){return _(this,null,function*(){let e=yield Ak(t),n=e.eventManager;return n.onListen=e6.bind(null,e.syncEngine),n.onUnlisten=r6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i6.bind(null,e.syncEngine),n})}function m6(t,e,n={}){let r=new Gn;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,c,l){let h=new Ap({next:g=>{h.Ou(),s.enqueueAndForget(()=>Ek(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?l.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new bp(jp(a.path),h,{includeMetadataChanges:!0,ka:!0});return _k(o,p)}(yield Mw(t),t.asyncQueue,e,n,r)})),r.promise}function Rk(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var aP=new Map;var Nk="firestore.googleapis.com",cP=!0,Rp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nk,this.ssl=cP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:cP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N3)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ta=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rI;switch(r.type){case"firstParty":return new aI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=aP.get(n);r&&(j("ComponentProvider","Removing Datastore"),aP.delete(n),r.terminate())}(this),Promise.resolve()}};function Mk(t,e,n,r={}){var i;t=on(t,Ta);let o=di(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o&&(Ef(`https://${c}`),If("Firestore",!0)),s.host!==Nk&&s.host!==c&&Ci("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Bn(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ot.MOCK_USER;else{h=FR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ot(g)}t._authCredentials=new iI(new np(h,p))}}var Np=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},at=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ju(n,t._jsonSchema))return new t(e,r||null,new W(Ne.fromString(n.referencePath)))}};at._jsonSchemaVersion="firestore/documentReference/1.0",at._jsonSchema={type:Ke("string",at._jsonSchemaVersion),referencePath:Ke("string")};var wi=class t extends Np{constructor(e,n,r){super(e,n,jp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function y6(t,e,...n){if(t=Be(t),pP("collection","path",e),t instanceof Ta){let r=Ne.fromString(e,...n);return SM(r),new wi(t,null,r)}{if(!(t instanceof at||t instanceof wi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return SM(r),new wi(t.firestore,null,r)}}function Ra(t,e,...n){if(t=Be(t),arguments.length===1&&(e=Uu.newId()),pP("doc","path",e),t instanceof Ta){let r=Ne.fromString(e,...n);return CM(r),new at(t,null,new W(r))}{if(!(t instanceof at||t instanceof wi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return CM(r),new at(t.firestore,t instanceof wi?t.converter:null,new W(r))}}var uP="AsyncQueue",Mp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Ep(this,"async_queue_retry"),this.oc=()=>{let r=tI();r&&j(uP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=tI();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=tI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Gn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Sa(e))throw e;j(uP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Rr("INTERNAL UNHANDLED ERROR: ",lP(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=Ew.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Q(47125,{hc:lP(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function lP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function dP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var er=class extends Ta{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Mp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Mp(e),this._firestoreClient=void 0,yield e}})}};function Pk(t,e){let n=typeof t=="object"?t:Eo(),r=typeof t=="string"?t:e||ap,i=Js(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=OR("firestore");o&&Mk(i,...o)}return i}function oT(t){if(t._terminated)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||v6(t),t._firestoreClient}function v6(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,h){return new hI(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Rk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Nw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var Ti=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Tt.fromBase64String(e))}catch(n){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ju(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ti._jsonSchemaVersion="firestore/bytes/1.0",Ti._jsonSchema={type:Ke("string",Ti._jsonSchemaVersion),bytes:Ke("string")};var Da=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Yu=class{constructor(e){this._methodName=e}};var Di=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Ju(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ke("string",Di._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};var bi=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ju(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new B(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Ke("string",bi._jsonSchemaVersion),vectorValues:Ke("object")};var _6=/^__.*__$/,Pw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fo(e,this.data,n,this.fieldTransforms)}},Pp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function kk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ec:t})}}var kw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return xp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(kk(this.Ec)&&_6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},xw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$p(e)}Dc(e,n,r,i=!1){return new kw({Ec:e,methodName:n,bc:r,path:Kt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function sT(t){let e=t._freezeSettings(),n=$p(t._databaseId);return new xw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xk(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);aT("Data must be an object, but it was:",s,r);let a=Ok(r,s),c,l;if(o.merge)c=new rn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=Ow(e,p,n);if(!s.contains(g))throw new B(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Lk(h,g)||h.push(g)}c=new rn(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new Pw(new Wt(a),c,l)}var kp=class t extends Yu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function E6(t,e,n,r){let i=t.Dc(1,e,n);aT("Data must be an object, but it was:",i,r);let o=[],s=Wt.empty();Ni(r,(c,l)=>{let h=cT(e,c,n);l=Be(l);let p=i.gc(h);if(l instanceof kp)o.push(h);else{let g=qp(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new rn(o);return new Pp(s,a,i.fieldTransforms)}function I6(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[Ow(e,r,n)],c=[i];if(o.length%2!=0)throw new B(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Ow(e,o[g])),c.push(o[g+1]);let l=[],h=Wt.empty();for(let g=a.length-1;g>=0;--g)if(!Lk(l,a[g])){let y=a[g],w=c[g];w=Be(w);let N=s.gc(y);if(w instanceof kp)l.push(y);else{let S=qp(w,N);S!=null&&(l.push(y),h.set(y,S))}}let p=new rn(l);return new Pp(h,p,s.fieldTransforms)}function qp(t,e){if(Fk(t=Be(t)))return aT("Unsupported field value:",e,t),Ok(t,e);if(t instanceof Yu)return function(r,i){if(!kk(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=qp(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Qe.fromDate(r);return{timestampValue:pp(i.serializer,o)}}if(r instanceof Qe){let o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pp(i.serializer,o)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ti)return{bytesValue:rk(i.serializer,r._byteString)};if(r instanceof at){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bi)return function(s,a){return{mapValue:{fields:{[Hw]:{stringValue:zw},[ha]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Kw(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${jw(r)}`)}(t,e)}function Ok(t,e){let n={};return NP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,i)=>{let o=qp(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Fk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Di||t instanceof Ti||t instanceof at||t instanceof Yu||t instanceof bi)}function aT(t,e,n){if(!Fk(n)||!gP(n)){let r=jw(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Ow(t,e,n){if((e=Be(e))instanceof Da)return e._internalPath;if(typeof e=="string")return cT(t,e);throw xp("Field path arguments must be of type string or ",t,!1,void 0,n)}var w6=new RegExp("[~\\*/\\[\\]]");function cT(t,e,n){if(e.search(w6)>=0)throw xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Da(...e.split("."))._internalPath}catch{throw xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xp(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new B(k.INVALID_ARGUMENT,a+t+c)}function Lk(t,e){return t.some(n=>n.isEqual(e))}var Op=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Fw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Vk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Fw=class extends Op{data(){return super.data()}};function Vk(t,e){return typeof e=="string"?cT(t,e):e instanceof Da?e._internalPath:e._delegate._internalPath}function T6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Lw=class{convertValue(e,n="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ni(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ha].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new bi(o)}convertGeoPoint(e){return new Di(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Vp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){let n=Nr(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);_e(uk(r),9688,{name:e});let i=new cp(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function jk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var No=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Mo=class t extends Op{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Vk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mo._jsonSchema={type:Ke("string",Mo._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var ua=class extends Mo{data(e={}){return super.data(e)}},la=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new No(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ua(this._firestore,this._userDataWriter,r.key,r,new No(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ua(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ua(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:D6(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function D6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}function uT(t){t=on(t,at);let e=on(t.firestore,er);return m6(oT(e),t._key).then(n=>Uk(e,t,n))}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:Ke("string",la._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var Fp=class extends Lw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}};function lT(t,e,n){t=on(t,at);let r=on(t.firestore,er),i=jk(t.converter,e,n);return Gp(r,[xk(sT(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qn.none())])}function dT(t,e,n,...r){t=on(t,at);let i=on(t.firestore,er),o=sT(i),s;return s=typeof(e=Be(e))=="string"||e instanceof Da?I6(o,"updateDoc",t._key,e,n,r):E6(o,"updateDoc",t._key,e),Gp(i,[s.toMutation(t._key,Qn.exists(!0))])}function b6(t){return Gp(on(t.firestore,er),[new qu(t._key,Qn.none())])}function C6(t,e){let n=on(t.firestore,er),r=Ra(t),i=jk(t.converter,e);return Gp(n,[xk(sT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function hT(t,...e){var n,r,i;t=Be(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||dP(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(dP(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(t instanceof at)l=on(t.firestore,er),h=jp(t._key.path),c={next:p=>{e[s]&&e[s](Uk(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=on(t,Np);l=on(p.firestore,er),h=p._query;let g=new Fp(l);c={next:y=>{e[s]&&e[s](new la(l,g,p,y))},error:e[s+1],complete:e[s+2]},T6(t._query)}return function(g,y,w,N){let S=new Ap(N),M=new bp(y,S,w);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return _k(yield Mw(g),M)})),()=>{S.Ou(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Ek(yield Mw(g),M)}))}}(oT(l),h,a,c)}function Gp(t,e){return function(r,i){let o=new Gn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return o6(yield g6(r),i,o)})),o.promise}(oT(t),e)}function Uk(t,e,n){let r=n.docs.get(e._key),i=new Fp(t);return new Mo(t,i,e._key,r,new No(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ba=i})(fi),In(new Pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new er(new oI(r.getProvider("auth-internal")),new cI(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cp(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ve(wM,TM,e),Ve(wM,TM,"esm2017")})();var Wp=function(){return Wp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Wp.apply(this,arguments)};var R6={includeMetadataChanges:!1};function Bk(t,e){return e===void 0&&(e=R6),new Z(function(n){var r=hT(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function $k(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Wp(Wp({},r),(n={},n[e.idField]=t.id,n))}function Hk(t){return Bk(t,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function zk(t,e){return e===void 0&&(e={}),Hk(t).pipe(X(function(n){return n.map(function(r){return $k(r,e)})}))}var jo=class{constructor(e){return e}},qk="firestore",fT=class{constructor(){return Xs(qk)}};var pT=new U("angularfire2.firestore-instances");function N6(t,e){let n=Iu(qk,t,e);return n&&new jo(n)}function M6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new jo(r)}}var P6={provide:fT,deps:[[new Nt,pT]]},k6={provide:jo,useFactory:N6,deps:[[new Nt,pT],Tr]};function aue(t,...e){return Ve("angularfire",pi.full,"fst"),Ot([k6,P6,{provide:pT,useFactory:M6(t),multi:!0,deps:[ge,Ze,gi,wo,[new Nt,ku],[new Nt,ea],...e]}])}var cue=wn(zk,!0);var uue=wn(Pk,!0);var Gk=class t{auth=P(So);db=P(jo);user$;constructor(){this.user$=mM(this.auth)}get currentUser$(){return this.user$}isLoggedIn(){return this.currentUser$.pipe(X(e=>!!e))}signUp(e){return Ie(yM(this.auth,e.email,e.password)).pipe(dt(n=>{let r={uid:n.user.uid,email:e.email,name:e.name,age:e.age,imageUrl:e.imageUrl};return lT(Ra(this.db,"users",n.user.uid),r)}))}signIn(e,n){return Ie(vM(this.auth,e,n))}logout(){return Ie(_M(this.auth))}getUserData(e){return Ie(uT(Ra(this.db,"users",e)))}updateProfileImage(e,n){return new Promise((r,i)=>{let o=new FileReader;o.onload=()=>_(this,null,function*(){try{let s=o.result,a=Ra(this.db,"users",n);yield dT(a,{imageUrl:s}),r(s)}catch(s){i(s)}}),o.onerror=s=>i(s),o.readAsDataURL(e)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};export{V as a,ye as b,Px as c,ke as d,Ye as e,ut as f,Ie as g,K as h,X as i,Zx as j,lt as k,eO as l,bn as m,Mg as n,dt as o,O as p,ld as q,$ as r,Gr as s,U as t,q as u,P as v,Tb as w,Db as x,ze as y,_c as z,so as A,ih as B,pn as C,g1 as D,iS as E,oS as F,U1 as G,B1 as H,sF as I,ro as J,ao as K,Ee as L,oi as M,vv as N,co as O,On as P,bs as Q,eA as R,nA as S,_t as T,ge as U,uo as V,uV as W,dV as X,hV as Y,fV as Z,pV as _,gV as $,lA as aa,bv as ba,Cv as ca,Ih as da,Sv as ea,Av as fa,dA as ga,vV as ha,fA as ia,wh as ja,gA as ka,TV as la,DV as ma,Nv as na,Mv as oa,bV as pa,_A as qa,FV as ra,KV as sa,bA as ta,Pv as ua,CA as va,AA as wa,JV as xa,RA as ya,ZV as za,XV as Aa,ij as Ba,oj as Ca,sj as Da,cj as Ea,lj as Fa,dj as Ga,fj as Ha,Ss as Ia,mj as Ja,Rs as Ka,bh as La,mr as Ma,d2 as Na,h2 as Oa,f2 as Pa,m2 as Qa,y2 as Ra,_2 as Sa,E2 as Ta,m0 as Ua,s_ as Va,L2 as Wa,ci as Xa,O0 as Ya,lU as Za,dU as _a,_n as $a,Er as ab,A_ as bb,Ks as cb,mf as db,$B as eb,qB as fb,iN as gb,Xoe as hb,Tae as ib,Dae as jb,y6 as kb,Ra as lb,b6 as mb,C6 as nb,jo as ob,aue as pb,cue as qb,uue as rb,Gk as sb};
