import{a as q,c as G,e as X,j as Z}from"./chunk-72RNS4JL.js";import{a as ee}from"./chunk-6IIAW7ZD.js";import{a as Q,j as W,k as K,l as N,m as H,n as J,o as Y}from"./chunk-CUQ73EIQ.js";import{Da as c,E as _,Ea as D,F as m,Fa as u,Ha as R,Ia as A,Ja as z,La as U,Pa as b,Q as g,Qa as y,R as P,Ra as V,U as r,X as S,Z as F,f as $,ha as C,ia as x,ka as f,la as M,lb as L,ma as v,na as l,nb as j,oa as s,p as E,pa as w,pb as B,ta as h,va as p,xa as n}from"./chunk-B4T3W676.js";var T=(i,d)=>d.id;function oe(i,d){if(i&1){let e=h();l(0,"div",0)(1,"img",2),p("visible",function(){_(e);let t=n();return m(t.overviewVisible=!0)}),s(),w(2,"div",3),s()}if(i&2){let e=n();r(),v("@zoomIn",e.overviewVisible?"visible":"void")("src","https://image.tmdb.org/t/p/w1280"+e.mediaDetails.backdrop_path,g)}}function ae(i,d){if(i&1&&w(0,"iframe",9),i&2){let e=n(2);v("src",e.trailerKey,P)}}function re(i,d){if(i&1){let e=h();l(0,"img",38),p("visible",function(){_(e);let t=n(3);return m(t.overviewVisible=!0)}),s()}if(i&2){let e=n(3);v("@zoomIn",e.overviewVisible?"visible":"void")("src","https://image.tmdb.org/t/p/w500"+e.mediaDetails.poster_path,g)}}function le(i,d){if(i&1&&(l(0,"div",10),C(1,re,1,2,"img",36),l(2,"p",37),c(3,"Trailer is not available for this media."),s()()),i&2){let e=n(2);r(),x(e.mediaDetails?1:-1)}}function se(i,d){if(i&1&&(l(0,"p"),w(1,"i",39),c(2),b(3,"timeAgo"),s()),i&2){let e=n(2);r(2),u(" ",y(3,1,e.mediaDetails.release_date))}}function de(i,d){if(i&1&&(l(0,"p"),w(1,"i",39),c(2),b(3,"timeAgo"),s()),i&2){let e=n(2);r(2),u(" ",y(3,1,e.mediaDetails.first_air_date))}}function ce(i,d){if(i&1){let e=h();l(0,"h3",23),p("visible",function(){_(e);let t=n(2);return m(t.overviewVisible=!0)}),c(1),s()}if(i&2){let e=n(2);v("@slideDown",e.overviewVisible?"visible":"void"),r(),D(e.mediaDetails.title)}}function _e(i,d){if(i&1){let e=h();l(0,"h3",23),p("visible",function(){_(e);let t=n(2);return m(t.overviewVisible=!0)}),c(1),s()}if(i&2){let e=n(2);v("@slideDown",e.overviewVisible?"visible":"void"),r(),D(e.mediaDetails.name)}}function me(i,d){if(i&1){let e=h();l(0,"div",43),p("click",function(){_(e);let t=n().$implicit,a=n(3);return m(a.goToProfileDetails("person",t.id))}),l(1,"img",44),p("visible",function(){_(e);let t=n().$index,a=n(3);return m(a.visibleItems[t]=!0)}),s(),l(2,"p",45),p("visible",function(){_(e);let t=n().$index,a=n(3);return m(a.visibleItems[t]=!0)}),c(3),s()()}if(i&2){let e=n(),o=e.$implicit,t=e.$index,a=n(3);r(),v("@zoomIn",a.visibleItems[t]?"visible":"void")("src","https://image.tmdb.org/t/p/w500"+o.profile_path,g)("alt",o.name),r(),v("@slideUp",a.visibleItems[t]?"visible":"void"),r(),D(o.name)}}function pe(i,d){if(i&1&&C(0,me,4,5,"div",42),i&2){let e=d.$implicit;x(e.profile_path?0:-1)}}function Ce(i,d){if(i&1&&(l(0,"h4",40),c(1,"Cast"),s(),l(2,"div",41),f(3,pe,1,1,null,null,T),s()),i&2){let e=n(2);r(3),M(e.cast)}}function xe(i,d){if(i&1){let e=h();l(0,"div",47),p("click",function(){_(e);let t=n().$implicit,a=n(3);return m(a.goToProfileDetails("person",t.id))}),l(1,"img",44),p("visible",function(){_(e);let t=n().$index,a=n(3);return m(a.visibleItems[t]=!0)}),s(),l(2,"p",45),p("visible",function(){_(e);let t=n().$index,a=n(3);return m(a.visibleItems[t]=!0)}),c(3),s()()}if(i&2){let e=n(),o=e.$implicit,t=e.$index,a=n(3);r(),v("@zoomIn",a.visibleItems[t]?"visible":"void")("src","https://image.tmdb.org/t/p/w500"+o.profile_path,g)("alt",o.name),r(),v("@slideUp",a.visibleItems[t]?"visible":"void"),r(),u(" ",o.name," ")}}function ve(i,d){if(i&1&&C(0,xe,4,5,"div",46),i&2){let e=d.$implicit;x(e.profile_path?0:-1)}}function ue(i,d){if(i&1&&(l(0,"h4",40),c(1,"Crew"),s(),l(2,"div",41),f(3,ve,1,1,null,null,T),s()),i&2){let e=n(2);r(3),M(e.crew)}}function we(i,d){if(i&1){let e=h();l(0,"div",48)(1,"div",49)(2,"img",50),p("visible",function(){_(e);let t=n().$index,a=n(2);return m(a.visibleItems[t]=!0)}),s()(),l(3,"p",45),p("visible",function(){_(e);let t=n().$index,a=n(2);return m(a.visibleItems[t]=!0)}),c(4),b(5,"seeMore"),s()()}if(i&2){let e=n(),o=e.$implicit,t=e.$index,a=n(2);r(2),v("alt",U("",o.name," Logo"))("@zoomIn",a.visibleItems[t]?"visible":"void")("src","https://image.tmdb.org/t/p/w500"+o.logo_path,g),r(),v("@slideUp",a.visibleItems[t]?"visible":"void"),r(),D(V(5,6,o.name,2))}}function he(i,d){if(i&1&&C(0,we,6,9,"div",48),i&2){let e=d.$implicit;x(e.logo_path?0:-1)}}function be(i,d){if(i&1){let e=h();l(0,"a",24),p("click",function(){_(e);let t=n(2).$implicit,a=n(2);return m(a.toggleComment(t.id))}),c(1),s()}if(i&2){let e=n(2).$implicit,o=n(2);r(),u(" ",o.isFullShown(e.id)?"See less":"See more"," ")}}function ge(i,d){if(i&1){let e=h();l(0,"div",51)(1,"div",52)(2,"div")(3,"img",53),p("visible",function(){_(e);let t=n().$index,a=n(2);return m(a.visibleItems[t]=!0)}),s(),l(4,"span",54),c(5),s(),l(6,"span",55),c(7),b(8,"timeAgo"),s()(),l(9,"div",56)(10,"button",57),c(11,"Reply"),s()()(),l(12,"div",58),c(13),b(14,"seeMore"),C(15,be,2,1,"a",59),s()()}if(i&2){let e=n(),o=e.$implicit,t=e.$index,a=n(2);r(3),v("@zoomIn",a.visibleItems[t]?"visible":"void")("src","https://image.tmdb.org/t/p/w500"+o.author_details.avatar_path,g),r(2),u(" @",o.author_details.username),r(2),D(y(8,6,o.created_at)),r(6),u(" ",a.isFullShown(o.id)?o.content:V(14,8,o.content,35)," "),r(2),x(a.isLongComment(o.content)?15:-1)}}function fe(i,d){if(i&1&&C(0,ge,16,11,"div",51),i&2){let e=d.$implicit;x(e.author_details.avatar_path?0:-1)}}function Me(i,d){if(i&1){let e=h();l(0,"p",64),p("visible",function(){_(e);let t=n(2).$index,a=n(3);return m(a.visibleItems[t]=!0)})("click",function(){_(e);let t=n(2).$implicit,a=n(3);return m([a.goToMediaDetails(a.type,t.id),a.onToggleRecommend()])}),c(1),b(2,"seeMore"),s()}if(i&2){let e=n(2),o=e.$implicit,t=e.$index,a=n(3);v("@slideDown",a.visibleItems[t]?"visible":"void"),r(),u(" ",V(2,2,o.title,4)," ")}}function De(i,d){if(i&1){let e=h();l(0,"p",64),p("visible",function(){_(e);let t=n(2).$index,a=n(3);return m(a.visibleItems[t]=!0)})("click",function(){_(e);let t=n(2).$implicit,a=n(3);return m([a.goToMediaDetails(a.type,t.id),a.onToggleRecommend()])}),c(1),b(2,"seeMore"),s()}if(i&2){let e=n(2),o=e.$implicit,t=e.$index,a=n(3);v("@slideDown",a.visibleItems[t]?"visible":"void"),r(),u(" ",V(2,2,o.name,4)," ")}}function ye(i,d){if(i&1&&(l(0,"span"),w(1,"i",39),c(2),b(3,"timeAgo"),s()),i&2){let e=n(2).$implicit;r(2),u(" ",y(3,1,e.release_date)," ")}}function Ve(i,d){if(i&1&&(l(0,"span"),w(1,"i",39),c(2),b(3,"timeAgo"),s()),i&2){let e=n(2).$implicit;r(2),u(" ",y(3,1,e.first_air_date)," ")}}function Se(i,d){if(i&1){let e=h();l(0,"div",60)(1,"img",61),p("visible",function(){_(e);let t=n().$index,a=n(3);return m(a.visibleItems[t]=!0)})("click",function(){_(e);let t=n().$implicit,a=n(3);return m([a.goToMediaDetails(a.type,t.id),a.onToggleRecommend()])}),s(),l(2,"div",62),C(3,Me,3,5,"p",63),C(4,De,3,5,"p",63),C(5,ye,4,3,"span"),C(6,Ve,4,3,"span"),w(7,"br"),l(8,"span"),w(9,"i",13),c(10),s()()()}if(i&2){let e=n(),o=e.$implicit,t=e.$index,a=n(3);r(),v("@zoomIn",a.visibleItems[t]?"visible":"void")("src","https://image.tmdb.org/t/p/w500"+o.poster_path,g),r(2),x(o.title?3:-1),r(),x(o.name?4:-1),r(),x(o.release_date?5:-1),r(),x(o.first_air_date?6:-1),r(4),u(" ",o.vote_count," views")}}function Te(i,d){if(i&1&&C(0,Se,11,7,"div",60),i&2){let e=d.$implicit;x(e.poster_path?0:-1)}}function Oe(i,d){if(i&1&&(l(0,"div",35),f(1,Te,1,1,null,null,T),s()),i&2){let e=n(2);v("@slideOutIn",void 0),r(),M(e.mediaRecommendations)}}function Ie(i,d){if(i&1){let e=h();l(0,"div",1)(1,"div",4),p("click",function(){_(e);let t=n();return m(t.onToggleRecommend())}),w(2,"i",5),s(),l(3,"div",6)(4,"div",7)(5,"div",8),C(6,ae,1,1,"iframe",9)(7,le,4,1,"div",10),l(8,"div",11),C(9,se,4,3,"p"),C(10,de,4,3,"p"),l(11,"p",12),w(12,"i",13),c(13),s(),l(14,"div")(15,"button",14),w(16,"i",15),c(17," Like"),s(),l(18,"button",16),w(19,"i",17),c(20," Dislike"),s()(),l(21,"div")(22,"button",14),w(23,"i",18),c(24," Share"),s()()()(),l(25,"div",19)(26,"div",20),C(27,ce,2,2,"h3",21),C(28,_e,2,2,"h3",21),s(),l(29,"div",22)(30,"p",23),p("visible",function(){_(e);let t=n();return m(t.overviewVisible=!0)}),c(31),b(32,"seeMore"),s(),C(33,Ce,5,0),C(34,ue,5,0),l(35,"a",24),p("click",function(){_(e);let t=n();return m(t.toggleOverview())}),c(36),s()(),l(37,"div",25)(38,"h5"),c(39,"Production companies"),s(),l(40,"div",26),f(41,he,1,1,null,null,T),s()(),l(43,"div",27)(44,"div",28)(45,"h5",29),p("visible",function(){_(e);let t=n();return m(t.overviewVisible=!0)}),c(46,"Comments"),s(),l(47,"div",30)(48,"textarea",31),z("ngModelChange",function(t){_(e);let a=n();return A(a.newComment,t)||(a.newComment=t),m(t)}),s(),l(49,"div",32)(50,"button",33),p("click",function(){_(e);let t=n();return m(t.cancelComment())}),c(51,"Cancel"),s(),l(52,"button",34),p("click",function(){_(e);let t=n();return m(t.postComment())}),c(53,"Post Comment"),s()()(),f(54,fe,1,1,null,null,T),s()()()(),C(56,Oe,3,1,"div",35),s()()}if(i&2){let e=n();r(6),x(e.trailerKey?6:7),r(3),x(e.mediaDetails.release_date?9:-1),r(),x(e.mediaDetails.first_air_date?10:-1),r(3),u(" ",e.mediaDetails.vote_count," views"),r(14),x(e.mediaDetails.title?27:-1),r(),x(e.mediaDetails.name?28:-1),r(2),v("@slideUp",e.overviewVisible?"visible":"void"),r(),u(" ",e.showFullOverview?e.mediaDetails.overview:V(32,15,e.mediaDetails.overview,30)," "),r(2),x(e.showFullOverview?33:-1),r(),x(e.showFullOverview?34:-1),r(2),u(" ",e.showFullOverview?"See less":"See more"," "),r(5),M(e.mediaDetails.production_companies),r(4),v("@slideDown",e.overviewVisible?"visible":"void"),r(3),R("ngModel",e.newComment),r(4),v("disabled",!e.newComment.trim()),r(2),M(e.reviewsList),r(2),x(e.MoveRight?56:-1)}}var ie=class i{constructor(d,e,o,t){this._MediaDetailsService=d;this.route=e;this.sanitizer=o;this._Router=t}visibleItems={};overviewVisible=!1;newComment="";type;id;mediaDetails=null;showFullOverview=!1;showFullComments={};trailerKey=null;mediaRecommendations=[];cast=[];crew=[];reviewsList=[];MoveRight=!1;mediaQuery;subscriptions=new $;checkScreenWidth(){this.MoveRight=this.mediaQuery.matches}ngOnInit(){this.mediaQuery=window.matchMedia("(min-width: 1301px), (min-width: 901px) and (max-width: 999px)"),this.checkScreenWidth(),this.mediaQuery.addEventListener("change",this.checkScreenWidth.bind(this));let d=this.route.paramMap.subscribe(e=>{this.type=e.get("mediaType")||"",this.id=e.get("mediaId")||"";let o=E({details:this._MediaDetailsService.getMediaDetails(this.type,this.id),credits:this._MediaDetailsService.getMostDetails(this.type,this.id,"credits"),videos:this._MediaDetailsService.getMostDetails(this.type,this.id,"videos"),recommendations:this._MediaDetailsService.getMostDetails(this.type,this.id,"recommendations"),reviews:this._MediaDetailsService.getMostDetails(this.type,this.id,"reviews")}).subscribe({next:({details:t,videos:a,recommendations:te,credits:O,reviews:ne})=>{this.mediaDetails=t,this.mediaRecommendations=te.results||[],this.cast=O.cast?.slice(0,8)||[],this.crew=O.crew?.slice(0,8)||[],this.reviewsList=ne.results||[];let I=a.results.find(k=>k.type==="Trailer"&&k.site==="YouTube");this.trailerKey=I?this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+I.key):null},error:t=>console.error("Error loading data:",t)});this.subscriptions.add(o)});this.subscriptions.add(d)}onToggleRecommend(){this.mediaQuery.matches||(this.MoveRight=!this.MoveRight)}toggleOverview(){this.showFullOverview=!this.showFullOverview}toggleComment(d){this.showFullComments[d]=!this.showFullComments[d]}isLongComment(d){return d?.split(" ").length>35}isFullShown(d){return this.showFullComments[d]||!1}postComment(){this.newComment.trim()&&(this.reviewsList.unshift({username:"NewUser",timeAgo:"just now",text:this.newComment,avatar:"https://randomuser.me/api/portraits/lego/1.jpg"}),this.newComment="")}cancelComment(){this.newComment=""}goToMediaDetails(d,e){this._Router.navigate(["media-details",d,e]),window.scrollTo({top:0,behavior:"smooth"})}goToProfileDetails(d,e){this._Router.navigate(["person-details",d,e])}ngOnDestroy(){this.subscriptions.unsubscribe(),this.mediaDetails=null,this.cast=[],this.crew=[],this.reviewsList=[],this.mediaRecommendations=[],this.trailerKey=null,this.mediaQuery.removeEventListener("change",this.checkScreenWidth.bind(this))}static \u0275fac=function(e){return new(e||i)(S(ee),S(j),S(L),S(B))};static \u0275cmp=F({type:i,selectors:[["app-media-details"]],decls:4,vars:2,consts:[[1,"header-img","w-100","rounded-3","position-relative"],[1,"position-relative","overflow-hidden","w-100","py-5"],["appAnimateOnVisible","","alt","",1,"w-100","h-100","rounded-3",3,"visible","src"],[1,"overley","position-absolute","top-0","start-0","w-100","h-100"],[1,"recommend-list","p-3","position-absolute",3,"click"],[1,"fa-solid","fa-bars","fs-5"],[1,"media-details","position-relative"],[1,"media-details-show","px-2"],[1,"video-show","w-100","rounded-4"],["width","100%","height","300","frameborder","0","allow","autoplay; encrypted-media","allowfullscreen","",3,"src"],[1,"text-center","py-3"],[1,"d-flex","justify-content-lg-between","gap-2","flex-wrap","bg-black","pt-2","px-2","border-bottom","border-secondary"],[1,"ps-lg-0","ps-2"],[1,"fa-solid","fa-eye"],[1,"px-2","py-1","text-white","bg-dark"],[1,"fa-solid","fa-thumbs-up"],[1,"px-2","py-1","ms-1","bg-dark","text-white"],[1,"fa-solid","fa-thumbs-down"],[1,"fa-solid","fa-share"],[1,"details-show","mt-2"],[1,"pt-5","pb-1","border-bottom","border-secondary"],["appAnimateOnVisible",""],[1,"py-3","border-bottom","border-secondary"],["appAnimateOnVisible","",3,"visible"],[1,"see-more-link",3,"click"],[1,"pt-4"],[1,"d-flex","justify-content-center","flex-wrap","gap-4","pt-4","border-bottom","border-secondary"],[1,"pt-5"],[1,"comments-container","rounded-3","p-xl-4","p-3","w-100","overflow-hidden"],["appAnimateOnVisible","",1,"fw-bold","mb-3",3,"visible"],[1,"mb-3"],["placeholder","Add a comment...","rows","3",1,"form-control","bg-black","text-white","border-0",3,"ngModelChange","ngModel"],[1,"mt-2","d-flex","justify-content-start","gap-2"],[1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"button-mix-color","text-white",3,"click","disabled"],[1,"recommendations","rounded-3","p-3"],["appAnimateOnVisible","","alt","Poster","width","70%","height","300",1,"rounded-4",3,"src"],[1,"pt-2"],["appAnimateOnVisible","","alt","Poster","width","70%","height","300",1,"rounded-4",3,"visible","src"],[1,"fa-solid","fa-clock"],[1,"pt-3"],[1,"d-flex","justify-content-center","gap-3","flex-wrap"],[1,"cast-person","p-2","text-center","overflow-hidden",2,"cursor","pointer"],[1,"cast-person","p-2","text-center","overflow-hidden",2,"cursor","pointer",3,"click"],["appAnimateOnVisible","","width","100","height","100",1,"rounded-circle",3,"visible","src","alt"],["appAnimateOnVisible","",1,"pt-2",3,"visible"],[1,"crew-person","p-2","text-center","overflow-hidden",2,"cursor","pointer"],[1,"crew-person","p-2","text-center","overflow-hidden",2,"cursor","pointer",3,"click"],[1,"company-container","text-center","overflow-hidden"],[1,"rounded-3","bg-white"],["appAnimateOnVisible","",3,"visible","src","alt"],[1,"bg-black","mb-3","rounded-3","p-3"],[1,"d-flex","justify-content-between"],["appAnimateOnVisible","","width","50","height","50","alt","avatar",1,"rounded-circle","me-2",3,"visible","src"],[1,"fw-semibold","text-white","ps-2"],[1,"date-content","ps-3"],[1,"pt-1"],[1,"px-2","py-1","bg-primary"],[1,"text-light","small","my-2"],[1,"see-more-link"],[1,"w-100","d-flex","p-2","mb-2","bg-black","rounded-3","overflow-hidden"],["appAnimateOnVisible","","height","100","alt","",1,"rounded-3",3,"visible","click","src"],[1,"ps-2"],["appAnimateOnVisible","",1,"media-title"],["appAnimateOnVisible","",1,"media-title",3,"visible","click"]],template:function(e,o){e&1&&(l(0,"header"),C(1,oe,3,2,"div",0),s(),l(2,"section"),C(3,Ie,57,18,"div",1),s()),e&2&&(r(),x(o.mediaDetails?1:-1),r(2),x(o.mediaDetails?3:-1))},dependencies:[Z,q,G,X,J,Q,Y],styles:[".header-img[_ngcontent-%COMP%]{height:300px}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:var(--pragrah-color)}.media-details[_ngcontent-%COMP%]{display:flex}.media-details-show[_ngcontent-%COMP%]{width:65%}.recommendations[_ngcontent-%COMP%]{width:35%;background-color:var(--input-color)}.recommend-list[_ngcontent-%COMP%]{display:none;top:0;left:0;transition:right .5s ease}.recommendations[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;cursor:pointer}.video-show[_ngcontent-%COMP%]{background-color:var(--input-color)}.company-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .company-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:70px}.comments-container[_ngcontent-%COMP%]{background-color:var(--bg-section)}textarea[_ngcontent-%COMP%]::placeholder{color:var(--pragrah-color);font-style:italic;font-size:14px;opacity:1}@media screen and (max-width:1300px){.recommend-list[_ngcontent-%COMP%]{display:block}.recommendations[_ngcontent-%COMP%]{position:absolute;top:0%;right:0;z-index:4444;width:40%;transition:.5s ease-in-out;overflow-y:scroll;height:100%}.media-details-show[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:1000px){.recommend-list[_ngcontent-%COMP%]{display:none}.recommendations[_ngcontent-%COMP%]{position:static;width:35%;overflow-y:auto}.media-details-show[_ngcontent-%COMP%]{width:65%}}@media screen and (max-width:900px){.recommend-list[_ngcontent-%COMP%]{display:block}.recommendations[_ngcontent-%COMP%]{position:absolute;width:60%;overflow-y:scroll}.media-details-show[_ngcontent-%COMP%]{width:100%}.company-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .company-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:60px}}@media screen and (max-width:600px){.recommendations[_ngcontent-%COMP%]{width:100%}.company-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .company-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;height:100px}}"],data:{animation:[K,N,H,W]}})};export{ie as MediaDetailsComponent};
