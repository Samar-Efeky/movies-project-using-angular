import{Ab as y,Bb as h,Db as b,R as i,a as p,b as l,s as u,w as f,xb as a,yb as d,zb as g}from"./chunk-HHDR55EE.js";var w=class r{transform(t,e){if(!t||typeof t!="string")return"";let n=t.split(" ");return n.slice(0,e).join(" ")+(n.length>e?"...":"")}static \u0275fac=function(e){return new(e||r)};static \u0275pipe=i({name:"seeMore",type:r,pure:!0})};var v=class r{transform(t){let e=new Date(t),s=Math.floor((new Date().getTime()-e.getTime())/1e3),c={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(let m in c){let o=Math.floor(s/c[m]);if(o>=1)return`${o} ${this.getLabel(m,o)} ago`}return"just now"}getLabel(t,e){return e===1?{year:"year",month:"month",week:"week",day:"day",hour:"hour",minute:"minute"}[t]:{year:"years",month:"months",week:"weeks",day:"days",hour:"hours",minute:"minutes"}[t]}static \u0275fac=function(e){return new(e||r)};static \u0275pipe=i({name:"timeAgo",type:r,pure:!0})};var P=class r{db=f(h);addToHistory(t,e){let n=a(this.db,`users/${t}/history`),s=new Date().toISOString();return y(n,l(p({},e),{openedAt:s}))}getHistory(t){let e=a(this.db,`users/${t}/history`);return b(e,{idField:"docId"})}removeFromHistory(t,e){let n=d(this.db,`users/${t}/history/${e}`);return g(n)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};export{w as a,v as b,P as c};
