import{a as V,b as u,c as q,d as M,f as D,g as G,h as L,i as R,j,l as z}from"./chunk-N5TIMNTN.js";import{Ba as E,Eb as N,J as r,La as F,O as y,Ra as T,X as p,Y as s,_a as P,ba as x,ca as t,da as o,ea as _,ha as h,ia as f,ja as g,lb as O,m as w,mb as k,nb as I,pb as A,qa as m,sa as U,w as S,x as v,y as b}from"./chunk-SHVYU6Q6.js";var Y=n=>({"bg-disabled":n});function $(n,a){if(n&1&&(t(0,"div",6),m(1),o()),n&2){let i=g();r(),U(" ",i.signUpError," ")}}function W(n,a){n&1&&(t(0,"p",27),m(1,"Name is required"),o())}function H(n,a){n&1&&(t(0,"p",27),m(1,"Name must be at least 4 letters"),o())}function J(n,a){n&1&&(t(0,"p",27),m(1,"The name must not exceed 15 letters."),o())}function K(n,a){if(n&1&&(t(0,"div",11),p(1,W,2,0,"p",27),p(2,H,2,0,"p",27),p(3,J,2,0,"p",27),o()),n&2){let i,e,l,d=g();r(),s(!((i=d.signupForm.get("name"))==null||i.errors==null)&&i.errors.required?1:-1),r(),s(!((e=d.signupForm.get("name"))==null||e.errors==null)&&e.errors.minlength?2:-1),r(),s(!((l=d.signupForm.get("name"))==null||l.errors==null)&&l.errors.maxlength?3:-1)}}function Q(n,a){n&1&&(t(0,"p",27),m(1,"Email is required"),o())}function X(n,a){n&1&&(t(0,"p",27),m(1,"Invalid email"),o())}function Z(n,a){if(n&1&&(t(0,"div",11),p(1,Q,2,0,"p",27),p(2,X,2,0,"p",27),o()),n&2){let i,e,l=g();r(),s(!((i=l.signupForm.get("email"))==null||i.errors==null)&&i.errors.required?1:-1),r(),s(!((e=l.signupForm.get("email"))==null||e.errors==null)&&e.errors.email?2:-1)}}function ee(n,a){n&1&&(t(0,"p",27),m(1,"Age is required"),o())}function ne(n,a){n&1&&(t(0,"p",27),m(1,"Age not less than 12 years"),o())}function te(n,a){if(n&1&&(t(0,"div",11),p(1,ee,2,0,"p",27),p(2,ne,2,0,"p",27),o()),n&2){let i,e,l=g();r(),s(!((i=l.signupForm.get("age"))==null||i.errors==null)&&i.errors.required?1:-1),r(),s(!((e=l.signupForm.get("age"))==null||e.errors==null)&&e.errors.min?2:-1)}}function ie(n,a){if(n&1){let i=h();t(0,"i",28),f("click",function(){v(i);let l=g();return b(l.togglePasswordVisibility())}),o()}}function oe(n,a){if(n&1){let i=h();t(0,"i",29),f("click",function(){v(i);let l=g();return b(l.togglePasswordVisibility())}),o()}}function le(n,a){n&1&&(t(0,"p",27),m(1,"Password is required"),o())}function ae(n,a){n&1&&(t(0,"p",27),m(1,"Password must be minimum letters is 6"),o())}function re(n,a){if(n&1&&(t(0,"div",11),p(1,le,2,0,"p",27),p(2,ae,2,0,"p",27),o()),n&2){let i,e,l=g();r(),s(!((i=l.signupForm.get("password"))==null||i.errors==null)&&i.errors.required?1:-1),r(),s(!((e=l.signupForm.get("password"))==null||e.errors==null)&&e.errors.minlength?2:-1)}}var B=class n{showPassword=!1;signupForm;signUpError="";fb=S(j);auth=S(N);router=S(P);ngOnInit(){this.signupForm=this.fb.group({name:["",[u.required,u.minLength(4),u.maxLength(15)]],age:["",[u.required,u.min(12)]],profileImage:["",u.required],email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]]})}onSubmit(){if(this.signupForm.valid){let{email:a,password:i,name:e,age:l,profileImage:d}=this.signupForm.value;this.auth.signUp({email:a,password:i,name:e,age:l,imageUrl:d}).pipe(w(1)).subscribe({next:()=>{this.router.navigate(["/profile"])},error:c=>{c.code==="auth/email-already-in-use"?this.signUpError="This email is already in use. Please try logging in.":this.signUpError="Sign up failed. Please try again later."}})}}onImageChange(a){let i=a.target.files[0],e=new FileReader;e.onload=()=>{let l=e.result;if(l.startsWith("data:image"))this.signupForm.patchValue({profileImage:l});else{let c=`data:${i.type};base64,${l.split(",")[1]}`;this.signupForm.patchValue({profileImage:c})}},e.readAsDataURL(i)}togglePasswordVisibility(){this.showPassword=!this.showPassword}goToSignIn(){this.router.navigate(["/signIn"])}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=y({type:n,selectors:[["app-sign-up-component"]],decls:43,vars:13,consts:[[1,"container-fluid","d-flex","justify-content-center","py-3"],[1,"sign","text-center","my-5","p-3","rounded-4"],["appAnimateOnScroll","slideDown",1,"py-3","text-center"],["routerLink","home-page",1,"logo","d-inline"],[1,"fa-solid","fa-clapperboard"],[1,"px-1"],[1,"alert","alert-danger","m-auto","my-3","p-0"],[1,"w-100","m-auto","text-center","my-4",3,"ngSubmit","formGroup"],[1,"input-container","w-100","text-center","position-relative"],["id","name","type","text","appAnimateOnScroll","slideUp","autocomplete","name","formControlName","name",1,"w-100","p-3","rounded-3"],["for","name",1,"input-label","position-absolute","px-2","text-black"],[1,"alert","alert-danger","p-0","text-start","my-2"],["id","email","type","email","appAnimateOnScroll","slideUp","autocomplete","email","formControlName","email",1,"w-100","p-3","rounded-3"],["for","email",1,"input-label","position-absolute","px-2","text-black"],[1,"input-container","pt-3","w-100","text-center","position-relative"],["id","age","type","number","appAnimateOnScroll","slideUp","autocomplete","age","formControlName","age",1,"w-100","p-3","rounded-3"],["for","age",1,"input-label","position-absolute","px-2","text-black"],["appAnimateOnScroll","slideUp","id","img","type","file",1,"w-100","p-3","rounded-3",3,"change"],["for","img",1,"input-label","position-absolute","px-2","text-black"],[1,"input-container","pt-3","rounded-3","w-100","text-center","position-relative"],["appAnimateOnScroll","slideUp","id","Password","formControlName","password","autocomplete","new-password",1,"w-100","p-3","rounded-3",3,"type"],["for","Password",1,"input-label","position-absolute","text-black","px-2"],[1,"fas","fa-eye","position-absolute"],[1,"fas","fa-eye-slash","position-absolute"],["appAnimateOnScroll","zoomIn","type","submit",1,"w-75","py-2","rounded-2","fw-bolder","button-mix-color","text-white",3,"disabled","ngClass"],["appAnimateOnScroll","slideUp",1,"pt-2","mb-0"],["appAnimateOnScroll","slideUp",1,"text-decoration-underline","p-2",3,"click"],[1,"ms-4"],[1,"fas","fa-eye","position-absolute",3,"click"],[1,"fas","fa-eye-slash","position-absolute",3,"click"]],template:function(i,e){if(i&1&&(t(0,"div",0)(1,"div",1)(2,"h4",2),m(3," Sign up to "),t(4,"div",3),_(5,"i",4),t(6,"span",5),m(7,"Media"),o()()(),p(8,$,2,1,"div",6),t(9,"form",7),f("ngSubmit",function(){return e.onSubmit()}),t(10,"div",8),_(11,"input",9),t(12,"label",10),m(13,"Name"),o(),p(14,K,4,3,"div",11),o(),t(15,"div",8),_(16,"input",12),t(17,"label",13),m(18,"Email"),o(),p(19,Z,3,2,"div",11),o(),t(20,"div",14),_(21,"input",15),t(22,"label",16),m(23,"Age"),o(),p(24,te,3,2,"div",11),o(),t(25,"div",14)(26,"input",17),f("change",function(d){return e.onImageChange(d)}),o(),t(27,"label",18),m(28,"Image profile"),o()(),t(29,"div",19),_(30,"input",20),t(31,"label",21),m(32,"Password"),o(),p(33,ie,1,0,"i",22),p(34,oe,1,0,"i",23),p(35,re,3,2,"div",11),o(),t(36,"div")(37,"button",24),m(38," Register "),o(),t(39,"p",25),m(40,"Do you have an account? "),o(),t(41,"a",26),f("click",function(){return e.goToSignIn()}),m(42," Sign in"),o()()()()()),i&2){let l,d,c,C;r(8),s(e.signUpError!=""?8:-1),r(),x("formGroup",e.signupForm),r(5),s((l=e.signupForm.get("name"))!=null&&l.invalid&&((l=e.signupForm.get("name"))!=null&&l.touched)?14:-1),r(5),s((d=e.signupForm.get("email"))!=null&&d.invalid&&((d=e.signupForm.get("email"))!=null&&d.touched)?19:-1),r(5),s((c=e.signupForm.get("age"))!=null&&c.invalid&&((c=e.signupForm.get("age"))!=null&&c.touched)?24:-1),r(6),x("type",e.showPassword?"text":"password"),r(3),s(e.showPassword?-1:33),r(),s(e.showPassword?34:-1),r(),s((C=e.signupForm.get("password"))!=null&&C.invalid&&((C=e.signupForm.get("password"))!=null&&C.touched)?35:-1),r(2),x("disabled",e.signupForm.invalid)("ngClass",E(11,Y,e.signupForm.invalid))}},dependencies:[T,F,z,D,V,G,q,M,L,R,A],styles:[".sign[_ngcontent-%COMP%]{width:50%;background-color:var(--bg-section)}input[_ngcontent-%COMP%]{background-color:var(--black-color);color:var(--white-volor)}.input-container[_ngcontent-%COMP%]{margin:5% 0}label[_ngcontent-%COMP%]{left:25px;transform:translateY(-50%)}.fa-eye[_ngcontent-%COMP%], .fa-eye-slash[_ngcontent-%COMP%]{transform:translateY(100%);right:15px}@media screen and (max-width:1500px){.sign[_ngcontent-%COMP%]{width:70%}}@media screen and (max-width:992px){.sign[_ngcontent-%COMP%]{width:100%}}"],data:{animation:[k,I,O]}})};export{B as SignUpComponent};
