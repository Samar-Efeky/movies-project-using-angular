import{A as Ui,E as Bi,F as Za,H as el,a as vi,b as wi,c as Ti,d as bi,e as Ei,f as Ii,g as Ha,h as hs,i as Si,j as Ci,k as Xa,l as Ai,m as Pi,n as Ri,o as xi,p as Ya,q as ki,r as tt,s as Di,t as Vi,u as Ni,v as Oi,w as Mi,x as Fi,y as Li,z as Ja}from"./chunk-H5XZIR6H.js";import{a as en}from"./chunk-ZM3WDTF4.js";import{a as Zt,b as G,c as He,d as Wa,e as us,f as Mt,g as gi,h as xn,i as _i,k as ze,l as $e,m as Ve,n as Ne,o as yi}from"./chunk-CUQ73EIQ.js";import{$ as Da,$a as pi,Aa as ft,B as di,Ca as Va,Da as R,E as Z,Ea as ge,F as ee,Fa as Pe,G as fi,H as Aa,K as et,Ka as cs,N as Pa,Na as Pn,Oa as Rn,P as ss,Pa as De,Q as We,Qa as Ct,Ra as At,S as os,Sa as Na,T as Ra,U as S,V as xa,X as me,Y as ka,Ya as Oa,Z as re,a as ui,bb as Ma,c as va,da as Nt,e as Ze,ea as Xt,eb as Fa,f as wa,fb as Yt,gb as La,h as Ta,ha as z,hb as Ua,ia as $,ib as Ba,ja as mi,jb as qa,ka as xe,kb as za,la as ke,ma as F,mb as $a,na as E,nb as ja,oa as I,ob as Ka,p as ba,pa as N,pb as qe,q as Ea,qa as Ee,qb as Jt,r as Ia,ra as Ie,rb as Ga,s as Sa,sa as Ot,sb as Qa,t as Ca,ta as ce,u as Y,ua as as,va as O,w as Wt,wa as ls,xa as k,y as hi,ya as ht,z as Ht,za as dt}from"./chunk-B4T3W676.js";var nt=class r{constructor(e){this.http=e}headers=new Ba({Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiM2NmYTg5ZTdmNzNmOTI2Mzg4NmU4MjM4YzllZmYwMCIsIm5iZiI6MTcyNzA1MTc1My43MjE3MjcsInN1YiI6IjY2ZThkODllYjY2NzQ2ZGQ3OTBhOTAzZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.3De39_Q83wJNsQmhQVQzoMAh1WkAT6QxVizq24Mvlso",accept:"application/json"});getMediaCollection(e,t,i){return this.http.get(`https://api.themoviedb.org/3/${e}/${t}?language=en-US&page=${i}`,{headers:this.headers})}getTrending(e,t,i){return this.http.get(`https://api.themoviedb.org/3/${e}/${t}/day?language=en-US&page=${i}`,{headers:this.headers})}searchMulti(e,t="1"){return this.http.get(`https://api.themoviedb.org/3/search/multi?query=${encodeURIComponent(e)}&language=en-US&page=${t}&include_adult=false`,{headers:this.headers})}static \u0275fac=function(t){return new(t||r)(Ht(qa))};static \u0275prov=Wt({token:r,factory:r.\u0275fac,providedIn:"root"})};var zu=["swiperCont"];function $u(r,e){if(r&1){let t=ce();E(0,"p",19),O("click",function(){Z(t);let s=k(2).$implicit,a=k();return ee(a.goToMediaDetails(a.mediaType,s.id))}),R(1),I()}if(r&2){let t=k(2).$implicit;S(),ge(t.name)}}function ju(r,e){if(r&1){let t=ce();E(0,"p",19),O("click",function(){Z(t);let s=k(2).$implicit,a=k();return ee(a.goToMediaDetails(a.mediaType,s.id))}),R(1),I()}if(r&2){let t=k(2).$implicit;S(),ge(t.title)}}function Ku(r,e){if(r&1){let t=ce();E(0,"div",13),O("visible",function(){Z(t);let s=k().$index,a=k();return ee(a.markAsVisible(s))}),E(1,"div",14)(2,"img",15),O("click",function(){Z(t);let s=k().$implicit,a=k();return ee(a.goToMediaDetails(a.mediaType,s.id))}),I(),E(3,"div",16),z(4,$u,2,1,"p",17),z(5,ju,2,1,"p",17),E(6,"p",18),R(7),De(8,"seeMore"),I()()()()}if(r&2){let t=k(),i=t.$implicit,s=t.$index,a=k();S(2),F("@zoomIn",a.visibleItems[s]?"visible":"void")("src","https://image.tmdb.org/t/p/w500"+i.poster_path,We),S(2),$(i.name?4:-1),S(),$(i.title?5:-1),S(),F("@slideUp",a.visibleItems[s]?"visible":"void"),S(),Pe(" ",At(8,6,i.overview,25)," ")}}function Gu(r,e){if(r&1&&z(0,Ku,9,9,"div",12),r&2){let t=e.$implicit;$(t.poster_path?0:-1)}}var zi=class r{constructor(e,t){this._MediaService=e;this._Router=t}category="popular";mediaType="movie";visibleItems={};movies=[];moviesSubscription;swiperInstance;swiperInitTimeout;swiperContRef;ngOnInit(){this.moviesSubscription=this._MediaService.getMediaCollection(this.mediaType,this.category,"1").subscribe(e=>{this.movies=e.results,this.initSwiperWithDelay()})}ngAfterViewInit(){this.initSwiperWithDelay()}trackMedia(e,t){let i=t.id||"no-id",s=t.name||t.title||"no-name",a=t.profile_path||t.poster_path||"no-image";return`${i}-${s}-${a}-${e}`}markAsVisible(e){this.visibleItems[e]||(this.visibleItems[e]=!0)}initSwiperWithDelay(){this.swiperInitTimeout&&clearTimeout(this.swiperInitTimeout),this.swiperInitTimeout=setTimeout(()=>{this.movies.length>=1&&this.initSwiper()},500)}initSwiper(){if(this.swiperContRef){if(this.swiperInstance?.destroy&&typeof this.swiperInstance.destroy=="function"){try{this.swiperInstance.destroy(!0,!0)}catch(e){console.warn("Swiper destroy error:",e)}this.swiperInstance=null}this.swiperInstance=new Swiper(this.swiperContRef.nativeElement,{loop:!0,slidesPerView:1,spaceBetween:40,autoplay:{delay:2e3,disableOnInteraction:!1}})}}goToMediaDetails(e,t){e=="person"?this._Router.navigate(["person-details",e,t]):this._Router.navigate(["media-details",e,t])}goToMediaCollection(e,t){this._Router.navigate(["media-collection",e,t])}ngOnDestroy(){if(this.moviesSubscription&&this.moviesSubscription.unsubscribe(),this.swiperInitTimeout&&(clearTimeout(this.swiperInitTimeout),this.swiperInitTimeout=null),this.swiperInstance?.destroy&&typeof this.swiperInstance.destroy=="function"){try{this.swiperInstance.destroy(!0,!0)}catch(e){console.warn("Swiper destroy error:",e)}this.swiperInstance=null}}static \u0275fac=function(t){return new(t||r)(me(nt),me(qe))};static \u0275cmp=re({type:r,selectors:[["app-header"]],viewQuery:function(t,i){if(t&1&&ht(zu,5),t&2){let s;dt(s=ft())&&(i.swiperContRef=s.first)}},inputs:{category:"category",mediaType:"mediaType"},decls:18,vars:3,consts:[["swiperCont",""],[1,"position-relative","header-content","w-100"],[1,"banner","mb-2","w-100","overflow-hidden"],[1,"banner-bg","position-absolute","top-0","start-0","w-100","h-100"],[1,"banner-content","p-2"],[1,"main-section-title"],[1,"mySwiper1"],[1,"swiper-wrapper"],[1,"d-flex","gap-3","pt-md-3"],[1,"btn","btn-light","rounded-4","p-2",3,"click"],[1,"btn-trailer","button-mix-color","border-white","rounded-4","p-2","text-white",3,"click"],[1,"fa-solid","fa-play"],["appAnimateOnVisible","",1,"swiper-slide"],["appAnimateOnVisible","",1,"swiper-slide",3,"visible"],[1,"header-content-container"],["alt","Movie Poster",1,"header-img",3,"click","src"],[1,"px-md-5","px-2","pt-2"],[1,"media-title","pt-1","fw-bolder"],[1,"pt-md-3","pt-1","fw-medium"],[1,"media-title","pt-1","fw-bolder",3,"click"]],template:function(t,i){if(t&1){let s=ce();E(0,"div")(1,"div",1)(2,"div",2),N(3,"div",3),E(4,"div",4)(5,"h2",5),R(6," Discover The Latest TV Series From Media "),I(),E(7,"div",6,0)(9,"div",7),xe(10,Gu,1,1,null,null,i.trackMedia,!0),I()(),E(12,"div",8)(13,"button",9),O("click",function(){return Z(s),ee(i.goToMediaCollection(i.mediaType,i.category))}),R(14," Discover Now "),I(),E(15,"button",10),O("click",function(){return Z(s),ee(i.goToMediaCollection(i.mediaType,i.category))}),N(16,"i",11),R(17," Play Trailer "),I()()()()()()}t&2&&(S(5),F("@slideDown",void 0),S(5),ke(i.movies),S(3),F("@zoomIn",void 0),S(2),F("@zoomIn",void 0))},dependencies:[Ne,Zt],styles:['.header-content[_ngcontent-%COMP%]{background-image:url("./media/header-img-2RD7MLLQ.jpg");background-repeat:no-repeat;background-size:cover;border-radius:12px;height:30%}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3rem}.header-content-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.header-content-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:75%}.header-img[_ngcontent-%COMP%]{width:40%;height:300px;border-radius:12px;object-fit:cover}@media screen and (max-width:1300px){.header-content-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%}.header-img[_ngcontent-%COMP%]{width:350px;height:200px}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media screen and (max-width:1000px){.header-img[_ngcontent-%COMP%]{width:400px}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media screen and (max-width:650px){.header-content-container[_ngcontent-%COMP%]{display:block}.header-img[_ngcontent-%COMP%]{width:90%}}'],data:{animation:[ze,$e,Ve]}})};var Qu=["swiperContainer"];function Wu(r,e){if(r&1&&Ot(0,"img",12),r&2){let t=k(2).$implicit;as("src","https://image.tmdb.org/t/p/w500"+t.profile_path,We)}}function Hu(r,e){if(r&1&&Ot(0,"img",13),r&2){let t=k(2).$implicit;as("src","https://image.tmdb.org/t/p/w500"+t.poster_path,We)}}function Xu(r,e){if(r&1&&(Ee(0,"button",14),R(1),Ie()),r&2){let t=k(2).$implicit;S(),Pe(" ",t.vote_average," ")}}function Yu(r,e){if(r&1&&(Ee(0,"p"),R(1),De(2,"seeMore"),Ie()),r&2){let t=k(2).$implicit;S(),ge(At(2,1,t.name,2))}}function Ju(r,e){if(r&1&&(Ee(0,"p"),R(1),De(2,"seeMore"),Ie()),r&2){let t=k(2).$implicit;S(),ge(At(2,1,t.title,2))}}function Zu(r,e){if(r&1&&(Ee(0,"p")(1,"span",15),Ot(2,"i",16),R(3),De(4,"timeAgo"),Ie()()),r&2){let t=k(2).$implicit;S(3),Pe(" ",Ct(4,1,t.release_date))}}function eh(r,e){if(r&1&&(Ee(0,"p")(1,"span",15),Ot(2,"i",16),R(3),De(4,"timeAgo"),Ie()()),r&2){let t=k(2).$implicit;S(3),Pe(" ",Ct(4,1,t.first_air_date))}}function th(r,e){if(r&1){let t=ce();Ee(0,"div",10),ls("click",function(){Z(t);let s=k().$implicit,a=k();return ee(a.goToMediaDetails(a.mediaType=="trending"?s.media_type:a.mediaType,s.id))}),Ee(1,"div",11),z(2,Wu,1,1,"img",12),z(3,Hu,1,1,"img",13),z(4,Xu,2,1,"button",14),Ie(),z(5,Yu,3,4,"p"),z(6,Ju,3,4,"p"),z(7,Zu,5,3,"p"),z(8,eh,5,3,"p"),Ie()}if(r&2){let t=k().$implicit;S(2),$(t.profile_path?2:-1),S(),$(t.poster_path?3:-1),S(),$(t.vote_average?4:-1),S(),$(t.name?5:-1),S(),$(t.title?6:-1),S(),$(t.release_date?7:-1),S(),$(t.first_air_date?8:-1)}}function nh(r,e){if(r&1&&z(0,th,9,7,"div",9),r&2){let t=e.$implicit;$(t.profile_path||t.poster_path?0:-1)}}var $i=class r{constructor(e,t,i){this._MediaService=e;this.cd=t;this._Router=i}category="popular";mediaType="movie";title="";movies=[];moviesSubscription;swiperTimeout;swiperInstance;swiperContainer;ngOnInit(){this.moviesSubscription=this._MediaService.getMediaCollection(this.mediaType,this.category,"1").subscribe(e=>{this.movies=e.results,this.swiperTimeout=setTimeout(()=>{this.movies.length>=2&&this.initSwiper()},0),this.cd.detectChanges()})}ngAfterViewInit(){this.swiperTimeout=setTimeout(()=>{this.movies.length>=2&&this.initSwiper()},0)}trackMedia(e,t){let i=t.id||"no-id",s=t.name||t.title||"no-name",a=t.profile_path||t.poster_path||"no-image";return`${i}-${s}-${a}-${e}`}initSwiper(){!this.movies||this.movies.length<2||(this.swiperInstance&&typeof this.swiperInstance.destroy=="function"&&(this.swiperInstance.destroy(!0,!0),this.swiperInstance=null),this.swiperInstance=new Swiper(this.swiperContainer.nativeElement,{loop:this.movies.length>4,slidesPerView:Math.min(5,this.movies.length),spaceBetween:20,autoplay:{delay:2500,disableOnInteraction:!1},navigation:{nextEl:".custom-next",prevEl:".custom-prev"},breakpoints:{0:{slidesPerView:1},570:{slidesPerView:2},830:{slidesPerView:3},1e3:{slidesPerView:2},1100:{slidesPerView:3},1300:{slidesPerView:4},1500:{slidesPerView:Math.min(5,this.movies.length)}}}),console.log("Swiper instance initialized \u2705"))}ngOnDestroy(){this.moviesSubscription&&this.moviesSubscription.unsubscribe(),this.swiperTimeout&&clearTimeout(this.swiperTimeout),this.swiperInstance&&typeof this.swiperInstance.destroy=="function"&&(this.swiperInstance.destroy(!0,!0),this.swiperInstance=null,console.log("Swiper destroyed \u2705"))}goToMediaDetails(e,t){e=="person"?this._Router.navigate(["person-details",e,t]):this._Router.navigate(["media-details",e,t])}goToMediaCollection(e,t){this._Router.navigate(["media-collection",e,t])}static \u0275fac=function(t){return new(t||r)(me(nt),me(Oa),me(qe))};static \u0275cmp=re({type:r,selectors:[["app-slider"]],viewQuery:function(t,i){if(t&1&&ht(Qu,5),t&2){let s;dt(s=ft())&&(i.swiperContainer=s.first)}},inputs:{category:"category",mediaType:"mediaType",title:"title"},decls:14,vars:2,consts:[["swiperContainer",""],[1,"d-flex","justify-content-between","pt-5"],[1,"fa-solid","fa-play"],[1,"text-white","p-2",3,"click"],[1,"swiper","position-relative"],[1,"swiper-navigation"],[1,"swiper-button-prev","custom-prev"],[1,"swiper-button-next","custom-next"],[1,"swiper-wrapper"],[1,"swiper-slide","media-container"],[1,"swiper-slide","media-container",3,"click"],[1,"position-relative"],["alt","Person Image",3,"src"],["alt","Movie Poster",3,"src"],[1,"vote","p-1","rounded-0","border-0","fw-bolder","text-white","position-absolute","top-0","end-0"],[1,"date-media"],[1,"fa-solid","fa-clock"]],template:function(t,i){if(t&1){let s=ce();Ee(0,"div",1)(1,"h3"),Ot(2,"i",2),R(3),Ie(),Ee(4,"button",3),ls("click",function(){return Z(s),ee(i.goToMediaCollection(i.mediaType,i.category))}),R(5,"View all"),Ie()(),Ee(6,"div",4,0)(8,"div",5),Ot(9,"button",6)(10,"button",7),Ie(),Ee(11,"div",8),xe(12,nh,1,1,null,null,i.trackMedia,!0),Ie()()}t&2&&(S(3),Pe(" ",i.title),S(3),F("@slideUp",void 0),S(6),ke(i.movies))},dependencies:[Zt,yi],styles:[".swiper[_ngcontent-%COMP%]{width:100%;padding:10px 0}.fa-play[_ngcontent-%COMP%]{color:var(--main-color)}button[_ngcontent-%COMP%]{border:.1px solid var(--main-color);border-radius:12px}h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.swiper-navigation[_ngcontent-%COMP%]{position:absolute;top:50%;width:100%;z-index:20;display:flex;justify-content:space-between;transform:translateY(-50%);pointer-events:none}.swiper-button-prev[_ngcontent-%COMP%], .swiper-button-next[_ngcontent-%COMP%]{pointer-events:all;background-color:#0009;border:none;color:#fff;padding:25px;cursor:pointer;transition:background-color .3s ease}@media screen and (max-width:900px){h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}}"],data:{animation:[$e,Ve]}})};var tn=class r{constructor(e){this.router=e}overViewVisible=!1;goToLatestMovies(){this.router.navigate(["media-collection","movie","top_rated"])}static \u0275fac=function(t){return new(t||r)(me(qe))};static \u0275cmp=re({type:r,selectors:[["app-see-latest-movies"]],decls:16,vars:4,consts:[[1,"section-container","w-100","d-flex","mt-5","rounded-4","position-relative","overflow-hidden"],[1,"container-img"],["src","assets/images/sub-banner-img.png","alt","kids-images",1,"w-100","h-100"],[1,"container-content","px-lg-3","p-2","pt-3"],["appAnimateOnVisible","",1,"main-section-title","fw-bolder",3,"visible"],["appAnimateOnVisible","",1,"py-2",3,"visible"],[1,"d-flex","gap-md-3","gap-1","py-2","px-md-5"],["appAnimateOnVisible","",1,"see-latest-movies","border-white","fw-bolder","rounded-4","p-md-3","p-2",3,"visible","click"],[1,"fa-solid","fa-play"],["appAnimateOnVisible","",1,"btn-light","border-white","fw-bolder","rounded-4","p-md-3","p-2","text-white",3,"visible"],[1,"fa-brands","fa-google-play"]],template:function(t,i){t&1&&(E(0,"section")(1,"div",0)(2,"div",1),N(3,"img",2),I(),E(4,"div",3)(5,"h2",4),O("visible",function(){return i.overViewVisible=!0}),R(6," Kids Zone With Special Security "),I(),E(7,"p",5),O("visible",function(){return i.overViewVisible=!0}),R(8," ScreenPal's intuitive tools help you capture, create, and share videos and images for authentic and effective visual communication. "),I(),E(9,"div",6)(10,"button",7),O("visible",function(){return i.overViewVisible=!0})("click",function(){return i.goToLatestMovies()}),N(11,"i",8),R(12," See Top rated movies "),I(),E(13,"button",9),O("visible",function(){return i.overViewVisible=!0}),N(14,"i",10),R(15," Download Our App "),I()()()()()),t&2&&(S(5),F("@slideDown",i.overViewVisible?"visible":"void"),S(2),F("@slideUp",i.overViewVisible?"visible":"void"),S(3),F("@zoomIn",i.overViewVisible?"visible":"void"),S(3),F("@zoomIn",i.overViewVisible?"visible":"void"))},dependencies:[Ne],styles:[".section-container[_ngcontent-%COMP%]{background:var(--mix-color);height:300px}.container-img[_ngcontent-%COMP%]{width:50%;height:100%}.container-content[_ngcontent-%COMP%]{width:50%}.see-latest-movies[_ngcontent-%COMP%]{background-color:var(--blue-color);color:var(--white-color)}@media screen and (max-width: 1550px){.container-img[_ngcontent-%COMP%]{width:40%}.container-content[_ngcontent-%COMP%]{width:60%}}@media screen and (max-width: 1210px){.container-img[_ngcontent-%COMP%]{width:100%}.container-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.6)}.container-content[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;left:0;bottom:0;background-color:#0009}}@media screen and (max-width: 400px){.section-container[_ngcontent-%COMP%]{height:350px}}"],data:{animation:[ze,$e,Ve]}})};var ji=class r{constructor(e){this.el=e}appLazyLoad=new Nt;observer;ngOnInit(){this.observer=new IntersectionObserver(e=>{e[0].isIntersecting&&(this.appLazyLoad.emit(),this.observer.disconnect())},{threshold:.2}),this.observer.observe(this.el.nativeElement)}ngOnDestroy(){this.observer&&this.observer.disconnect()}static \u0275fac=function(t){return new(t||r)(me(Pa))};static \u0275dir=Da({type:r,selectors:[["","appLazyLoad",""]],outputs:{appLazyLoad:"appLazyLoad"}})};function ih(r,e){r&1&&N(0,"app-header",0)}function rh(r,e){r&1&&N(0,"app-slider",1)}function sh(r,e){r&1&&N(0,"app-slider",2)}function oh(r,e){r&1&&N(0,"app-slider",4)}function ah(r,e){r&1&&N(0,"app-slider",5)}var Ki=class r{slidersVisible=!0;showTrendingSlider=!1;showTopRatedSlider=!1;ngOnInit(){this.slidersVisible=!0}onTrendingLazyLoad(){this.showTrendingSlider=!0}onTopRatedLazyLoad(){this.showTopRatedSlider=!0}ngOnDestroy(){this.slidersVisible=!1}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=re({type:r,selectors:[["app-home-page"]],decls:9,vars:5,consts:[["mediaType","tv","category","airing_today"],["mediaType","movie","category","popular","title","Popular Movies"],["mediaType","person","category","popular","title","Latest people"],["appLazyLoad","",3,"appLazyLoad"],["mediaType","trending","category","all/day","title","What`s Trending Today"],["mediaType","tv","category","top_rated","title","Top rated TV Series"]],template:function(t,i){t&1&&(E(0,"header"),z(1,ih,1,0,"app-header",0),I(),z(2,rh,1,0,"app-slider",1),z(3,sh,1,0,"app-slider",2),N(4,"app-see-latest-movies"),E(5,"div",3),O("appLazyLoad",function(){return i.onTrendingLazyLoad()}),z(6,oh,1,0,"app-slider",4),I(),E(7,"div",3),O("appLazyLoad",function(){return i.onTopRatedLazyLoad()}),z(8,ah,1,0,"app-slider",5),I()),t&2&&(S(),$(i.slidersVisible?1:-1),S(),$(i.slidersVisible?2:-1),S(),$(i.slidersVisible?3:-1),S(3),$(i.showTrendingSlider?6:-1),S(2),$(i.showTopRatedSlider?8:-1))},dependencies:[zi,$i,tn,ji],encapsulation:2})};var lh=["statsSection"];function ch(r,e){if(r&1){let t=ce();E(0,"div",11),O("visible",function(s){Z(t);let a=k();return ee(a.overviewVisible=s)}),E(1,"div",12)(2,"div",13),N(3,"i"),I(),E(4,"h4",14),R(5),De(6,"number"),I(),E(7,"p",15),R(8),I()()()}if(r&2){let t=e.$implicit,i=k();F("@zoomIn",i.overviewVisible?"visible":"void"),S(3),Va(t.icon),S(2),ge(Ct(6,5,t.currentValue)),S(3),ge(t.label)}}var Gi=class r{statsSection;overviewVisible=!1;stats=[{icon:"fa-solid fa-clapperboard",label:"Total Movies",value:23150,currentValue:0},{icon:"fa-solid fa-play",label:"Total TV Shows",value:20453,currentValue:0},{icon:"fa-solid fa-user",label:"Total People",value:30678,currentValue:0}];ngAfterViewInit(){let e=new IntersectionObserver(t=>{t.forEach(i=>{i.isIntersecting&&(this.startCounting(),e.disconnect())})},{threshold:.1});this.statsSection&&e.observe(this.statsSection.nativeElement)}startCounting(){this.stats.forEach(e=>{let s=Math.ceil(e.value/200),a=setInterval(()=>{e.currentValue+=s,e.currentValue>=e.value&&(e.currentValue=e.value,clearInterval(a))},20)})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=re({type:r,selectors:[["app-about"]],viewQuery:function(t,i){if(t&1&&ht(lh,5),t&2){let s;dt(s=ft())&&(i.statsSection=s.first)}},decls:16,vars:2,consts:[["statsSection",""],["page","about us"],[1,"about-container","container"],[1,"my-5"],["src","assets/images/inner-about-img.jpg","alt","about-image",1,"rounded-4","w-100"],[1,"text-center","text-white","py-3","bg-black"],[1,"container","overflow-hidden"],["appAnimateOnVisible","",1,"fw-bold","mb-4",3,"visible"],["appAnimateOnVisible","",1,"mb-5","text-light",3,"visible"],[1,"d-flex","gap-4","flex-wrap","justify-content-center","m-auto"],["appAnimateOnVisible","",1,"about-content","rounded-3"],["appAnimateOnVisible","",1,"about-content","rounded-3",3,"visible"],[1,"p-4","h-100"],[1,"mb-2"],[1,"fw-bold"],[1,"mb-0"]],template:function(t,i){if(t&1){let s=ce();N(0,"app-main-header-page",1),E(1,"section")(2,"div",2)(3,"div",3),N(4,"img",4),I(),E(5,"section",5)(6,"div",6)(7,"h2",7),O("visible",function(c){return Z(s),ee(i.overviewVisible=c)}),R(8,"ABOUT Media"),I(),E(9,"p",8),O("visible",function(c){return Z(s),ee(i.overviewVisible=c)}),R(10," Lorem ipsum, dolor sit amet consectetur adipisicing elit. Harum consectetur quia hic odit quisquam voluptates excepturi accusantium asperiores blanditiis. Voluptas minus dolorem magni perferendis sint dolor quae libero quaerat reiciendis? "),I(),E(11,"div",9,0),xe(13,ch,9,7,"div",10,mi),I()()(),N(15,"app-see-latest-movies"),I()()}t&2&&(S(7),F("@slideDown",i.overviewVisible?"visible":"void"),S(2),F("@slideUp",i.overviewVisible?"visible":"void"),S(4),ke(i.stats))},dependencies:[en,Yt,tn,Ne,Fa],styles:[".about-container[_ngcontent-%COMP%]{width:80%}.about-content[_ngcontent-%COMP%]{background-color:var(--bg-section)}i[_ngcontent-%COMP%], .about-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem}@media screen and (max-width:1450px){.about-container[_ngcontent-%COMP%]{width:90%}}@media screen and (max-width:1450px){.about-container[_ngcontent-%COMP%]{width:100%;padding:0% 3%}i[_ngcontent-%COMP%], .about-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3rem}}"],data:{animation:[ze,$e,Ve]}})};var Qi=class r{overviewVisible=!1;static \u0275fac=function(t){return new(t||r)};static \u0275cmp=re({type:r,selectors:[["app-contact"]],decls:55,vars:6,consts:[["page","contact us"],[1,"d-flex","gap-4","my-5","flex-wrap","justify-content-center","m-auto"],["appAnimateOnVisible","",1,"contact-details","d-flex","gap-3","flex-grow-1","flex-wrap","rounded-3","p-md-5","p-3",3,"visible"],[1,"bg-white","d-flex","align-items-center","px-3","rounded-3","h-100"],[1,"fa-solid","fa-location-dot","fs-1"],[1,"mb-0"],["appAnimateOnVisible","",1,"contact-details","flex-grow-1","d-flex","gap-3","flex-wrap","rounded-3","p-md-5","p-3",3,"visible"],[1,"fa-solid","fa-envelope","fs-1"],["href","mailto:info@media.com",1,"text-white"],["href","mailto:contact@media.com",1,"text-white"],["appAnimateOnVisible","",1,"contact-details","flex-grow-md-1","flex-grow-1","d-flex","gap-3","flex-wrap","rounded-3","p-md-5","p-3",3,"visible"],[1,"fa-solid","fa-phone-volume","fs-1"],["href","tel:+201207752327",1,"text-white"],["href","tel:+88 0123 456 987 00",1,"text-white"],[1,"form-container","p-xl-5","p-2","rounded-3"],[1,"text-center","text-white","mb-4","overflow-hidden"],["appAnimateOnVisible","",1,"fw-bold",3,"visible"],["appAnimateOnVisible","",1,"py-2",3,"visible"],["appAnimateOnVisible","",1,"row","g-3",3,"visible"],[1,"col-md-6"],["type","text","placeholder","Enter Name",1,"form-control","bg-black","text-white","border-dark"],["type","email","placeholder","Enter Email Address",1,"form-control","bg-black","text-white","border-dark"],["type","text","placeholder","Write Subject",1,"form-control","bg-black","text-white","border-dark"],["type","url","placeholder","Enter Your Website Link",1,"form-control","bg-black","text-white","border-dark"],[1,"col-12"],["rows","6","placeholder","Write Message...",1,"form-control","bg-black","text-white","border-dark"],[1,"button-mix-color","py-2","px-4","text-white"]],template:function(t,i){t&1&&(N(0,"app-main-header-page",0),E(1,"div")(2,"div",1)(3,"div",2),O("visible",function(){return i.overviewVisible=!0}),E(4,"div",3),N(5,"i",4),I(),E(6,"div")(7,"h5"),R(8,"Our address"),I(),E(9,"p",5),R(10,"Nasr City, Egypt"),I()()(),E(11,"div",6),O("visible",function(){return i.overviewVisible=!0}),E(12,"div",3),N(13,"i",7),I(),E(14,"div")(15,"h5"),R(16,"Email Address"),I(),E(17,"p",5)(18,"a",8),R(19,"info@media.com"),I()(),E(20,"p",5)(21,"a",9),R(22,"contact@media.com"),I()()()(),E(23,"div",10),O("visible",function(){return i.overviewVisible=!0}),E(24,"div",3),N(25,"i",11),I(),E(26,"div")(27,"h5"),R(28,"Phone NO"),I(),E(29,"p",5)(30,"a",12),R(31,"+2012-077-523-27"),I()(),E(32,"p",5)(33,"a",13),R(34,"+88 0123 456 987 00"),I()()()()(),E(35,"div",14)(36,"div",15)(37,"h2",16),O("visible",function(){return i.overviewVisible=!0}),R(38,"Get in Touch"),I(),E(39,"p",17),O("visible",function(){return i.overviewVisible=!0}),R(40," It is a long established fact that a reader will be distracted by the readable content... "),I()(),E(41,"form",18),O("visible",function(){return i.overviewVisible=!0}),E(42,"div",19),N(43,"input",20),I(),E(44,"div",19),N(45,"input",21),I(),E(46,"div",19),N(47,"input",22),I(),E(48,"div",19),N(49,"input",23),I(),E(50,"div",24),N(51,"textarea",25),I(),E(52,"div",24)(53,"button",26),R(54,"Send Message"),I()()()()()),t&2&&(S(3),F("@zoomIn",i.overviewVisible?"visible":"void"),S(8),F("@zoomIn",i.overviewVisible?"visible":"void"),S(12),F("@zoomIn",i.overviewVisible?"visible":"void"),S(14),F("@slideDown",i.overviewVisible?"visible":"void"),S(2),F("@slideUp",i.overviewVisible?"visible":"void"),S(2),F("@zoomIn",i.overviewVisible?"visible":"void"))},dependencies:[en,Ne],styles:[".contact-details[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]{background-color:var(--bg-section)}.contact-details[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--blue-color)}input[_ngcontent-%COMP%]{padding:4%}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:var(--pragrah-color);font-style:italic}"],data:{animation:[Ve,ze,$e]}})};var Wi=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=re({type:r,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,i){t&1&&(Ee(0,"p"),R(1,"not-found works!"),Ie())},encapsulation:2})};var uh=r=>({"active-page":r});function hh(r,e){if(r&1&&N(0,"app-main-header-page",0),r&2){let t=k();F("mediaType",t.mediaType)("category",t.category)}}function dh(r,e){if(r&1&&N(0,"img",9),r&2){let t=k(2),i=t.$implicit,s=t.$index,a=k();F("@zoomIn",a.visibleItems[s]?"visible":"void")("src","https://image.tmdb.org/t/p/w500"+i.profile_path,We)}}function fh(r,e){if(r&1&&N(0,"img",10),r&2){let t=k(2),i=t.$implicit,s=t.$index,a=k();F("@zoomIn",a.visibleItems[s]?"visible":"void")("src","https://image.tmdb.org/t/p/w500"+i.poster_path,We)}}function mh(r,e){if(r&1&&(E(0,"button",11),R(1),I()),r&2){let t=k(2),i=t.$implicit,s=t.$index,a=k();F("@zoomIn",a.visibleItems[s]?"visible":"void"),S(),Pe(" ",i.vote_average," ")}}function ph(r,e){if(r&1&&(E(0,"p"),R(1),De(2,"seeMore"),I()),r&2){let t=k(2),i=t.$implicit,s=t.$index,a=k();F("@slideDown",a.visibleItems[s]?"visible":"void"),S(),Pe(" ",At(2,2,i.name,2)," ")}}function gh(r,e){if(r&1&&(E(0,"p"),R(1),De(2,"seeMore"),I()),r&2){let t=k(2),i=t.$implicit,s=t.$index,a=k();F("@slideDown",a.visibleItems[s]?"visible":"void"),S(),Pe(" ",At(2,2,i.title,2)," ")}}function _h(r,e){if(r&1&&(E(0,"p")(1,"span",13),R(2),De(3,"timeAgo"),I()()),r&2){let t=k(2),i=t.$implicit,s=t.$index,a=k();F("@slideUp",a.visibleItems[s]?"visible":"void"),S(2),ge(Ct(3,2,i.release_date))}}function yh(r,e){if(r&1&&(E(0,"p")(1,"span",13),R(2),De(3,"timeAgo"),I()()),r&2){let t=k(2),i=t.$implicit,s=t.$index,a=k();F("@slideUp",a.visibleItems[s]?"visible":"void"),S(2),ge(Ct(3,2,i.first_air_date))}}function vh(r,e){if(r&1&&(E(0,"p"),R(1," popularity: "),E(2,"span",14),R(3),I()()),r&2){let t=k(2),i=t.$implicit,s=t.$index,a=k();F("@slideUp",a.visibleItems[s]?"visible":"void"),S(3),ge(i.popularity)}}function wh(r,e){if(r&1){let t=ce();E(0,"div",6),O("visible",function(){Z(t);let s=k().$index,a=k();return ee(a.markAsVisible(s))}),E(1,"div",7),O("click",function(){Z(t);let s=k().$implicit,a=k();return ee(a.goToMediaDetails(a.mediaType==="trending"?s.media_type:a.mediaType,s.id))}),E(2,"div",8),z(3,dh,1,2,"img",9),z(4,fh,1,2,"img",10),z(5,mh,2,2,"button",11),I(),E(6,"div",12),z(7,ph,3,5,"p"),z(8,gh,3,5,"p"),z(9,_h,4,4,"p"),z(10,yh,4,4,"p"),z(11,vh,4,2,"p"),I()()()}if(r&2){let t=k().$implicit,i=k();S(3),$(t.profile_path?3:-1),S(),$(t.poster_path?4:-1),S(),$(t.vote_average?5:-1),S(2),$(t.name?7:-1),S(),$(t.title?8:-1),S(),$(t.release_date?9:-1),S(),$(t.first_air_date?10:-1),S(),$(t.popularity&&i.mediaType==="person"?11:-1)}}function Th(r,e){if(r&1&&z(0,wh,12,8,"div",5),r&2){let t=e.$implicit;$(t.profile_path||t.poster_path?0:-1)}}function bh(r,e){if(r&1){let t=ce();E(0,"button",17),O("click",function(){Z(t);let s=k().$implicit,a=k();return ee(a.changePage(s))}),R(1),I()}if(r&2){let t=k().$implicit,i=k();F("ngClass",Rn(3,uh,i.currentPage===t))("disabled",i.currentPage===t),S(),Pe(" ",t," ")}}function Eh(r,e){r&1&&(E(0,"button",16),R(1,"..."),I())}function Ih(r,e){if(r&1&&z(0,bh,2,5,"button",15)(1,Eh,2,0,"button",16),r&2){let t=e.$implicit,i=k();$(i.isNumber(t)?0:1)}}var Hi=class r{constructor(e,t,i){this._MediaService=e;this.route=t;this._Router=i}mediaType;category;visibleItems={};mediaCollection=[];paginatedMedia=[];currentPage=1;itemsPerPage=12;subscriptions=new wa;ngOnInit(){let e=this.route.paramMap.pipe(Ca(t=>{this.mediaType=t.get("mediaType")||"",this.category=t.get("category")||"";let i=this.getMedia(this.mediaType,this.category,"1"),s=this.getMedia(this.mediaType,this.category,"2"),a=this.getMedia(this.mediaType,this.category,"3");return ba([i,s,a])})).subscribe(([t,i,s])=>{this.mediaCollection=[...t.results,...i.results,...s.results],this.updatePagination()});this.subscriptions.add(e)}getMedia(e,t,i){return e==="trending"?this._MediaService.getTrending(e,t,i):this._MediaService.getMediaCollection(e,t,i)}trackMedia(e,t){let i=t.id||"no-id",s=t.name||t.title||"no-name",a=t.profile_path||t.poster_path||"no-image";return`${i}-${s}-${a}-${e}`}markAsVisible(e){this.visibleItems[e]||(this.visibleItems[e]=!0)}updatePagination(){let e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;this.paginatedMedia=this.mediaCollection.slice(e,t)}changePage(e){if(e!==this.currentPage){this.currentPage=e,this.updatePagination();let t=document.getElementById("media-section");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}}get smartPagination(){let e=this.totalPages,t=this.currentPage,i=[];if(e<=3)return Array.from({length:e},(c,h)=>h+1);i.push(1),t>3&&i.push("...");let s=Math.max(2,t-1),a=Math.min(e-1,t+1);for(let c=s;c<=a;c++)i.push(c);return t<e-2&&i.push("..."),i.push(e),i}isNumber(e){return typeof e=="number"}get totalPages(){return Math.ceil(this.mediaCollection.length/this.itemsPerPage)}goToMediaDetails(e,t){e=="person"?this._Router.navigate(["person-details",e,t]):this._Router.navigate(["media-details",e,t])}ngOnDestroy(){this.subscriptions.unsubscribe()}static \u0275fac=function(t){return new(t||r)(me(nt),me(ja),me(qe))};static \u0275cmp=re({type:r,selectors:[["app-media-collection"]],decls:13,vars:3,consts:[["id","media-section",3,"mediaType","category"],[1,"mt-5"],[1,"media-container-parent","w-100"],[1,"pagination","d-flex","justify-content-center","mt-5","gap-2","flex-wrap"],[3,"click","disabled"],["appAnimateOnVisible","",1,"overflow-hidden"],["appAnimateOnVisible","",1,"overflow-hidden",3,"visible"],[1,"media-container","p-3",3,"click"],[1,"position-relative"],["alt","Person Image",3,"src"],["alt","mediaContainer Poster",3,"src"],[1,"vote","p-1","rounded-0","border-0","fw-bolder","text-white","position-absolute","top-0","end-0"],[1,"overflow-hidden","py-2"],[1,"date-media"],[1,"popularity"],[3,"ngClass","disabled"],["disabled",""],[3,"click","ngClass","disabled"]],template:function(t,i){t&1&&(z(0,hh,1,2,"app-main-header-page",0),E(1,"section")(2,"div",1)(3,"div",2),xe(4,Th,1,1,null,null,i.trackMedia,!0),I(),E(6,"div",3)(7,"button",4),O("click",function(){return i.changePage(i.currentPage-1)}),R(8," < "),I(),xe(9,Ih,2,1,null,null,mi),E(11,"button",4),O("click",function(){return i.changePage(i.currentPage+1)}),R(12," > "),I()()()()),t&2&&($(i.mediaType&&i.category?0:-1),S(4),ke(i.paginatedMedia),S(3),F("disabled",i.currentPage===1),S(2),ke(i.smartPagination),S(2),F("disabled",i.currentPage===i.totalPages))},dependencies:[en,Yt,pi,Ne,Zt,yi],styles:["button[_ngcontent-%COMP%]{color:var(--white-volor);padding:5px 10px}button.active-page[_ngcontent-%COMP%]:before{opacity:1}.media-container-parent[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:10px}@media screen and (max-width: 1300px){.media-container-parent[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media screen and (max-width: 1100px){.media-container-parent[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width: 1000px){.media-container-parent[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media screen and (max-width: 720px){.media-container-parent[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width: 550px){.media-container-parent[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"],data:{animation:[Ve,ze,$e]}})};var Xi=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=re({type:r,selectors:[["app-profile-component"]],decls:2,vars:0,template:function(t,i){t&1&&(Ee(0,"p"),R(1,"profile-component works!"),Ie())},encapsulation:2})};var nl=[{path:"",redirectTo:"home-page",pathMatch:"full"},{path:"home-page",component:Ki},{path:"about",component:Gi},{path:"media-collection/:mediaType",redirectTo:"media-collection/:mediaType/popular",pathMatch:"full"},{path:"media-collection/:mediaType/:category",component:Hi},{path:"contact",component:Qi},{path:"signIn",loadComponent:()=>import("./chunk-ZUFIPOEY.js").then(r=>r.SignInComponent)},{path:"signUp",loadComponent:()=>import("./chunk-ZMQEMJKS.js").then(r=>r.SignUpComponent)},{path:"profile",component:Xi},{path:"media-details/:mediaType/:mediaId",loadComponent:()=>import("./chunk-F6GCQH3T.js").then(r=>r.MediaDetailsComponent)},{path:"person-details/:mediaType/:mediaId",loadComponent:()=>import("./chunk-X7AODKDK.js").then(r=>r.PersonProfileComponent)},{path:"**",component:Wi}];function il(r){return new Y(3e3,!1)}function Sh(){return new Y(3100,!1)}function Ch(){return new Y(3101,!1)}function Ah(r){return new Y(3001,!1)}function Ph(r){return new Y(3003,!1)}function Rh(r){return new Y(3004,!1)}function sl(r,e){return new Y(3005,!1)}function ol(){return new Y(3006,!1)}function al(){return new Y(3007,!1)}function ll(r,e){return new Y(3008,!1)}function cl(r){return new Y(3002,!1)}function ul(r,e,t,i,s){return new Y(3010,!1)}function hl(){return new Y(3011,!1)}function dl(){return new Y(3012,!1)}function fl(){return new Y(3200,!1)}function ml(){return new Y(3202,!1)}function pl(){return new Y(3013,!1)}function gl(r){return new Y(3014,!1)}function _l(r){return new Y(3015,!1)}function yl(r){return new Y(3016,!1)}function vl(r,e){return new Y(3404,!1)}function xh(r){return new Y(3502,!1)}function wl(r){return new Y(3503,!1)}function Tl(){return new Y(3300,!1)}function bl(r){return new Y(3504,!1)}function El(r){return new Y(3301,!1)}function Il(r,e){return new Y(3302,!1)}function Sl(r){return new Y(3303,!1)}function Cl(r,e){return new Y(3400,!1)}function Al(r){return new Y(3401,!1)}function Pl(r){return new Y(3402,!1)}function Rl(r,e){return new Y(3505,!1)}function mt(r){switch(r.length){case 0:return new Mt;case 1:return r[0];default:return new gi(r)}}function ps(r,e,t=new Map,i=new Map){let s=[],a=[],c=-1,h=null;if(e.forEach(m=>{let w=m.get("offset"),C=w==c,A=C&&h||new Map;m.forEach((V,B)=>{let P=B,D=V;if(B!=="offset")switch(P=r.normalizePropertyName(P,s),D){case xn:D=t.get(B);break;case He:D=i.get(B);break;default:D=r.normalizeStyleValue(B,P,D,s);break}A.set(P,D)}),C||a.push(A),h=A,c=w}),s.length)throw xh(s);return a}function Yi(r,e,t,i){switch(e){case"start":r.onStart(()=>i(t&&ds(t,"start",r)));break;case"done":r.onDone(()=>i(t&&ds(t,"done",r)));break;case"destroy":r.onDestroy(()=>i(t&&ds(t,"destroy",r)));break}}function ds(r,e,t){let i=t.totalTime,s=!!t.disabled,a=Ji(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,i??r.totalTime,s),c=r._data;return c!=null&&(a._data=c),a}function Ji(r,e,t,i,s="",a=0,c){return{element:r,triggerName:e,fromState:t,toState:i,phaseName:s,totalTime:a,disabled:!!c}}function Oe(r,e,t){let i=r.get(e);return i||r.set(e,i=t),i}function gs(r){let e=r.indexOf(":"),t=r.substring(1,e),i=r.slice(e+1);return[t,i]}var kh=typeof document>"u"?null:document.documentElement;function Zi(r){let e=r.parentNode||r.host||null;return e===kh?null:e}function Dh(r){return r.substring(1,6)=="ebkit"}var Ft=null,rl=!1;function xl(r){Ft||(Ft=Vh()||{},rl=Ft.style?"WebkitAppearance"in Ft.style:!1);let e=!0;return Ft.style&&!Dh(r)&&(e=r in Ft.style,!e&&rl&&(e="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Ft.style)),e}function Vh(){return typeof document<"u"?document.body:null}function _s(r,e){for(;e;){if(e===r)return!0;e=Zi(e)}return!1}function ys(r,e,t){if(t)return Array.from(r.querySelectorAll(e));let i=r.querySelector(e);return i?[i]:[]}var Nh=1e3,vs="{{",Oh="}}",ws="ng-enter",er="ng-leave",Dn="ng-trigger",Vn=".ng-trigger",Ts="ng-animating",tr=".ng-animating";function it(r){if(typeof r=="number")return r;let e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fs(parseFloat(e[1]),e[2])}function fs(r,e){switch(e){case"s":return r*Nh;default:return r}}function Nn(r,e,t){return r.hasOwnProperty("duration")?r:Mh(r,e,t)}function Mh(r,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,s,a=0,c="";if(typeof r=="string"){let h=r.match(i);if(h===null)return e.push(il(r)),{duration:0,delay:0,easing:""};s=fs(parseFloat(h[1]),h[2]);let m=h[3];m!=null&&(a=fs(parseFloat(m),h[4]));let w=h[5];w&&(c=w)}else s=r;if(!t){let h=!1,m=e.length;s<0&&(e.push(Sh()),h=!0),a<0&&(e.push(Ch()),h=!0),h&&e.splice(m,0,il(r))}return{duration:s,delay:a,easing:c}}function kl(r){return r.length?r[0]instanceof Map?r:r.map(e=>new Map(Object.entries(e))):[]}function Xe(r,e,t){e.forEach((i,s)=>{let a=nr(s);t&&!t.has(s)&&t.set(s,r.style[a]),r.style[a]=i})}function Pt(r,e){e.forEach((t,i)=>{let s=nr(i);r.style[s]=""})}function nn(r){return Array.isArray(r)?r.length==1?r[0]:Wa(r):r}function Dl(r,e,t){let i=e.params||{},s=bs(r);s.length&&s.forEach(a=>{i.hasOwnProperty(a)||t.push(Ah(a))})}var ms=new RegExp(`${vs}\\s*(.+?)\\s*${Oh}`,"g");function bs(r){let e=[];if(typeof r=="string"){let t;for(;t=ms.exec(r);)e.push(t[1]);ms.lastIndex=0}return e}function rn(r,e,t){let i=`${r}`,s=i.replace(ms,(a,c)=>{let h=e[c];return h==null&&(t.push(Ph(c)),h=""),h.toString()});return s==i?r:s}var Fh=/-+([a-z0-9])/g;function nr(r){return r.replace(Fh,(...e)=>e[1].toUpperCase())}function Vl(r,e){return r===0||e===0}function Nl(r,e,t){if(t.size&&e.length){let i=e[0],s=[];if(t.forEach((a,c)=>{i.has(c)||s.push(c),i.set(c,a)}),s.length)for(let a=1;a<e.length;a++){let c=e[a];s.forEach(h=>c.set(h,ir(r,h)))}}return e}function Me(r,e,t){switch(e.type){case G.Trigger:return r.visitTrigger(e,t);case G.State:return r.visitState(e,t);case G.Transition:return r.visitTransition(e,t);case G.Sequence:return r.visitSequence(e,t);case G.Group:return r.visitGroup(e,t);case G.Animate:return r.visitAnimate(e,t);case G.Keyframes:return r.visitKeyframes(e,t);case G.Style:return r.visitStyle(e,t);case G.Reference:return r.visitReference(e,t);case G.AnimateChild:return r.visitAnimateChild(e,t);case G.AnimateRef:return r.visitAnimateRef(e,t);case G.Query:return r.visitQuery(e,t);case G.Stagger:return r.visitStagger(e,t);default:throw Rh(e.type)}}function ir(r,e){return window.getComputedStyle(r)[e]}var Us=(()=>{class r{validateStyleProperty(t){return xl(t)}containsElement(t,i){return _s(t,i)}getParentElement(t){return Zi(t)}query(t,i,s){return ys(t,i,s)}computeStyle(t,i,s){return s||""}animate(t,i,s,a,c,h=[],m){return new Mt(s,a)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Wt({token:r,factory:r.\u0275fac})}return r})(),Ut=class{static NOOP=new Us},Bt=class{};var Lh=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),lr=class extends Bt{normalizePropertyName(e,t){return nr(e)}normalizeStyleValue(e,t,i,s){let a="",c=i.toString().trim();if(Lh.has(t)&&i!==0&&i!=="0")if(typeof i=="number")a="px";else{let h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&h[1].length==0&&s.push(sl(e,i))}return c+a}};var cr="*";function Uh(r,e){let t=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(i=>Bh(i,t,e)):t.push(r),t}function Bh(r,e,t){if(r[0]==":"){let m=qh(r,t);if(typeof m=="function"){e.push(m);return}r=m}let i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(_l(r)),e;let s=i[1],a=i[2],c=i[3];e.push(Ol(s,c));let h=s==cr&&c==cr;a[0]=="<"&&!h&&e.push(Ol(c,s))}function qh(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(yl(r)),"* => *"}}var rr=new Set(["true","1"]),sr=new Set(["false","0"]);function Ol(r,e){let t=rr.has(r)||sr.has(r),i=rr.has(e)||sr.has(e);return(s,a)=>{let c=r==cr||r==s,h=e==cr||e==a;return!c&&t&&typeof s=="boolean"&&(c=s?rr.has(r):sr.has(r)),!h&&i&&typeof a=="boolean"&&(h=a?rr.has(e):sr.has(e)),c&&h}}var Kl=":self",zh=new RegExp(`s*${Kl}s*,?`,"g");function Gl(r,e,t,i){return new Ps(r).build(e,t,i)}var Ml="",Ps=class{_driver;constructor(e){this._driver=e}build(e,t,i){let s=new Rs(t);return this._resetContextStyleTimingState(s),Me(this,nn(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector=Ml,e.collectedStyles=new Map,e.collectedStyles.set(Ml,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,s=t.depCount=0,a=[],c=[];return e.name.charAt(0)=="@"&&t.errors.push(ol()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),h.type==G.State){let m=h,w=m.name;w.toString().split(/\s*,\s*/).forEach(C=>{m.name=C,a.push(this.visitState(m,t))}),m.name=w}else if(h.type==G.Transition){let m=this.visitTransition(h,t);i+=m.queryCount,s+=m.depCount,c.push(m)}else t.errors.push(al())}),{type:G.Trigger,name:e.name,states:a,transitions:c,queryCount:i,depCount:s,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(i.containsDynamicStyles){let a=new Set,c=s||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{bs(m).forEach(w=>{c.hasOwnProperty(w)||a.add(w)})})}),a.size&&t.errors.push(ll(e.name,[...a.values()]))}return{type:G.State,name:e.name,style:i,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Me(this,nn(e.animation),t),s=Uh(e.expr,t.errors);return{type:G.Transition,matchers:s,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Lt(e.options)}}visitSequence(e,t){return{type:G.Sequence,steps:e.steps.map(i=>Me(this,i,t)),options:Lt(e.options)}}visitGroup(e,t){let i=t.currentTime,s=0,a=e.steps.map(c=>{t.currentTime=i;let h=Me(this,c,t);return s=Math.max(s,t.currentTime),h});return t.currentTime=s,{type:G.Group,steps:a,options:Lt(e.options)}}visitAnimate(e,t){let i=Gh(e.timings,t.errors);t.currentAnimateTimings=i;let s,a=e.styles?e.styles:us({});if(a.type==G.Keyframes)s=this.visitKeyframes(a,t);else{let c=e.styles,h=!1;if(!c){h=!0;let w={};i.easing&&(w.easing=i.easing),c=us(w)}t.currentTime+=i.duration+i.delay;let m=this.visitStyle(c,t);m.isEmptyStep=h,s=m}return t.currentAnimateTimings=null,{type:G.Animate,timings:i,style:s,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of s)typeof h=="string"?h===He?i.push(h):t.errors.push(cl(h)):i.push(new Map(Object.entries(h)));let a=!1,c=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!a)){for(let m of h.values())if(m.toString().indexOf(vs)>=0){a=!0;break}}}),{type:G.Style,styles:i,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,s=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(c=>{typeof c!="string"&&c.forEach((h,m)=>{let w=t.collectedStyles.get(t.currentQuerySelector),C=w.get(m),A=!0;C&&(a!=s&&a>=C.startTime&&s<=C.endTime&&(t.errors.push(ul(m,C.startTime,C.endTime,a,s)),A=!1),a=C.startTime),A&&w.set(m,{startTime:a,endTime:s}),t.options&&Dl(h,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:G.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(hl()),i;let s=1,a=0,c=[],h=!1,m=!1,w=0,C=e.steps.map(te=>{let ne=this._makeStyleAst(te,t),W=ne.offset!=null?ne.offset:Kh(ne.styles),j=0;return W!=null&&(a++,j=ne.offset=W),m=m||j<0||j>1,h=h||j<w,w=j,c.push(j),ne});m&&t.errors.push(dl()),h&&t.errors.push(fl());let A=e.steps.length,V=0;a>0&&a<A?t.errors.push(ml()):a==0&&(V=s/(A-1));let B=A-1,P=t.currentTime,D=t.currentAnimateTimings,U=D.duration;return C.forEach((te,ne)=>{let W=V>0?ne==B?1:V*ne:c[ne],j=W*U;t.currentTime=P+D.delay+j,D.duration=j,this._validateStyleAst(te,t),te.offset=W,i.styles.push(te)}),i}visitReference(e,t){return{type:G.Reference,animation:Me(this,nn(e.animation),t),options:Lt(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:G.AnimateChild,options:Lt(e.options)}}visitAnimateRef(e,t){return{type:G.AnimateRef,animation:this.visitReference(e.animation,t),options:Lt(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;let[a,c]=$h(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Oe(t.collectedStyles,t.currentQuerySelector,new Map);let h=Me(this,nn(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:G.Query,selector:a,limit:s.limit||0,optional:!!s.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Lt(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(pl());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Nn(e.timings,t.errors,!0);return{type:G.Stagger,animation:Me(this,nn(e.animation),t),timings:i,options:null}}};function $h(r){let e=!!r.split(/\s*,\s*/).find(t=>t==Kl);return e&&(r=r.replace(zh,"")),r=r.replace(/@\*/g,Vn).replace(/@\w+/g,t=>Vn+"-"+t.slice(1)).replace(/:animating/g,tr),[r,e]}function jh(r){return r?ui({},r):null}var Rs=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Kh(r){if(typeof r=="string")return null;let e=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let t=r;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Gh(r,e){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let a=Nn(r,e).duration;return Es(a,0,"")}let t=r;if(t.split(/\s+/).some(a=>a.charAt(0)=="{"&&a.charAt(1)=="{")){let a=Es(0,0,"");return a.dynamic=!0,a.strValue=t,a}let s=Nn(t,e);return Es(s.duration,s.delay,s.easing)}function Lt(r){return r?(r=ui({},r),r.params&&(r.params=jh(r.params))):r={},r}function Es(r,e,t){return{duration:r,delay:e,easing:t}}function Bs(r,e,t,i,s,a,c=null,h=!1){return{type:1,element:r,keyframes:e,preStyleProps:t,postStyleProps:i,duration:s,delay:a,totalTime:s+a,easing:c,subTimeline:h}}var Mn=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Qh=1,Wh=":enter",Hh=new RegExp(Wh,"g"),Xh=":leave",Yh=new RegExp(Xh,"g");function Ql(r,e,t,i,s,a=new Map,c=new Map,h,m,w=[]){return new xs().buildKeyframes(r,e,t,i,s,a,c,h,m,w)}var xs=class{buildKeyframes(e,t,i,s,a,c,h,m,w,C=[]){w=w||new Mn;let A=new ks(e,t,w,s,a,C,[]);A.options=m;let V=m.delay?it(m.delay):0;A.currentTimeline.delayNextStep(V),A.currentTimeline.setStyles([c],null,A.errors,m),Me(this,i,A);let B=A.timelines.filter(P=>P.containsAnimation());if(B.length&&h.size){let P;for(let D=B.length-1;D>=0;D--){let U=B[D];if(U.element===t){P=U;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([h],null,A.errors,m)}return B.length?B.map(P=>P.buildKeyframes()):[Bs(t,[],[],[],0,V,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let s=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,s,s.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let s of e){let a=s?.delay;if(a){let c=typeof a=="number"?a:it(rn(a,s?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime,c=i.duration!=null?it(i.duration):null,h=i.delay!=null?it(i.delay):null;return c!==0&&e.forEach(m=>{let w=t.appendInstructionToTimeline(m,c,h);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Me(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,s=t,a=e.options;if(a&&(a.params||a.delay)&&(s=t.createSubContext(a),s.transformIntoNewTimeline(),a.delay!=null)){s.previousNode.type==G.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=ur);let c=it(a.delay);s.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Me(this,c,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],s=t.currentTimeline.currentTime,a=e.options&&e.options.delay?it(e.options.delay):0;e.steps.forEach(c=>{let h=t.createSubContext(e.options);a&&h.delayNextStep(a),Me(this,c,h),s=Math.max(s,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,s=t.params?rn(i,t.params,t.errors):i;return Nn(s,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),s.snapshotCurrentStyles());let a=e.style;a.type==G.Keyframes?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,s=t.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();let a=s&&s.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,s=t.currentTimeline.duration,a=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(m=>{let w=m.offset||0;h.forwardTime(w*a),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(s+a),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,s=e.options||{},a=s.delay?it(s.delay):0;a&&(t.previousNode.type===G.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ur);let c=i,h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((w,C)=>{t.currentQueryIndex=C;let A=t.createSubContext(e.options,w);a&&A.delayNextStep(a),w===t.element&&(m=A.currentTimeline),Me(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe();let V=A.currentTimeline.currentTime;c=Math.max(c,V)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,s=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),h=c*(t.currentQueryTotal-1),m=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime;break}let C=t.currentTimeline;m&&C.delayNextStep(m);let A=C.currentTime;Me(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=s.currentTime-A+(s.startTime-i.currentTimeline.startTime)}},ur={},ks=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ur;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,i,s,a,c,h,m){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=a,this.errors=c,this.timelines=h,this.currentTimeline=m||new hr(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,s=this.options;i.duration!=null&&(s.duration=it(i.duration)),i.delay!=null&&(s.delay=it(i.delay));let a=i.params;if(a){let c=s.params;c||(c=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=rn(a[h],c,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(s=>{i[s]=t[s]})}}return e}createSubContext(e=null,t,i){let s=t||this.element,a=new r(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=ur,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new Ds(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(a),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,s,a,c){let h=[];if(s&&h.push(this.element),e.length>0){e=e.replace(Hh,"."+this._enterClassName),e=e.replace(Yh,"."+this._leaveClassName);let m=i!=1,w=this._driver.query(this.element,e,m);i!==0&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),h.push(...w)}return!a&&h.length==0&&c.push(gl(t)),h}},hr=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,i,s){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=s,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new r(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Qh,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||He),this._currentKeyframe.set(t,He);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,s){t&&this._previousKeyframe.set("easing",t);let a=s&&s.params||{},c=Jh(e,this._globalTimelineStyles);for(let[h,m]of c){let w=rn(m,a,i);this._pendingStyles.set(h,w),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??He),this._updateStyle(h,w)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let s=this._styleSummary.get(i);(!s||t.time>s.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,s=[];this._keyframes.forEach((h,m)=>{let w=new Map([...this._backFill,...h]);w.forEach((C,A)=>{C===xn?e.add(A):C===He&&t.add(A)}),i||w.set("offset",m/this.duration),s.push(w)});let a=[...e.values()],c=[...t.values()];if(i){let h=s[0],m=new Map(h);h.set("offset",0),m.set("offset",1),s=[h,m]}return Bs(this.element,s,a,c,this.duration,this.startTime,this.easing,!1)}},Ds=class extends hr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,i,s,a,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){let a=[],c=i+t,h=t/c,m=new Map(e[0]);m.set("offset",0),a.push(m);let w=new Map(e[0]);w.set("offset",Fl(h)),a.push(w);let C=e.length-1;for(let A=1;A<=C;A++){let V=new Map(e[A]),B=V.get("offset"),P=t+B*i;V.set("offset",Fl(P/c)),a.push(V)}i=c,t=0,s="",e=a}return Bs(this.element,e,this.preStyleProps,this.postStyleProps,i,t,s,!0)}};function Fl(r,e=3){let t=Math.pow(10,e-1);return Math.round(r*t)/t}function Jh(r,e){let t=new Map,i;return r.forEach(s=>{if(s==="*"){i??=e.keys();for(let a of i)t.set(a,He)}else for(let[a,c]of s)t.set(a,c)}),t}function Ll(r,e,t,i,s,a,c,h,m,w,C,A,V){return{type:0,element:r,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:a,toState:i,toStyles:c,timelines:h,queriedElements:m,preStyleProps:w,postStyleProps:C,totalTime:A,errors:V}}var Is={},dr=class{_triggerName;ast;_stateStyles;constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,s){return Zh(this.ast.matchers,e,t,i,s)}buildStyles(e,t,i){let s=this._stateStyles.get("*");return e!==void 0&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,i):new Map}build(e,t,i,s,a,c,h,m,w,C){let A=[],V=this.ast.options&&this.ast.options.params||Is,B=h&&h.params||Is,P=this.buildStyles(i,B,A),D=m&&m.params||Is,U=this.buildStyles(s,D,A),te=new Set,ne=new Map,W=new Map,j=s==="void",ve={params:Wl(D,V),delay:this.ast.options?.delay},se=C?[]:Ql(e,t,this.ast.animation,a,c,P,U,ve,w,A),_=0;return se.forEach(d=>{_=Math.max(d.duration+d.delay,_)}),A.length?Ll(t,this._triggerName,i,s,j,P,U,[],[],ne,W,_,A):(se.forEach(d=>{let p=d.element,g=Oe(ne,p,new Set);d.preStyleProps.forEach(T=>g.add(T));let y=Oe(W,p,new Set);d.postStyleProps.forEach(T=>y.add(T)),p!==t&&te.add(p)}),Ll(t,this._triggerName,i,s,j,P,U,se,[...te.values()],ne,W,_))}};function Zh(r,e,t,i,s){return r.some(a=>a(e,t,i,s))}function Wl(r,e){let t=ui({},e);return Object.entries(r).forEach(([i,s])=>{s!=null&&(t[i]=s)}),t}var Vs=class{styles;defaultParams;normalizer;constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,s=Wl(e,this.defaultParams);return this.styles.styles.forEach(a=>{typeof a!="string"&&a.forEach((c,h)=>{c&&(c=rn(c,s,t));let m=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,m,c,t),i.set(h,c)})}),i}};function ed(r,e,t){return new Ns(r,e,t)}var Ns=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,t.states.forEach(s=>{let a=s.options&&s.options.params||{};this.states.set(s.name,new Vs(s.style,a,i))}),Ul(this.states,"true","1"),Ul(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new dr(e,s,this.states))}),this.fallbackTransition=td(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,s){return this.transitionFactories.find(c=>c.match(e,t,i,s))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function td(r,e,t){let i=[(c,h)=>!0],s={type:G.Sequence,steps:[],options:null},a={type:G.Transition,animation:s,matchers:i,options:null,queryCount:0,depCount:0};return new dr(r,a,e)}function Ul(r,e,t){r.has(e)?r.has(t)||r.set(t,r.get(e)):r.has(t)&&r.set(e,r.get(t))}var nd=new Mn,Os=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i}register(e,t){let i=[],s=[],a=Gl(this._driver,t,i,s);if(i.length)throw wl(i);this._animations.set(e,a)}_buildPlayer(e,t,i){let s=e.element,a=ps(this._normalizer,e.keyframes,t,i);return this._driver.animate(s,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let s=[],a=this._animations.get(e),c,h=new Map;if(a?(c=Ql(this._driver,t,a,ws,er,new Map,new Map,i,nd,s),c.forEach(C=>{let A=Oe(h,C.element,new Map);C.postStyleProps.forEach(V=>A.set(V,null))})):(s.push(Tl()),c=[]),s.length)throw bl(s);h.forEach((C,A)=>{C.forEach((V,B)=>{C.set(B,this._driver.computeStyle(A,B,He))})});let m=c.map(C=>{let A=h.get(C.element);return this._buildPlayer(C,new Map,A)}),w=mt(m);return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw El(e);return t}listen(e,t,i,s){let a=Ji(t,"","","");return Yi(this._getPlayer(e),i,a,s),()=>{}}command(e,t,i,s){if(i=="register"){this.register(e,s[0]);return}if(i=="create"){let c=s[0]||{};this.create(e,t,c);return}let a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e);break}}},Bl="ng-animate-queued",id=".ng-animate-queued",Ss="ng-animate-disabled",rd=".ng-animate-disabled",sd="ng-star-inserted",od=".ng-star-inserted",ad=[],Hl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ld={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ye="__ng_removed",Fn=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),s=i?e.value:e;if(this.value=ud(s),i){let a=e,{value:c}=a,h=va(a,["value"]);this.options=h}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(s=>{i[s]==null&&(i[s]=t[s])})}}},On="void",Cs=new Fn(On),Ms=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this._hostClassName="ng-tns-"+e,Ke(t,this._hostClassName)}listen(e,t,i,s){if(!this._triggers.has(t))throw Il(i,t);if(i==null||i.length==0)throw Sl(t);if(!hd(i))throw Cl(i,t);let a=Oe(this._elementListeners,e,[]),c={name:t,phase:i,callback:s};a.push(c);let h=Oe(this._engine.statesByElement,e,new Map);return h.has(t)||(Ke(e,Dn),Ke(e,Dn+"-"+t),h.set(t,Cs)),()=>{this._engine.afterFlush(()=>{let m=a.indexOf(c);m>=0&&a.splice(m,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Al(e);return t}trigger(e,t,i,s=!0){let a=this._getTrigger(t),c=new Ln(this.id,t,e),h=this._engine.statesByElement.get(e);h||(Ke(e,Dn),Ke(e,Dn+"-"+t),this._engine.statesByElement.set(e,h=new Map));let m=h.get(t),w=new Fn(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&w.absorbOptions(m.options),h.set(t,w),m||(m=Cs),!(w.value===On)&&m.value===w.value){if(!md(m.params,w.params)){let D=[],U=a.matchStyles(m.value,m.params,D),te=a.matchStyles(w.value,w.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Pt(e,U),Xe(e,te)})}return}let V=Oe(this._engine.playersByElement,e,[]);V.forEach(D=>{D.namespaceId==this.id&&D.triggerName==t&&D.queued&&D.destroy()});let B=a.matchTransition(m.value,w.value,e,w.params),P=!1;if(!B){if(!s)return;B=a.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:m,toState:w,player:c,isFallbackTransition:P}),P||(Ke(e,Bl),c.onStart(()=>{sn(e,Bl)})),c.onDone(()=>{let D=this.players.indexOf(c);D>=0&&this.players.splice(D,1);let U=this._engine.playersByElement.get(e);if(U){let te=U.indexOf(c);te>=0&&U.splice(te,1)}}),this.players.push(c),V.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Vn,!0);i.forEach(s=>{if(s[Ye])return;let a=this._engine.fetchNamespacesByElement(s);a.size?a.forEach(c=>c.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,i,s){let a=this._engine.statesByElement.get(e),c=new Map;if(a){let h=[];if(a.forEach((m,w)=>{if(c.set(w,m.value),this._triggers.has(w)){let C=this.trigger(e,w,On,s);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&mt(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let s=new Set;t.forEach(a=>{let c=a.name;if(s.has(c))return;s.add(c);let m=this._triggers.get(c).fallbackTransition,w=i.get(c)||Cs,C=new Fn(On),A=new Ln(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:m,fromState:w,toState:C,player:A,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(i.totalAnimations){let a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)s=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)i.markElementAsRemoved(this.id,e,!1,t);else{let a=e[Ye];(!a||a===Hl)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ke(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let s=i.player;if(s.destroyed)return;let a=i.element,c=this._elementListeners.get(a);c&&c.forEach(h=>{if(h.name==i.triggerName){let m=Ji(a,i.triggerName,i.fromState.value,i.toState.value);m._data=e,Yi(i.player,h.phase,m,h.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(i)}),this._queue=[],t.sort((i,s)=>{let a=i.transition.ast.depCount,c=s.transition.ast.depCount;return a==0||c==0?a-c:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Fs=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new Ms(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){let m=s.get(h);if(m){let w=i.indexOf(m);i.splice(w+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||i.unshift(e)}else i.push(e);return s.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let s=this._namespaceLookup[e];s&&s.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let s of i.values())if(s.namespaceId){let a=this._fetchNamespace(s.namespaceId);a&&t.add(a)}}return t}trigger(e,t,i,s){if(or(t)){let a=this._fetchNamespace(e);if(a)return a.trigger(t,i,s),!0}return!1}insertNode(e,t,i,s){if(!or(t))return;let a=t[Ye];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;let c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){let c=this._fetchNamespace(e);c&&c.insertNode(t,i)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ke(e,Ss)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sn(e,Ss))}removeNode(e,t,i){if(or(t)){let s=e?this._fetchNamespace(e):null;s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,s,a){this.collectedLeaveElements.push(t),t[Ye]={namespaceId:e,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,s,a){return or(t)?this._fetchNamespace(e).listen(t,i,s,a):()=>{}}_buildInstruction(e,t,i,s,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,s,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Vn,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,tr,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return mt(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ye];if(t&&t.setForRemoval){if(e[Ye]=Hl,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ss)&&this.markElementAsDisabled(e,!1),this.driver.query(e,rd,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let s=this.collectedEnterElements[i];Ke(s,sd)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let s=this.collectedLeaveElements[i];this.processLeaveNode(s)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?mt(t).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(e){throw Pl(e)}_flushAnimations(e,t){let i=new Mn,s=[],a=new Map,c=[],h=new Map,m=new Map,w=new Map,C=new Set;this.disabledNodes.forEach(M=>{C.add(M);let L=this.driver.query(M,id,!0);for(let q=0;q<L.length;q++)C.add(L[q])});let A=this.bodyNode,V=Array.from(this.statesByElement.keys()),B=$l(V,this.collectedEnterElements),P=new Map,D=0;B.forEach((M,L)=>{let q=ws+D++;P.set(L,q),M.forEach(K=>Ke(K,q))});let U=[],te=new Set,ne=new Set;for(let M=0;M<this.collectedLeaveElements.length;M++){let L=this.collectedLeaveElements[M],q=L[Ye];q&&q.setForRemoval&&(U.push(L),te.add(L),q.hasAnimation?this.driver.query(L,od,!0).forEach(K=>te.add(K)):ne.add(L))}let W=new Map,j=$l(V,Array.from(te));j.forEach((M,L)=>{let q=er+D++;W.set(L,q),M.forEach(K=>Ke(K,q))}),e.push(()=>{B.forEach((M,L)=>{let q=P.get(L);M.forEach(K=>sn(K,q))}),j.forEach((M,L)=>{let q=W.get(L);M.forEach(K=>sn(K,q))}),U.forEach(M=>{this.processLeaveNode(M)})});let ve=[],se=[];for(let M=this._namespaceList.length-1;M>=0;M--)this._namespaceList[M].drainQueuedTransitions(t).forEach(q=>{let K=q.player,fe=q.element;if(ve.push(K),this.collectedEnterElements.length){let he=fe[Ye];if(he&&he.setForMove){if(he.previousTriggersValues&&he.previousTriggersValues.has(q.triggerName)){let at=he.previousTriggersValues.get(q.triggerName),Re=this.statesByElement.get(q.element);if(Re&&Re.has(q.triggerName)){let lt=Re.get(q.triggerName);lt.value=at,Re.set(q.triggerName,lt)}}K.destroy();return}}let Be=!A||!this.driver.containsElement(A,fe),ue=W.get(fe),oe=P.get(fe),ae=this._buildInstruction(q,i,oe,ue,Be);if(ae.errors&&ae.errors.length){se.push(ae);return}if(Be){K.onStart(()=>Pt(fe,ae.fromStyles)),K.onDestroy(()=>Xe(fe,ae.toStyles)),s.push(K);return}if(q.isFallbackTransition){K.onStart(()=>Pt(fe,ae.fromStyles)),K.onDestroy(()=>Xe(fe,ae.toStyles)),s.push(K);return}let Tt=[];ae.timelines.forEach(he=>{he.stretchStartingKeyframe=!0,this.disabledNodes.has(he.element)||Tt.push(he)}),ae.timelines=Tt,i.append(fe,ae.timelines);let Nr={instruction:ae,player:K,element:fe};c.push(Nr),ae.queriedElements.forEach(he=>Oe(h,he,[]).push(K)),ae.preStyleProps.forEach((he,at)=>{if(he.size){let Re=m.get(at);Re||m.set(at,Re=new Set),he.forEach((lt,bt)=>Re.add(bt))}}),ae.postStyleProps.forEach((he,at)=>{let Re=w.get(at);Re||w.set(at,Re=new Set),he.forEach((lt,bt)=>Re.add(bt))})});if(se.length){let M=[];se.forEach(L=>{M.push(Rl(L.triggerName,L.errors))}),ve.forEach(L=>L.destroy()),this.reportError(M)}let _=new Map,d=new Map;c.forEach(M=>{let L=M.element;i.has(L)&&(d.set(L,L),this._beforeAnimationBuild(M.player.namespaceId,M.instruction,_))}),s.forEach(M=>{let L=M.element;this._getPreviousPlayers(L,!1,M.namespaceId,M.triggerName,null).forEach(K=>{Oe(_,L,[]).push(K),K.destroy()})});let p=U.filter(M=>jl(M,m,w)),g=new Map;zl(g,this.driver,ne,w,He).forEach(M=>{jl(M,m,w)&&p.push(M)});let T=new Map;B.forEach((M,L)=>{zl(T,this.driver,new Set(M),m,xn)}),p.forEach(M=>{let L=g.get(M),q=T.get(M);g.set(M,new Map([...L?.entries()??[],...q?.entries()??[]]))});let f=[],Ue=[],wt={};c.forEach(M=>{let{element:L,player:q,instruction:K}=M;if(i.has(L)){if(C.has(L)){q.onDestroy(()=>Xe(L,K.toStyles)),q.disabled=!0,q.overrideTotalTime(K.totalTime),s.push(q);return}let fe=wt;if(d.size>1){let ue=L,oe=[];for(;ue=ue.parentNode;){let ae=d.get(ue);if(ae){fe=ae;break}oe.push(ue)}oe.forEach(ae=>d.set(ae,fe))}let Be=this._buildAnimation(q.namespaceId,K,_,a,T,g);if(q.setRealPlayer(Be),fe===wt)f.push(q);else{let ue=this.playersByElement.get(fe);ue&&ue.length&&(q.parentPlayer=mt(ue)),s.push(q)}}else Pt(L,K.fromStyles),q.onDestroy(()=>Xe(L,K.toStyles)),Ue.push(q),C.has(L)&&s.push(q)}),Ue.forEach(M=>{let L=a.get(M.element);if(L&&L.length){let q=mt(L);M.setRealPlayer(q)}}),s.forEach(M=>{M.parentPlayer?M.syncPlayerEvents(M.parentPlayer):M.destroy()});for(let M=0;M<U.length;M++){let L=U[M],q=L[Ye];if(sn(L,er),q&&q.hasAnimation)continue;let K=[];if(h.size){let Be=h.get(L);Be&&Be.length&&K.push(...Be);let ue=this.driver.query(L,tr,!0);for(let oe=0;oe<ue.length;oe++){let ae=h.get(ue[oe]);ae&&ae.length&&K.push(...ae)}}let fe=K.filter(Be=>!Be.destroyed);fe.length?dd(this,L,fe):this.processLeaveNode(L)}return U.length=0,f.forEach(M=>{this.players.push(M),M.onDone(()=>{M.destroy();let L=this.players.indexOf(M);this.players.splice(L,1)}),M.play()}),f}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,s,a){let c=[];if(t){let h=this.playersByQueriedElement.get(e);h&&(c=h)}else{let h=this.playersByElement.get(e);if(h){let m=!a||a==On;h.forEach(w=>{w.queued||!m&&w.triggerName!=s||c.push(w)})}}return(i||s)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||s&&s!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){let s=t.triggerName,a=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:s;for(let m of t.timelines){let w=m.element,C=w!==a,A=Oe(i,w,[]);this._getPreviousPlayers(w,C,c,h,t.toState).forEach(B=>{let P=B.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),B.destroy(),A.push(B)})}Pt(a,t.fromStyles)}_buildAnimation(e,t,i,s,a,c){let h=t.triggerName,m=t.element,w=[],C=new Set,A=new Set,V=t.timelines.map(P=>{let D=P.element;C.add(D);let U=D[Ye];if(U&&U.removedBeforeQueried)return new Mt(P.duration,P.delay);let te=D!==m,ne=fd((i.get(D)||ad).map(_=>_.getRealPlayer())).filter(_=>{let d=_;return d.element?d.element===D:!1}),W=a.get(D),j=c.get(D),ve=ps(this._normalizer,P.keyframes,W,j),se=this._buildPlayer(P,ve,ne);if(P.subTimeline&&s&&A.add(D),te){let _=new Ln(e,h,D);_.setRealPlayer(se),w.push(_)}return se});w.forEach(P=>{Oe(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>cd(this.playersByQueriedElement,P.element,P))}),C.forEach(P=>Ke(P,Ts));let B=mt(V);return B.onDestroy(()=>{C.forEach(P=>sn(P,Ts)),Xe(m,t.toStyles)}),A.forEach(P=>{Oe(s,P,[]).push(B)}),B}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Mt(e.duration,e.delay)}},Ln=class{namespaceId;triggerName;element;_player=new Mt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(s=>Yi(e,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Oe(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function cd(r,e,t){let i=r.get(e);if(i){if(i.length){let s=i.indexOf(t);i.splice(s,1)}i.length==0&&r.delete(e)}return i}function ud(r){return r??null}function or(r){return r&&r.nodeType===1}function hd(r){return r=="start"||r=="done"}function ql(r,e){let t=r.style.display;return r.style.display=e??"none",t}function zl(r,e,t,i,s){let a=[];t.forEach(m=>a.push(ql(m)));let c=[];i.forEach((m,w)=>{let C=new Map;m.forEach(A=>{let V=e.computeStyle(w,A,s);C.set(A,V),(!V||V.length==0)&&(w[Ye]=ld,c.push(w))}),r.set(w,C)});let h=0;return t.forEach(m=>ql(m,a[h++])),c}function $l(r,e){let t=new Map;if(r.forEach(h=>t.set(h,[])),e.length==0)return t;let i=1,s=new Set(e),a=new Map;function c(h){if(!h)return i;let m=a.get(h);if(m)return m;let w=h.parentNode;return t.has(w)?m=w:s.has(w)?m=i:m=c(w),a.set(h,m),m}return e.forEach(h=>{let m=c(h);m!==i&&t.get(m).push(h)}),t}function Ke(r,e){r.classList?.add(e)}function sn(r,e){r.classList?.remove(e)}function dd(r,e,t){mt(t).onDone(()=>r.processLeaveNode(e))}function fd(r){let e=[];return Xl(r,e),e}function Xl(r,e){for(let t=0;t<r.length;t++){let i=r[t];i instanceof gi?Xl(i.players,e):e.push(i)}}function md(r,e){let t=Object.keys(r),i=Object.keys(e);if(t.length!=i.length)return!1;for(let s=0;s<t.length;s++){let a=t[s];if(!e.hasOwnProperty(a)||r[a]!==e[a])return!1}return!0}function jl(r,e,t){let i=t.get(r);if(!i)return!1;let s=e.get(r);return s?i.forEach(a=>s.add(a)):e.set(r,i),t.delete(r),!0}var on=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,i){this._driver=t,this._normalizer=i,this._transitionEngine=new Fs(e.body,t,i),this._timelineEngine=new Os(e.body,t,i),this._transitionEngine.onRemovalComplete=(s,a)=>this.onRemovalComplete(s,a)}registerTrigger(e,t,i,s,a){let c=e+"-"+s,h=this._triggerCache[c];if(!h){let m=[],w=[],C=Gl(this._driver,a,m,w);if(m.length)throw vl(s,m);h=ed(s,C,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,s,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,s){this._transitionEngine.insertNode(e,t,i,s)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,s){if(i.charAt(0)=="@"){let[a,c]=gs(i),h=s;this._timelineEngine.command(a,t,c,h)}else this._transitionEngine.trigger(e,t,i,s)}listen(e,t,i,s,a){if(i.charAt(0)=="@"){let[c,h]=gs(i);return this._timelineEngine.listen(c,t,h,a)}return this._transitionEngine.listen(e,t,i,s,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function pd(r,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=As(e[0]),e.length>1&&(i=As(e[e.length-1]))):e instanceof Map&&(t=As(e)),t||i?new gd(r,t,i):null}var gd=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,i,s){this._element=t,this._startStyles=i,this._endStyles=s;let a=r.initialStylesByElement.get(t);a||r.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Xe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xe(this._element,this._initialStyles),this._endStyles&&(Xe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Pt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pt(this._element,this._endStyles),this._endStyles=null),Xe(this._element,this._initialStyles),this._state=3)}}return r})();function As(r){let e=null;return r.forEach((t,i)=>{_d(i)&&(e=e||new Map,e.set(i,t))}),e}function _d(r){return r==="display"||r==="position"}var fr=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,i,s){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=s,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{s!=="offset"&&e.set(s,this._finished?i:ir(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},mr=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return _s(e,t)}getParentElement(e){return Zi(e)}query(e,t,i){return ys(e,t,i)}computeStyle(e,t,i){return ir(e,t)}animate(e,t,i,s,a,c=[]){let h=s==0?"both":"forwards",m={duration:i,delay:s,fill:h};a&&(m.easing=a);let w=new Map,C=c.filter(B=>B instanceof fr);Vl(i,s)&&C.forEach(B=>{B.currentSnapshot.forEach((P,D)=>w.set(D,P))});let A=kl(t).map(B=>new Map(B));A=Nl(e,A,w);let V=pd(e,A);return new fr(e,A,m,V)}};var ar="@",Yl="@.disabled",pr=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,i,s){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,s=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,s){this.delegate.setAttribute(e,t,i,s)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,s){this.delegate.setStyle(e,t,i,s)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==ar&&t==Yl?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,s){return this.delegate.listen(e,t,i,s)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Ls=class extends pr{factory;constructor(e,t,i,s,a){super(t,i,s,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==ar?t.charAt(1)=="."&&t==Yl?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i,s){if(t.charAt(0)==ar){let a=yd(e),c=t.slice(1),h="";return c.charAt(0)!=ar&&([c,h]=vd(c)),this.engine.listen(this.namespaceId,a,c,h,m=>{let w=m._data||-1;this.factory.scheduleListenerCallback(w,i,m)})}return this.delegate.listen(e,t,i,s)}};function yd(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function vd(r){let e=r.indexOf("."),t=r.substring(0,e),i=r.slice(e+1);return[t,i]}var gr=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,t.onRemovalComplete=(s,a)=>{a?.removeChild(null,s)}}createRenderer(e,t){let i="",s=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let w=this._rendererCache,C=w.get(s);if(!C){let A=()=>w.delete(s);C=new pr(i,s,this.engine,A),w.set(s,C)}return C}let a=t.id,c=t.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);let h=w=>{Array.isArray(w)?w.forEach(h):this.engine.registerTrigger(a,c,e,w.name,w)};return t.data.animation.forEach(h),new Ls(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let s=this._animationCallbacksBuffer;s.length==0&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(a=>{let[c,h]=a;c(h)}),this._animationCallbacksBuffer=[]})}),s.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Td=(()=>{class r extends on{constructor(t,i,s){super(t,i,s)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||r)(Ht(Aa),Ht(Ut),Ht(Bt))};static \u0275prov=Wt({token:r,factory:r.\u0275fac})}return r})();function bd(){return new lr}function Ed(r,e,t){return new gr(r,e,t)}var Jl=[{provide:Bt,useFactory:bd},{provide:on,useClass:Td},{provide:xa,useFactory:Ed,deps:[La,on,Xt]}],bp=[{provide:Ut,useClass:Us},{provide:ss,useValue:"NoopAnimations"},...Jl],Id=[{provide:Ut,useFactory:()=>new mr},{provide:ss,useFactory:()=>"BrowserAnimations"},...Jl];function Zl(){return ka("NgEagerAnimations"),[...Id]}var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tc={};var _r,nc;(function(){var r;function e(_,d){function p(){}p.prototype=d.prototype,_.D=d.prototype,_.prototype=new p,_.prototype.constructor=_,_.C=function(g,y,T){for(var f=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)f[Ue-2]=arguments[Ue];return d.prototype[y].apply(g,f)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,d,p){p||(p=0);var g=Array(16);if(typeof d=="string")for(var y=0;16>y;++y)g[y]=d.charCodeAt(p++)|d.charCodeAt(p++)<<8|d.charCodeAt(p++)<<16|d.charCodeAt(p++)<<24;else for(y=0;16>y;++y)g[y]=d[p++]|d[p++]<<8|d[p++]<<16|d[p++]<<24;d=_.g[0],p=_.g[1],y=_.g[2];var T=_.g[3],f=d+(T^p&(y^T))+g[0]+3614090360&4294967295;d=p+(f<<7&4294967295|f>>>25),f=T+(y^d&(p^y))+g[1]+3905402710&4294967295,T=d+(f<<12&4294967295|f>>>20),f=y+(p^T&(d^p))+g[2]+606105819&4294967295,y=T+(f<<17&4294967295|f>>>15),f=p+(d^y&(T^d))+g[3]+3250441966&4294967295,p=y+(f<<22&4294967295|f>>>10),f=d+(T^p&(y^T))+g[4]+4118548399&4294967295,d=p+(f<<7&4294967295|f>>>25),f=T+(y^d&(p^y))+g[5]+1200080426&4294967295,T=d+(f<<12&4294967295|f>>>20),f=y+(p^T&(d^p))+g[6]+2821735955&4294967295,y=T+(f<<17&4294967295|f>>>15),f=p+(d^y&(T^d))+g[7]+4249261313&4294967295,p=y+(f<<22&4294967295|f>>>10),f=d+(T^p&(y^T))+g[8]+1770035416&4294967295,d=p+(f<<7&4294967295|f>>>25),f=T+(y^d&(p^y))+g[9]+2336552879&4294967295,T=d+(f<<12&4294967295|f>>>20),f=y+(p^T&(d^p))+g[10]+4294925233&4294967295,y=T+(f<<17&4294967295|f>>>15),f=p+(d^y&(T^d))+g[11]+2304563134&4294967295,p=y+(f<<22&4294967295|f>>>10),f=d+(T^p&(y^T))+g[12]+1804603682&4294967295,d=p+(f<<7&4294967295|f>>>25),f=T+(y^d&(p^y))+g[13]+4254626195&4294967295,T=d+(f<<12&4294967295|f>>>20),f=y+(p^T&(d^p))+g[14]+2792965006&4294967295,y=T+(f<<17&4294967295|f>>>15),f=p+(d^y&(T^d))+g[15]+1236535329&4294967295,p=y+(f<<22&4294967295|f>>>10),f=d+(y^T&(p^y))+g[1]+4129170786&4294967295,d=p+(f<<5&4294967295|f>>>27),f=T+(p^y&(d^p))+g[6]+3225465664&4294967295,T=d+(f<<9&4294967295|f>>>23),f=y+(d^p&(T^d))+g[11]+643717713&4294967295,y=T+(f<<14&4294967295|f>>>18),f=p+(T^d&(y^T))+g[0]+3921069994&4294967295,p=y+(f<<20&4294967295|f>>>12),f=d+(y^T&(p^y))+g[5]+3593408605&4294967295,d=p+(f<<5&4294967295|f>>>27),f=T+(p^y&(d^p))+g[10]+38016083&4294967295,T=d+(f<<9&4294967295|f>>>23),f=y+(d^p&(T^d))+g[15]+3634488961&4294967295,y=T+(f<<14&4294967295|f>>>18),f=p+(T^d&(y^T))+g[4]+3889429448&4294967295,p=y+(f<<20&4294967295|f>>>12),f=d+(y^T&(p^y))+g[9]+568446438&4294967295,d=p+(f<<5&4294967295|f>>>27),f=T+(p^y&(d^p))+g[14]+3275163606&4294967295,T=d+(f<<9&4294967295|f>>>23),f=y+(d^p&(T^d))+g[3]+4107603335&4294967295,y=T+(f<<14&4294967295|f>>>18),f=p+(T^d&(y^T))+g[8]+1163531501&4294967295,p=y+(f<<20&4294967295|f>>>12),f=d+(y^T&(p^y))+g[13]+2850285829&4294967295,d=p+(f<<5&4294967295|f>>>27),f=T+(p^y&(d^p))+g[2]+4243563512&4294967295,T=d+(f<<9&4294967295|f>>>23),f=y+(d^p&(T^d))+g[7]+1735328473&4294967295,y=T+(f<<14&4294967295|f>>>18),f=p+(T^d&(y^T))+g[12]+2368359562&4294967295,p=y+(f<<20&4294967295|f>>>12),f=d+(p^y^T)+g[5]+4294588738&4294967295,d=p+(f<<4&4294967295|f>>>28),f=T+(d^p^y)+g[8]+2272392833&4294967295,T=d+(f<<11&4294967295|f>>>21),f=y+(T^d^p)+g[11]+1839030562&4294967295,y=T+(f<<16&4294967295|f>>>16),f=p+(y^T^d)+g[14]+4259657740&4294967295,p=y+(f<<23&4294967295|f>>>9),f=d+(p^y^T)+g[1]+2763975236&4294967295,d=p+(f<<4&4294967295|f>>>28),f=T+(d^p^y)+g[4]+1272893353&4294967295,T=d+(f<<11&4294967295|f>>>21),f=y+(T^d^p)+g[7]+4139469664&4294967295,y=T+(f<<16&4294967295|f>>>16),f=p+(y^T^d)+g[10]+3200236656&4294967295,p=y+(f<<23&4294967295|f>>>9),f=d+(p^y^T)+g[13]+681279174&4294967295,d=p+(f<<4&4294967295|f>>>28),f=T+(d^p^y)+g[0]+3936430074&4294967295,T=d+(f<<11&4294967295|f>>>21),f=y+(T^d^p)+g[3]+3572445317&4294967295,y=T+(f<<16&4294967295|f>>>16),f=p+(y^T^d)+g[6]+76029189&4294967295,p=y+(f<<23&4294967295|f>>>9),f=d+(p^y^T)+g[9]+3654602809&4294967295,d=p+(f<<4&4294967295|f>>>28),f=T+(d^p^y)+g[12]+3873151461&4294967295,T=d+(f<<11&4294967295|f>>>21),f=y+(T^d^p)+g[15]+530742520&4294967295,y=T+(f<<16&4294967295|f>>>16),f=p+(y^T^d)+g[2]+3299628645&4294967295,p=y+(f<<23&4294967295|f>>>9),f=d+(y^(p|~T))+g[0]+4096336452&4294967295,d=p+(f<<6&4294967295|f>>>26),f=T+(p^(d|~y))+g[7]+1126891415&4294967295,T=d+(f<<10&4294967295|f>>>22),f=y+(d^(T|~p))+g[14]+2878612391&4294967295,y=T+(f<<15&4294967295|f>>>17),f=p+(T^(y|~d))+g[5]+4237533241&4294967295,p=y+(f<<21&4294967295|f>>>11),f=d+(y^(p|~T))+g[12]+1700485571&4294967295,d=p+(f<<6&4294967295|f>>>26),f=T+(p^(d|~y))+g[3]+2399980690&4294967295,T=d+(f<<10&4294967295|f>>>22),f=y+(d^(T|~p))+g[10]+4293915773&4294967295,y=T+(f<<15&4294967295|f>>>17),f=p+(T^(y|~d))+g[1]+2240044497&4294967295,p=y+(f<<21&4294967295|f>>>11),f=d+(y^(p|~T))+g[8]+1873313359&4294967295,d=p+(f<<6&4294967295|f>>>26),f=T+(p^(d|~y))+g[15]+4264355552&4294967295,T=d+(f<<10&4294967295|f>>>22),f=y+(d^(T|~p))+g[6]+2734768916&4294967295,y=T+(f<<15&4294967295|f>>>17),f=p+(T^(y|~d))+g[13]+1309151649&4294967295,p=y+(f<<21&4294967295|f>>>11),f=d+(y^(p|~T))+g[4]+4149444226&4294967295,d=p+(f<<6&4294967295|f>>>26),f=T+(p^(d|~y))+g[11]+3174756917&4294967295,T=d+(f<<10&4294967295|f>>>22),f=y+(d^(T|~p))+g[2]+718787259&4294967295,y=T+(f<<15&4294967295|f>>>17),f=p+(T^(y|~d))+g[9]+3951481745&4294967295,_.g[0]=_.g[0]+d&4294967295,_.g[1]=_.g[1]+(y+(f<<21&4294967295|f>>>11))&4294967295,_.g[2]=_.g[2]+y&4294967295,_.g[3]=_.g[3]+T&4294967295}i.prototype.u=function(_,d){d===void 0&&(d=_.length);for(var p=d-this.blockSize,g=this.B,y=this.h,T=0;T<d;){if(y==0)for(;T<=p;)s(this,_,T),T+=this.blockSize;if(typeof _=="string"){for(;T<d;)if(g[y++]=_.charCodeAt(T++),y==this.blockSize){s(this,g),y=0;break}}else for(;T<d;)if(g[y++]=_[T++],y==this.blockSize){s(this,g),y=0;break}}this.h=y,this.o+=d},i.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var d=1;d<_.length-8;++d)_[d]=0;var p=8*this.o;for(d=_.length-8;d<_.length;++d)_[d]=p&255,p/=256;for(this.u(_),_=Array(16),d=p=0;4>d;++d)for(var g=0;32>g;g+=8)_[p++]=this.g[d]>>>g&255;return _};function a(_,d){var p=h;return Object.prototype.hasOwnProperty.call(p,_)?p[_]:p[_]=d(_)}function c(_,d){this.h=d;for(var p=[],g=!0,y=_.length-1;0<=y;y--){var T=_[y]|0;g&&T==d||(p[y]=T,g=!1)}this.g=p}var h={};function m(_){return-128<=_&&128>_?a(_,function(d){return new c([d|0],0>d?-1:0)}):new c([_|0],0>_?-1:0)}function w(_){if(isNaN(_)||!isFinite(_))return A;if(0>_)return U(w(-_));for(var d=[],p=1,g=0;_>=p;g++)d[g]=_/p|0,p*=4294967296;return new c(d,0)}function C(_,d){if(_.length==0)throw Error("number format error: empty string");if(d=d||10,2>d||36<d)throw Error("radix out of range: "+d);if(_.charAt(0)=="-")return U(C(_.substring(1),d));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var p=w(Math.pow(d,8)),g=A,y=0;y<_.length;y+=8){var T=Math.min(8,_.length-y),f=parseInt(_.substring(y,y+T),d);8>T?(T=w(Math.pow(d,T)),g=g.j(T).add(w(f))):(g=g.j(p),g=g.add(w(f)))}return g}var A=m(0),V=m(1),B=m(16777216);r=c.prototype,r.m=function(){if(D(this))return-U(this).m();for(var _=0,d=1,p=0;p<this.g.length;p++){var g=this.i(p);_+=(0<=g?g:4294967296+g)*d,d*=4294967296}return _},r.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(P(this))return"0";if(D(this))return"-"+U(this).toString(_);for(var d=w(Math.pow(_,6)),p=this,g="";;){var y=j(p,d).g;p=te(p,y.j(d));var T=((0<p.g.length?p.g[0]:p.h)>>>0).toString(_);if(p=y,P(p))return T+g;for(;6>T.length;)T="0"+T;g=T+g}},r.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function P(_){if(_.h!=0)return!1;for(var d=0;d<_.g.length;d++)if(_.g[d]!=0)return!1;return!0}function D(_){return _.h==-1}r.l=function(_){return _=te(this,_),D(_)?-1:P(_)?0:1};function U(_){for(var d=_.g.length,p=[],g=0;g<d;g++)p[g]=~_.g[g];return new c(p,~_.h).add(V)}r.abs=function(){return D(this)?U(this):this},r.add=function(_){for(var d=Math.max(this.g.length,_.g.length),p=[],g=0,y=0;y<=d;y++){var T=g+(this.i(y)&65535)+(_.i(y)&65535),f=(T>>>16)+(this.i(y)>>>16)+(_.i(y)>>>16);g=f>>>16,T&=65535,f&=65535,p[y]=f<<16|T}return new c(p,p[p.length-1]&-2147483648?-1:0)};function te(_,d){return _.add(U(d))}r.j=function(_){if(P(this)||P(_))return A;if(D(this))return D(_)?U(this).j(U(_)):U(U(this).j(_));if(D(_))return U(this.j(U(_)));if(0>this.l(B)&&0>_.l(B))return w(this.m()*_.m());for(var d=this.g.length+_.g.length,p=[],g=0;g<2*d;g++)p[g]=0;for(g=0;g<this.g.length;g++)for(var y=0;y<_.g.length;y++){var T=this.i(g)>>>16,f=this.i(g)&65535,Ue=_.i(y)>>>16,wt=_.i(y)&65535;p[2*g+2*y]+=f*wt,ne(p,2*g+2*y),p[2*g+2*y+1]+=T*wt,ne(p,2*g+2*y+1),p[2*g+2*y+1]+=f*Ue,ne(p,2*g+2*y+1),p[2*g+2*y+2]+=T*Ue,ne(p,2*g+2*y+2)}for(g=0;g<d;g++)p[g]=p[2*g+1]<<16|p[2*g];for(g=d;g<2*d;g++)p[g]=0;return new c(p,0)};function ne(_,d){for(;(_[d]&65535)!=_[d];)_[d+1]+=_[d]>>>16,_[d]&=65535,d++}function W(_,d){this.g=_,this.h=d}function j(_,d){if(P(d))throw Error("division by zero");if(P(_))return new W(A,A);if(D(_))return d=j(U(_),d),new W(U(d.g),U(d.h));if(D(d))return d=j(_,U(d)),new W(U(d.g),d.h);if(30<_.g.length){if(D(_)||D(d))throw Error("slowDivide_ only works with positive integers.");for(var p=V,g=d;0>=g.l(_);)p=ve(p),g=ve(g);var y=se(p,1),T=se(g,1);for(g=se(g,2),p=se(p,2);!P(g);){var f=T.add(g);0>=f.l(_)&&(y=y.add(p),T=f),g=se(g,1),p=se(p,1)}return d=te(_,y.j(d)),new W(y,d)}for(y=A;0<=_.l(d);){for(p=Math.max(1,Math.floor(_.m()/d.m())),g=Math.ceil(Math.log(p)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),T=w(p),f=T.j(d);D(f)||0<f.l(_);)p-=g,T=w(p),f=T.j(d);P(T)&&(T=V),y=y.add(T),_=te(_,f)}return new W(y,_)}r.A=function(_){return j(this,_).h},r.and=function(_){for(var d=Math.max(this.g.length,_.g.length),p=[],g=0;g<d;g++)p[g]=this.i(g)&_.i(g);return new c(p,this.h&_.h)},r.or=function(_){for(var d=Math.max(this.g.length,_.g.length),p=[],g=0;g<d;g++)p[g]=this.i(g)|_.i(g);return new c(p,this.h|_.h)},r.xor=function(_){for(var d=Math.max(this.g.length,_.g.length),p=[],g=0;g<d;g++)p[g]=this.i(g)^_.i(g);return new c(p,this.h^_.h)};function ve(_){for(var d=_.g.length+1,p=[],g=0;g<d;g++)p[g]=_.i(g)<<1|_.i(g-1)>>>31;return new c(p,_.h)}function se(_,d){var p=d>>5;d%=32;for(var g=_.g.length-p,y=[],T=0;T<g;T++)y[T]=0<d?_.i(T+p)>>>d|_.i(T+p+1)<<32-d:_.i(T+p);return new c(y,_.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,nc=tc.Md5=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=w,c.fromString=C,_r=tc.Integer=c}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});var yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pt={};var ic,Sd,rc,sc,oc,ac,lc,cc,uc;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(n,o,l){return n==Array.prototype||n==Object.prototype||(n[o]=l.value),n};function t(n){n=[typeof globalThis=="object"&&globalThis,n,typeof window=="object"&&window,typeof self=="object"&&self,typeof yr=="object"&&yr];for(var o=0;o<n.length;++o){var l=n[o];if(l&&l.Math==Math)return l}throw Error("Cannot find global object")}var i=t(this);function s(n,o){if(o)e:{var l=i;n=n.split(".");for(var u=0;u<n.length-1;u++){var v=n[u];if(!(v in l))break e;l=l[v]}n=n[n.length-1],u=l[n],o=o(u),o!=u&&o!=null&&e(l,n,{configurable:!0,writable:!0,value:o})}}function a(n,o){n instanceof String&&(n+="");var l=0,u=!1,v={next:function(){if(!u&&l<n.length){var b=l++;return{value:o(b,n[b]),done:!1}}return u=!0,{done:!0,value:void 0}}};return v[Symbol.iterator]=function(){return v},v}s("Array.prototype.values",function(n){return n||function(){return a(this,function(o,l){return l})}});var c=c||{},h=this||self;function m(n){var o=typeof n;return o=o!="object"?o:n?Array.isArray(n)?"array":o:"null",o=="array"||o=="object"&&typeof n.length=="number"}function w(n){var o=typeof n;return o=="object"&&n!=null||o=="function"}function C(n,o,l){return n.call.apply(n.bind,arguments)}function A(n,o,l){if(!n)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,u),n.apply(o,v)}}return function(){return n.apply(o,arguments)}}function V(n,o,l){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C:A,V.apply(null,arguments)}function B(n,o){var l=Array.prototype.slice.call(arguments,1);return function(){var u=l.slice();return u.push.apply(u,arguments),n.apply(this,u)}}function P(n,o){function l(){}l.prototype=o.prototype,n.aa=o.prototype,n.prototype=new l,n.prototype.constructor=n,n.Qb=function(u,v,b){for(var x=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)x[ie-2]=arguments[ie];return o.prototype[v].apply(u,x)}}function D(n){let o=n.length;if(0<o){let l=Array(o);for(let u=0;u<o;u++)l[u]=n[u];return l}return[]}function U(n,o){for(let l=1;l<arguments.length;l++){let u=arguments[l];if(m(u)){let v=n.length||0,b=u.length||0;n.length=v+b;for(let x=0;x<b;x++)n[v+x]=u[x]}else n.push(u)}}class te{constructor(o,l){this.i=o,this.j=l,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}function ne(n){return/^[\s\xa0]*$/.test(n)}function W(){var n=h.navigator;return n&&(n=n.userAgent)?n:""}function j(n){return j[" "](n),n}j[" "]=function(){};var ve=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function se(n,o,l){for(let u in n)o.call(l,n[u],u,n)}function _(n,o){for(let l in n)o.call(void 0,n[l],l,n)}function d(n){let o={};for(let l in n)o[l]=n[l];return o}let p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g(n,o){let l,u;for(let v=1;v<arguments.length;v++){u=arguments[v];for(l in u)n[l]=u[l];for(let b=0;b<p.length;b++)l=p[b],Object.prototype.hasOwnProperty.call(u,l)&&(n[l]=u[l])}}function y(n){var o=1;n=n.split(":");let l=[];for(;0<o&&n.length;)l.push(n.shift()),o--;return n.length&&l.push(n.join(":")),l}function T(n){h.setTimeout(()=>{throw n},0)}function f(){var n=K;let o=null;return n.g&&(o=n.g,n.g=n.g.next,n.g||(n.h=null),o.next=null),o}class Ue{constructor(){this.h=this.g=null}add(o,l){let u=wt.get();u.set(o,l),this.h?this.h.next=u:this.g=u,this.h=u}}var wt=new te(()=>new M,n=>n.reset());class M{constructor(){this.next=this.g=this.h=null}set(o,l){this.h=o,this.g=l,this.next=null}reset(){this.next=this.g=this.h=null}}let L,q=!1,K=new Ue,fe=()=>{let n=h.Promise.resolve(void 0);L=()=>{n.then(Be)}};var Be=()=>{for(var n;n=f();){try{n.h.call(n.g)}catch(l){T(l)}var o=wt;o.j(n),100>o.h&&(o.h++,n.next=o.g,o.g=n)}q=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(n,o){this.type=n,this.g=this.target=o,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var n=!1,o=Object.defineProperty({},"passive",{get:function(){n=!0}});try{let l=()=>{};h.addEventListener("test",l,o),h.removeEventListener("test",l,o)}catch{}return n}();function Tt(n,o){if(oe.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var l=this.type=n.type,u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=o,o=n.relatedTarget){if(ve){e:{try{j(o.nodeName);var v=!0;break e}catch{}v=!1}v||(o=null)}}else l=="mouseover"?o=n.fromElement:l=="mouseout"&&(o=n.toElement);this.relatedTarget=o,u?(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:Nr[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tt.aa.h.call(this)}}P(Tt,oe);var Nr={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),at=0;function Re(n,o,l,u,v){this.listener=n,this.proxy=null,this.src=o,this.type=l,this.capture=!!u,this.ha=v,this.key=++at,this.da=this.fa=!1}function lt(n){n.da=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function bt(n){this.src=n,this.g={},this.h=0}bt.prototype.add=function(n,o,l,u,v){var b=n.toString();n=this.g[b],n||(n=this.g[b]=[],this.h++);var x=Mr(n,o,u,v);return-1<x?(o=n[x],l||(o.fa=!1)):(o=new Re(o,this.src,b,!!u,v),o.fa=l,n.push(o)),o};function Or(n,o){var l=o.type;if(l in n.g){var u=n.g[l],v=Array.prototype.indexOf.call(u,o,void 0),b;(b=0<=v)&&Array.prototype.splice.call(u,v,1),b&&(lt(o),n.g[l].length==0&&(delete n.g[l],n.h--))}}function Mr(n,o,l,u){for(var v=0;v<n.length;++v){var b=n[v];if(!b.da&&b.listener==o&&b.capture==!!l&&b.ha==u)return v}return-1}var Fr="closure_lm_"+(1e6*Math.random()|0),Lr={};function vo(n,o,l,u,v){if(u&&u.once)return To(n,o,l,u,v);if(Array.isArray(o)){for(var b=0;b<o.length;b++)vo(n,o[b],l,u,v);return null}return l=zr(l),n&&n[he]?n.K(o,l,w(u)?!!u.capture:!!u,v):wo(n,o,l,!1,u,v)}function wo(n,o,l,u,v,b){if(!o)throw Error("Invalid event type");var x=w(v)?!!v.capture:!!v,ie=Br(n);if(ie||(n[Fr]=ie=new bt(n)),l=ie.add(o,l,u,x,b),l.proxy)return l;if(u=mu(),l.proxy=u,u.src=n,u.listener=l,n.addEventListener)ae||(v=x),v===void 0&&(v=!1),n.addEventListener(o.toString(),u,v);else if(n.attachEvent)n.attachEvent(Eo(o.toString()),u);else if(n.addListener&&n.removeListener)n.addListener(u);else throw Error("addEventListener and attachEvent are unavailable.");return l}function mu(){function n(l){return o.call(n.src,n.listener,l)}let o=pu;return n}function To(n,o,l,u,v){if(Array.isArray(o)){for(var b=0;b<o.length;b++)To(n,o[b],l,u,v);return null}return l=zr(l),n&&n[he]?n.L(o,l,w(u)?!!u.capture:!!u,v):wo(n,o,l,!0,u,v)}function bo(n,o,l,u,v){if(Array.isArray(o))for(var b=0;b<o.length;b++)bo(n,o[b],l,u,v);else u=w(u)?!!u.capture:!!u,l=zr(l),n&&n[he]?(n=n.i,o=String(o).toString(),o in n.g&&(b=n.g[o],l=Mr(b,l,u,v),-1<l&&(lt(b[l]),Array.prototype.splice.call(b,l,1),b.length==0&&(delete n.g[o],n.h--)))):n&&(n=Br(n))&&(o=n.g[o.toString()],n=-1,o&&(n=Mr(o,l,u,v)),(l=-1<n?o[n]:null)&&Ur(l))}function Ur(n){if(typeof n!="number"&&n&&!n.da){var o=n.src;if(o&&o[he])Or(o.i,n);else{var l=n.type,u=n.proxy;o.removeEventListener?o.removeEventListener(l,u,n.capture):o.detachEvent?o.detachEvent(Eo(l),u):o.addListener&&o.removeListener&&o.removeListener(u),(l=Br(o))?(Or(l,n),l.h==0&&(l.src=null,o[Fr]=null)):lt(n)}}}function Eo(n){return n in Lr?Lr[n]:Lr[n]="on"+n}function pu(n,o){if(n.da)n=!0;else{o=new Tt(o,this);var l=n.listener,u=n.ha||n.src;n.fa&&Ur(n),n=l.call(u,o)}return n}function Br(n){return n=n[Fr],n instanceof bt?n:null}var qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function zr(n){return typeof n=="function"?n:(n[qr]||(n[qr]=function(o){return n.handleEvent(o)}),n[qr])}function we(){ue.call(this),this.i=new bt(this),this.M=this,this.F=null}P(we,ue),we.prototype[he]=!0,we.prototype.removeEventListener=function(n,o,l,u){bo(this,n,o,l,u)};function Ce(n,o){var l,u=n.F;if(u)for(l=[];u;u=u.F)l.push(u);if(n=n.M,u=o.type||o,typeof o=="string")o=new oe(o,n);else if(o instanceof oe)o.target=o.target||n;else{var v=o;o=new oe(u,n),g(o,v)}if(v=!0,l)for(var b=l.length-1;0<=b;b--){var x=o.g=l[b];v=Hn(x,u,!0,o)&&v}if(x=o.g=n,v=Hn(x,u,!0,o)&&v,v=Hn(x,u,!1,o)&&v,l)for(b=0;b<l.length;b++)x=o.g=l[b],v=Hn(x,u,!1,o)&&v}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var n=this.i,o;for(o in n.g){for(var l=n.g[o],u=0;u<l.length;u++)lt(l[u]);delete n.g[o],n.h--}}this.F=null},we.prototype.K=function(n,o,l,u){return this.i.add(String(n),o,!1,l,u)},we.prototype.L=function(n,o,l,u){return this.i.add(String(n),o,!0,l,u)};function Hn(n,o,l,u){if(o=n.i.g[String(o)],!o)return!0;o=o.concat();for(var v=!0,b=0;b<o.length;++b){var x=o[b];if(x&&!x.da&&x.capture==l){var ie=x.listener,_e=x.ha||x.src;x.fa&&Or(n.i,x),v=ie.call(_e,u)!==!1&&v}}return v&&!u.defaultPrevented}function Io(n,o,l){if(typeof n=="function")l&&(n=V(n,l));else if(n&&typeof n.handleEvent=="function")n=V(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(o)?-1:h.setTimeout(n,o||0)}function So(n){n.g=Io(()=>{n.g=null,n.i&&(n.i=!1,So(n))},n.l);let o=n.h;n.h=null,n.m.apply(null,o)}class gu extends ue{constructor(o,l){super(),this.m=o,this.l=l,this.h=null,this.i=!1,this.g=null}j(o){this.h=arguments,this.g?this.i=!0:So(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(n){ue.call(this),this.h=n,this.g={}}P(mn,ue);var Co=[];function Ao(n){se(n.g,function(o,l){this.g.hasOwnProperty(l)&&Ur(o)},n),n.g={}}mn.prototype.N=function(){mn.aa.N.call(this),Ao(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $r=h.JSON.stringify,_u=h.JSON.parse,yu=class{stringify(n){return h.JSON.stringify(n,void 0)}parse(n){return h.JSON.parse(n,void 0)}};function jr(){}jr.prototype.h=null;function Po(n){return n.h||(n.h=n.i())}function Ro(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){oe.call(this,"d")}P(Kr,oe);function Gr(){oe.call(this,"c")}P(Gr,oe);var xt={},xo=null;function Xn(){return xo=xo||new we}xt.La="serverreachability";function ko(n){oe.call(this,xt.La,n)}P(ko,oe);function gn(n){let o=Xn();Ce(o,new ko(o))}xt.STAT_EVENT="statevent";function Do(n,o){oe.call(this,xt.STAT_EVENT,n),this.stat=o}P(Do,oe);function Ae(n){let o=Xn();Ce(o,new Do(o,n))}xt.Ma="timingevent";function Vo(n,o){oe.call(this,xt.Ma,n),this.size=o}P(Vo,oe);function _n(n,o){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){n()},o)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function vu(n,o,l,u,v,b){n.info(function(){if(n.g)if(b)for(var x="",ie=b.split("&"),_e=0;_e<ie.length;_e++){var J=ie[_e].split("=");if(1<J.length){var Te=J[0];J=J[1];var be=Te.split("_");x=2<=be.length&&be[1]=="type"?x+(Te+"="+J+"&"):x+(Te+"=redacted&")}}else x=null;else x=b;return"XMLHTTP REQ ("+u+") [attempt "+v+"]: "+o+`
`+l+`
`+x})}function wu(n,o,l,u,v,b,x){n.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+v+"]: "+o+`
`+l+`
`+b+" "+x})}function jt(n,o,l,u){n.info(function(){return"XMLHTTP TEXT ("+o+"): "+bu(n,l)+(u?" "+u:"")})}function Tu(n,o){n.info(function(){return"TIMEOUT: "+o})}yn.prototype.info=function(){};function bu(n,o){if(!n.g)return o;if(!o)return null;try{var l=JSON.parse(o);if(l){for(n=0;n<l.length;n++)if(Array.isArray(l[n])){var u=l[n];if(!(2>u.length)){var v=u[1];if(Array.isArray(v)&&!(1>v.length)){var b=v[0];if(b!="noop"&&b!="stop"&&b!="close")for(var x=1;x<v.length;x++)v[x]=""}}}}return $r(l)}catch{return o}}var Yn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},No={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qr;function Jn(){}P(Jn,jr),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Qr=new Jn;function Et(n,o,l,u){this.j=n,this.i=o,this.l=l,this.R=u||1,this.U=new mn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oo}function Oo(){this.i=null,this.g="",this.h=!1}var Mo={},Wr={};function Hr(n,o,l){n.L=1,n.v=ni(ct(o)),n.m=l,n.P=!0,Fo(n,null)}function Fo(n,o){n.F=Date.now(),Zn(n),n.A=ct(n.v);var l=n.A,u=n.R;Array.isArray(u)||(u=[String(u)]),Yo(l.i,"t",u),n.C=0,l=n.j.J,n.h=new Oo,n.g=pa(n.j,l?o:null,!n.m),0<n.O&&(n.M=new gu(V(n.Y,n,n.g),n.O)),o=n.U,l=n.g,u=n.ca;var v="readystatechange";Array.isArray(v)||(v&&(Co[0]=v.toString()),v=Co);for(var b=0;b<v.length;b++){var x=vo(l,v[b],u||o.handleEvent,!1,o.h||o);if(!x)break;o.g[x.key]=x}o=n.H?d(n.H):{},n.m?(n.u||(n.u="POST"),o["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.m,o)):(n.u="GET",n.g.ea(n.A,n.u,null,o)),gn(),vu(n.i,n.u,n.A,n.l,n.R,n.m)}Et.prototype.ca=function(n){n=n.target;let o=this.M;o&&ut(n)==3?o.j():this.Y(n)},Et.prototype.Y=function(n){try{if(n==this.g)e:{let be=ut(this.g);var o=this.g.Ba();let Qt=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||ra(this.g)))){this.J||be!=4||o==7||(o==8||0>=Qt?gn(3):gn(2)),Xr(this);var l=this.g.Z();this.X=l;t:if(Lo(this)){var u=ra(this.g);n="";var v=u.length,b=ut(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),vn(this);var x="";break t}this.h.i=new h.TextDecoder}for(o=0;o<v;o++)this.h.h=!0,n+=this.h.i.decode(u[o],{stream:!(b&&o==v-1)});u.length=0,this.h.g+=n,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=l==200,wu(this.i,this.u,this.A,this.l,this.R,be,l),this.o){if(this.T&&!this.K){t:{if(this.g){var ie,_e=this.g;if((ie=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(ie)){var J=ie;break t}}J=null}if(l=J)jt(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,l);else{this.o=!1,this.s=3,Ae(12),kt(this),vn(this);break e}}if(this.P){l=!0;let Qe;for(;!this.J&&this.C<x.length;)if(Qe=Eu(this,x),Qe==Wr){be==4&&(this.s=4,Ae(14),l=!1),jt(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==Mo){this.s=4,Ae(15),jt(this.i,this.l,x,"[Invalid Chunk]"),l=!1;break}else jt(this.i,this.l,Qe,null),Yr(this,Qe);if(Lo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||x.length!=0||this.h.h||(this.s=1,Ae(16),l=!1),this.o=this.o&&l,!l)jt(this.i,this.l,x,"[Invalid Chunked Response]"),kt(this),vn(this);else if(0<x.length&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.ba&&!Te.M&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),is(Te),Te.M=!0,Ae(11))}}else jt(this.i,this.l,x,null),Yr(this,x);be==4&&kt(this),this.o&&!this.J&&(be==4?ha(this.j,this):(this.o=!1,Zn(this)))}else Bu(this.g),l==400&&0<x.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),kt(this),vn(this)}}}catch{}finally{}};function Lo(n){return n.g?n.u=="GET"&&n.L!=2&&n.j.Ca:!1}function Eu(n,o){var l=n.C,u=o.indexOf(`
`,l);return u==-1?Wr:(l=Number(o.substring(l,u)),isNaN(l)?Mo:(u+=1,u+l>o.length?Wr:(o=o.slice(u,u+l),n.C=u+l,o)))}Et.prototype.cancel=function(){this.J=!0,kt(this)};function Zn(n){n.S=Date.now()+n.I,Uo(n,n.I)}function Uo(n,o){if(n.B!=null)throw Error("WatchDog timer not null");n.B=_n(V(n.ba,n),o)}function Xr(n){n.B&&(h.clearTimeout(n.B),n.B=null)}Et.prototype.ba=function(){this.B=null;let n=Date.now();0<=n-this.S?(Tu(this.i,this.A),this.L!=2&&(gn(),Ae(17)),kt(this),this.s=2,vn(this)):Uo(this,this.S-n)};function vn(n){n.j.G==0||n.J||ha(n.j,n)}function kt(n){Xr(n);var o=n.M;o&&typeof o.ma=="function"&&o.ma(),n.M=null,Ao(n.U),n.g&&(o=n.g,n.g=null,o.abort(),o.ma())}function Yr(n,o){try{var l=n.j;if(l.G!=0&&(l.g==n||Jr(l.h,n))){if(!n.K&&Jr(l.h,n)&&l.G==3){try{var u=l.Da.g.parse(o)}catch{u=null}if(Array.isArray(u)&&u.length==3){var v=u;if(v[0]==0){e:if(!l.u){if(l.g)if(l.g.F+3e3<n.F)ai(l),si(l);else break e;ns(l),Ae(18)}}else l.za=v[1],0<l.za-l.T&&37500>v[2]&&l.F&&l.v==0&&!l.C&&(l.C=_n(V(l.Za,l),6e3));if(1>=zo(l.h)&&l.ca){try{l.ca()}catch{}l.ca=void 0}}else Vt(l,11)}else if((n.K||l.g==n)&&ai(l),!ne(o))for(v=l.Da.g.parse(o),o=0;o<v.length;o++){let J=v[o];if(l.T=J[0],J=J[1],l.G==2)if(J[0]=="c"){l.K=J[1],l.ia=J[2];let Te=J[3];Te!=null&&(l.la=Te,l.j.info("VER="+l.la));let be=J[4];be!=null&&(l.Aa=be,l.j.info("SVER="+l.Aa));let Qt=J[5];Qt!=null&&typeof Qt=="number"&&0<Qt&&(u=1.5*Qt,l.L=u,l.j.info("backChannelRequestTimeoutMs_="+u)),u=l;let Qe=n.g;if(Qe){let ci=Qe.g?Qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var b=u.h;b.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(Zr(b,b.h),b.h=null))}if(u.D){let rs=Qe.g?Qe.g.getResponseHeader("X-HTTP-Session-Id"):null;rs&&(u.ya=rs,le(u.I,u.D,rs))}}l.G=3,l.l&&l.l.ua(),l.ba&&(l.R=Date.now()-n.F,l.j.info("Handshake RTT: "+l.R+"ms")),u=l;var x=n;if(u.qa=ma(u,u.J?u.ia:null,u.W),x.K){$o(u.h,x);var ie=x,_e=u.L;_e&&(ie.I=_e),ie.B&&(Xr(ie),Zn(ie)),u.g=x}else ca(u);0<l.i.length&&oi(l)}else J[0]!="stop"&&J[0]!="close"||Vt(l,7);else l.G==3&&(J[0]=="stop"||J[0]=="close"?J[0]=="stop"?Vt(l,7):ts(l):J[0]!="noop"&&l.l&&l.l.ta(J),l.v=0)}}gn(4)}catch{}}var Iu=class{constructor(n,o){this.g=n,this.map=o}};function Bo(n){this.l=n||10,h.PerformanceNavigationTiming?(n=h.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qo(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function zo(n){return n.h?1:n.g?n.g.size:0}function Jr(n,o){return n.h?n.h==o:n.g?n.g.has(o):!1}function Zr(n,o){n.g?n.g.add(o):n.h=o}function $o(n,o){n.h&&n.h==o?n.h=null:n.g&&n.g.has(o)&&n.g.delete(o)}Bo.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let n of this.g.values())n.cancel();this.g.clear()}};function jo(n){if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){let o=n.i;for(let l of n.g.values())o=o.concat(l.D);return o}return D(n.i)}function Su(n){if(n.V&&typeof n.V=="function")return n.V();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(m(n)){for(var o=[],l=n.length,u=0;u<l;u++)o.push(n[u]);return o}o=[],l=0;for(u in n)o[l++]=n[u];return o}function Cu(n){if(n.na&&typeof n.na=="function")return n.na();if(!n.V||typeof n.V!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(m(n)||typeof n=="string"){var o=[];n=n.length;for(var l=0;l<n;l++)o.push(l);return o}o=[],l=0;for(let u in n)o[l++]=u;return o}}}function Ko(n,o){if(n.forEach&&typeof n.forEach=="function")n.forEach(o,void 0);else if(m(n)||typeof n=="string")Array.prototype.forEach.call(n,o,void 0);else for(var l=Cu(n),u=Su(n),v=u.length,b=0;b<v;b++)o.call(void 0,u[b],l&&l[b],n)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Au(n,o){if(n){n=n.split("&");for(var l=0;l<n.length;l++){var u=n[l].indexOf("="),v=null;if(0<=u){var b=n[l].substring(0,u);v=n[l].substring(u+1)}else b=n[l];o(b,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function Dt(n){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,n instanceof Dt){this.h=n.h,ei(this,n.j),this.o=n.o,this.g=n.g,ti(this,n.s),this.l=n.l;var o=n.i,l=new bn;l.i=o.i,o.g&&(l.g=new Map(o.g),l.h=o.h),Qo(this,l),this.m=n.m}else n&&(o=String(n).match(Go))?(this.h=!1,ei(this,o[1]||"",!0),this.o=wn(o[2]||""),this.g=wn(o[3]||"",!0),ti(this,o[4]),this.l=wn(o[5]||"",!0),Qo(this,o[6]||"",!0),this.m=wn(o[7]||"")):(this.h=!1,this.i=new bn(null,this.h))}Dt.prototype.toString=function(){var n=[],o=this.j;o&&n.push(Tn(o,Wo,!0),":");var l=this.g;return(l||o=="file")&&(n.push("//"),(o=this.o)&&n.push(Tn(o,Wo,!0),"@"),n.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l=this.s,l!=null&&n.push(":",String(l))),(l=this.l)&&(this.g&&l.charAt(0)!="/"&&n.push("/"),n.push(Tn(l,l.charAt(0)=="/"?xu:Ru,!0))),(l=this.i.toString())&&n.push("?",l),(l=this.m)&&n.push("#",Tn(l,Du)),n.join("")};function ct(n){return new Dt(n)}function ei(n,o,l){n.j=l?wn(o,!0):o,n.j&&(n.j=n.j.replace(/:$/,""))}function ti(n,o){if(o){if(o=Number(o),isNaN(o)||0>o)throw Error("Bad port number "+o);n.s=o}else n.s=null}function Qo(n,o,l){o instanceof bn?(n.i=o,Vu(n.i,n.h)):(l||(o=Tn(o,ku)),n.i=new bn(o,n.h))}function le(n,o,l){n.i.set(o,l)}function ni(n){return le(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function wn(n,o){return n?o?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Tn(n,o,l){return typeof n=="string"?(n=encodeURI(n).replace(o,Pu),l&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Pu(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var Wo=/[#\/\?@]/g,Ru=/[#\?:]/g,xu=/[#\?]/g,ku=/[#\?@]/g,Du=/#/g;function bn(n,o){this.h=this.g=null,this.i=n||null,this.j=!!o}function It(n){n.g||(n.g=new Map,n.h=0,n.i&&Au(n.i,function(o,l){n.add(decodeURIComponent(o.replace(/\+/g," ")),l)}))}r=bn.prototype,r.add=function(n,o){It(this),this.i=null,n=Kt(this,n);var l=this.g.get(n);return l||this.g.set(n,l=[]),l.push(o),this.h+=1,this};function Ho(n,o){It(n),o=Kt(n,o),n.g.has(o)&&(n.i=null,n.h-=n.g.get(o).length,n.g.delete(o))}function Xo(n,o){return It(n),o=Kt(n,o),n.g.has(o)}r.forEach=function(n,o){It(this),this.g.forEach(function(l,u){l.forEach(function(v){n.call(o,v,u,this)},this)},this)},r.na=function(){It(this);let n=Array.from(this.g.values()),o=Array.from(this.g.keys()),l=[];for(let u=0;u<o.length;u++){let v=n[u];for(let b=0;b<v.length;b++)l.push(o[u])}return l},r.V=function(n){It(this);let o=[];if(typeof n=="string")Xo(this,n)&&(o=o.concat(this.g.get(Kt(this,n))));else{n=Array.from(this.g.values());for(let l=0;l<n.length;l++)o=o.concat(n[l])}return o},r.set=function(n,o){return It(this),this.i=null,n=Kt(this,n),Xo(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[o]),this.h+=1,this},r.get=function(n,o){return n?(n=this.V(n),0<n.length?String(n[0]):o):o};function Yo(n,o,l){Ho(n,o),0<l.length&&(n.i=null,n.g.set(Kt(n,o),D(l)),n.h+=l.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";let n=[],o=Array.from(this.g.keys());for(var l=0;l<o.length;l++){var u=o[l];let b=encodeURIComponent(String(u)),x=this.V(u);for(u=0;u<x.length;u++){var v=b;x[u]!==""&&(v+="="+encodeURIComponent(String(x[u]))),n.push(v)}}return this.i=n.join("&")};function Kt(n,o){return o=String(o),n.j&&(o=o.toLowerCase()),o}function Vu(n,o){o&&!n.j&&(It(n),n.i=null,n.g.forEach(function(l,u){var v=u.toLowerCase();u!=v&&(Ho(this,u),Yo(this,v,l))},n)),n.j=o}function Nu(n,o){let l=new yn;if(h.Image){let u=new Image;u.onload=B(St,l,"TestLoadImage: loaded",!0,o,u),u.onerror=B(St,l,"TestLoadImage: error",!1,o,u),u.onabort=B(St,l,"TestLoadImage: abort",!1,o,u),u.ontimeout=B(St,l,"TestLoadImage: timeout",!1,o,u),h.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=n}else o(!1)}function Ou(n,o){let l=new yn,u=new AbortController,v=setTimeout(()=>{u.abort(),St(l,"TestPingServer: timeout",!1,o)},1e4);fetch(n,{signal:u.signal}).then(b=>{clearTimeout(v),b.ok?St(l,"TestPingServer: ok",!0,o):St(l,"TestPingServer: server error",!1,o)}).catch(()=>{clearTimeout(v),St(l,"TestPingServer: error",!1,o)})}function St(n,o,l,u,v){try{v&&(v.onload=null,v.onerror=null,v.onabort=null,v.ontimeout=null),u(l)}catch{}}function Mu(){this.g=new yu}function Fu(n,o,l){let u=l||"";try{Ko(n,function(v,b){let x=v;w(v)&&(x=$r(v)),o.push(u+b+"="+encodeURIComponent(x))})}catch(v){throw o.push(u+"type="+encodeURIComponent("_badmap")),v}}function En(n){this.l=n.Ub||null,this.j=n.eb||!1}P(En,jr),En.prototype.g=function(){return new ii(this.l,this.j)},En.prototype.i=function(n){return function(){return n}}({});function ii(n,o){we.call(this),this.D=n,this.o=o,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ii,we),r=ii.prototype,r.open=function(n,o){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=n,this.A=o,this.readyState=1,Sn(this)},r.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let o={headers:this.u,method:this.B,credentials:this.m,cache:void 0};n&&(o.body=n),(this.D||h).fetch(new Request(this.A,o)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,In(this)),this.readyState=0},r.Sa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else n.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(n){n.j.read().then(n.Pa.bind(n)).catch(n.ga.bind(n))}r.Pa=function(n){if(this.g){if(this.o&&n.value)this.response.push(n.value);else if(!this.o){var o=n.value?n.value:new Uint8Array(0);(o=this.v.decode(o,{stream:!n.done}))&&(this.response=this.responseText+=o)}n.done?In(this):Sn(this),this.readyState==3&&Jo(this)}},r.Ra=function(n){this.g&&(this.response=this.responseText=n,In(this))},r.Qa=function(n){this.g&&(this.response=n,In(this))},r.ga=function(){this.g&&In(this)};function In(n){n.readyState=4,n.l=null,n.j=null,n.v=null,Sn(n)}r.setRequestHeader=function(n,o){this.u.append(n,o)},r.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";let n=[],o=this.h.entries();for(var l=o.next();!l.done;)l=l.value,n.push(l[0]+": "+l[1]),l=o.next();return n.join(`\r
`)};function Sn(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});function Zo(n){let o="";return se(n,function(l,u){o+=u,o+=":",o+=l,o+=`\r
`}),o}function es(n,o,l){e:{for(u in l){var u=!1;break e}u=!0}u||(l=Zo(l),typeof n=="string"?l!=null&&encodeURIComponent(String(l)):le(n,o,l))}function de(n){we.call(this),this.headers=new Map,this.o=n||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(de,we);var Lu=/^https?$/i,Uu=["POST","PUT"];r=de.prototype,r.Ha=function(n){this.J=n},r.ea=function(n,o,l,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+n);o=o?o.toUpperCase():"GET",this.D=n,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qr.g(),this.v=this.o?Po(this.o):Po(Qr),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(o,String(n),!0),this.B=!1}catch(b){ea(this,b);return}if(n=l||"",l=new Map(this.headers),u)if(Object.getPrototypeOf(u)===Object.prototype)for(var v in u)l.set(v,u[v]);else if(typeof u.keys=="function"&&typeof u.get=="function")for(let b of u.keys())l.set(b,u.get(b));else throw Error("Unknown input type for opt_headers: "+String(u));u=Array.from(l.keys()).find(b=>b.toLowerCase()=="content-type"),v=h.FormData&&n instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Uu,o,void 0))||u||v||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[b,x]of l)this.g.setRequestHeader(b,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ia(this),this.u=!0,this.g.send(n),this.u=!1}catch(b){ea(this,b)}};function ea(n,o){n.h=!1,n.g&&(n.j=!0,n.g.abort(),n.j=!1),n.l=o,n.m=5,ta(n),ri(n)}function ta(n){n.A||(n.A=!0,Ce(n,"complete"),Ce(n,"error"))}r.abort=function(n){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=n||7,Ce(this,"complete"),Ce(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),de.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},r.bb=function(){na(this)};function na(n){if(n.h&&typeof c<"u"&&(!n.v[1]||ut(n)!=4||n.Z()!=2)){if(n.u&&ut(n)==4)Io(n.Ea,0,n);else if(Ce(n,"readystatechange"),ut(n)==4){n.h=!1;try{let x=n.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}var l;if(!(l=o)){var u;if(u=x===0){var v=String(n.D).match(Go)[1]||null;!v&&h.self&&h.self.location&&(v=h.self.location.protocol.slice(0,-1)),u=!Lu.test(v?v.toLowerCase():"")}l=u}if(l)Ce(n,"complete"),Ce(n,"success");else{n.m=6;try{var b=2<ut(n)?n.g.statusText:""}catch{b=""}n.l=b+" ["+n.Z()+"]",ta(n)}}finally{ri(n)}}}}function ri(n,o){if(n.g){ia(n);let l=n.g,u=n.v[0]?()=>{}:null;n.g=null,n.v=null,o||Ce(n,"ready");try{l.onreadystatechange=u}catch{}}}function ia(n){n.I&&(h.clearTimeout(n.I),n.I=null)}r.isActive=function(){return!!this.g};function ut(n){return n.g?n.g.readyState:0}r.Z=function(){try{return 2<ut(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(n){if(this.g){var o=this.g.responseText;return n&&o.indexOf(n)==0&&(o=o.substring(n.length)),_u(o)}};function ra(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.H){case"":case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Bu(n){let o={};n=(n.g&&2<=ut(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let u=0;u<n.length;u++){if(ne(n[u]))continue;var l=y(n[u]);let v=l[0];if(l=l[1],typeof l!="string")continue;l=l.trim();let b=o[v]||[];o[v]=b,b.push(l)}_(o,function(u){return u.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cn(n,o,l){return l&&l.internalChannelParams&&l.internalChannelParams[n]||o}function sa(n){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cn("failFast",!1,n),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cn("baseRetryDelayMs",5e3,n),this.cb=Cn("retryDelaySeedMs",1e4,n),this.Wa=Cn("forwardChannelMaxRetries",2,n),this.wa=Cn("forwardChannelRequestTimeoutMs",2e4,n),this.pa=n&&n.xmlHttpFactory||void 0,this.Xa=n&&n.Tb||void 0,this.Ca=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.h=new Bo(n&&n.concurrentRequestLimit),this.Da=new Mu,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=n&&n.Rb||!1,n&&n.xa&&this.j.xa(),n&&n.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&n&&n.detectBufferingProxy||!1,this.ja=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.ja=n.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=sa.prototype,r.la=8,r.G=1,r.connect=function(n,o,l,u){Ae(0),this.W=n,this.H=o||{},l&&u!==void 0&&(this.H.OSID=l,this.H.OAID=u),this.F=this.X,this.I=ma(this,null,this.W),oi(this)};function ts(n){if(oa(n),n.G==3){var o=n.U++,l=ct(n.I);if(le(l,"SID",n.K),le(l,"RID",o),le(l,"TYPE","terminate"),An(n,l),o=new Et(n,n.j,o),o.L=2,o.v=ni(ct(l)),l=!1,h.navigator&&h.navigator.sendBeacon)try{l=h.navigator.sendBeacon(o.v.toString(),"")}catch{}!l&&h.Image&&(new Image().src=o.v,l=!0),l||(o.g=pa(o.j,null),o.g.ea(o.v)),o.F=Date.now(),Zn(o)}fa(n)}function si(n){n.g&&(is(n),n.g.cancel(),n.g=null)}function oa(n){si(n),n.u&&(h.clearTimeout(n.u),n.u=null),ai(n),n.h.cancel(),n.s&&(typeof n.s=="number"&&h.clearTimeout(n.s),n.s=null)}function oi(n){if(!qo(n.h)&&!n.s){n.s=!0;var o=n.Ga;L||fe(),q||(L(),q=!0),K.add(o,n),n.B=0}}function qu(n,o){return zo(n.h)>=n.h.j-(n.s?1:0)?!1:n.s?(n.i=o.D.concat(n.i),!0):n.G==1||n.G==2||n.B>=(n.Va?0:n.Wa)?!1:(n.s=_n(V(n.Ga,n,o),da(n,n.B)),n.B++,!0)}r.Ga=function(n){if(this.s)if(this.s=null,this.G==1){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;let v=new Et(this,this.j,n),b=this.o;if(this.S&&(b?(b=d(b),g(b,this.S)):b=this.S),this.m!==null||this.O||(v.H=b,b=null),this.P)e:{for(var o=0,l=0;l<this.i.length;l++){t:{var u=this.i[l];if("__data__"in u.map&&(u=u.map.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(o+=u,4096<o){o=l;break e}if(o===4096||l===this.i.length-1){o=l+1;break e}}o=1e3}else o=1e3;o=la(this,v,o),l=ct(this.I),le(l,"RID",n),le(l,"CVER",22),this.D&&le(l,"X-HTTP-Session-Id",this.D),An(this,l),b&&(this.O?o="headers="+encodeURIComponent(String(Zo(b)))+"&"+o:this.m&&es(l,this.m,b)),Zr(this.h,v),this.Ua&&le(l,"TYPE","init"),this.P?(le(l,"$req",o),le(l,"SID","null"),v.T=!0,Hr(v,l,null)):Hr(v,l,o),this.G=2}}else this.G==3&&(n?aa(this,n):this.i.length==0||qo(this.h)||aa(this))};function aa(n,o){var l;o?l=o.l:l=n.U++;let u=ct(n.I);le(u,"SID",n.K),le(u,"RID",l),le(u,"AID",n.T),An(n,u),n.m&&n.o&&es(u,n.m,n.o),l=new Et(n,n.j,l,n.B+1),n.m===null&&(l.H=n.o),o&&(n.i=o.D.concat(n.i)),o=la(n,l,1e3),l.I=Math.round(.5*n.wa)+Math.round(.5*n.wa*Math.random()),Zr(n.h,l),Hr(l,u,o)}function An(n,o){n.H&&se(n.H,function(l,u){le(o,u,l)}),n.l&&Ko({},function(l,u){le(o,u,l)})}function la(n,o,l){l=Math.min(n.i.length,l);var u=n.l?V(n.l.Na,n.l,n):null;e:{var v=n.i;let b=-1;for(;;){let x=["count="+l];b==-1?0<l?(b=v[0].g,x.push("ofs="+b)):b=0:x.push("ofs="+b);let ie=!0;for(let _e=0;_e<l;_e++){let J=v[_e].g,Te=v[_e].map;if(J-=b,0>J)b=Math.max(0,v[_e].g-100),ie=!1;else try{Fu(Te,x,"req"+J+"_")}catch{u&&u(Te)}}if(ie){u=x.join("&");break e}}}return n=n.i.splice(0,l),o.D=n,u}function ca(n){if(!n.g&&!n.u){n.Y=1;var o=n.Fa;L||fe(),q||(L(),q=!0),K.add(o,n),n.v=0}}function ns(n){return n.g||n.u||3<=n.v?!1:(n.Y++,n.u=_n(V(n.Fa,n),da(n,n.v)),n.v++,!0)}r.Fa=function(){if(this.u=null,ua(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var n=2*this.R;this.j.info("BP detection timer enabled: "+n),this.A=_n(V(this.ab,this),n)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),si(this),ua(this))};function is(n){n.A!=null&&(h.clearTimeout(n.A),n.A=null)}function ua(n){n.g=new Et(n,n.j,"rpc",n.Y),n.m===null&&(n.g.H=n.o),n.g.O=0;var o=ct(n.qa);le(o,"RID","rpc"),le(o,"SID",n.K),le(o,"AID",n.T),le(o,"CI",n.F?"0":"1"),!n.F&&n.ja&&le(o,"TO",n.ja),le(o,"TYPE","xmlhttp"),An(n,o),n.m&&n.o&&es(o,n.m,n.o),n.L&&(n.g.I=n.L);var l=n.g;n=n.ia,l.L=1,l.v=ni(ct(o)),l.m=null,l.P=!0,Fo(l,n)}r.Za=function(){this.C!=null&&(this.C=null,si(this),ns(this),Ae(19))};function ai(n){n.C!=null&&(h.clearTimeout(n.C),n.C=null)}function ha(n,o){var l=null;if(n.g==o){ai(n),is(n),n.g=null;var u=2}else if(Jr(n.h,o))l=o.D,$o(n.h,o),u=1;else return;if(n.G!=0){if(o.o)if(u==1){l=o.m?o.m.length:0,o=Date.now()-o.F;var v=n.B;u=Xn(),Ce(u,new Vo(u,l)),oi(n)}else ca(n);else if(v=o.s,v==3||v==0&&0<o.X||!(u==1&&qu(n,o)||u==2&&ns(n)))switch(l&&0<l.length&&(o=n.h,o.i=o.i.concat(l)),v){case 1:Vt(n,5);break;case 4:Vt(n,10);break;case 3:Vt(n,6);break;default:Vt(n,2)}}}function da(n,o){let l=n.Ta+Math.floor(Math.random()*n.cb);return n.isActive()||(l*=2),l*o}function Vt(n,o){if(n.j.info("Error code "+o),o==2){var l=V(n.fb,n),u=n.Xa;let v=!u;u=new Dt(u||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ei(u,"https"),ni(u),v?Nu(u.toString(),l):Ou(u.toString(),l)}else Ae(2);n.G=0,n.l&&n.l.sa(o),fa(n),oa(n)}r.fb=function(n){n?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function fa(n){if(n.G=0,n.ka=[],n.l){let o=jo(n.h);(o.length!=0||n.i.length!=0)&&(U(n.ka,o),U(n.ka,n.i),n.h.i.length=0,D(n.i),n.i.length=0),n.l.ra()}}function ma(n,o,l){var u=l instanceof Dt?ct(l):new Dt(l);if(u.g!="")o&&(u.g=o+"."+u.g),ti(u,u.s);else{var v=h.location;u=v.protocol,o=o?o+"."+v.hostname:v.hostname,v=+v.port;var b=new Dt(null);u&&ei(b,u),o&&(b.g=o),v&&ti(b,v),l&&(b.l=l),u=b}return l=n.D,o=n.ya,l&&o&&le(u,l,o),le(u,"VER",n.la),An(n,u),u}function pa(n,o,l){if(o&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return o=n.Ca&&!n.pa?new de(new En({eb:l})):new de(n.pa),o.Ha(n.J),o}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ga(){}r=ga.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function li(){}li.prototype.g=function(n,o){return new Le(n,o)};function Le(n,o){we.call(this),this.g=new sa(o),this.l=n,this.h=o&&o.messageUrlParams||null,n=o&&o.messageHeaders||null,o&&o.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.o=n,n=o&&o.initMessageHeaders||null,o&&o.messageContentType&&(n?n["X-WebChannel-Content-Type"]=o.messageContentType:n={"X-WebChannel-Content-Type":o.messageContentType}),o&&o.va&&(n?n["X-WebChannel-Client-Profile"]=o.va:n={"X-WebChannel-Client-Profile":o.va}),this.g.S=n,(n=o&&o.Sb)&&!ne(n)&&(this.g.m=n),this.v=o&&o.supportsCrossDomainXhr||!1,this.u=o&&o.sendRawJson||!1,(o=o&&o.httpSessionIdParam)&&!ne(o)&&(this.g.D=o,n=this.h,n!==null&&o in n&&(n=this.h,o in n&&delete n[o])),this.j=new Gt(this)}P(Le,we),Le.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Le.prototype.close=function(){ts(this.g)},Le.prototype.o=function(n){var o=this.g;if(typeof n=="string"){var l={};l.__data__=n,n=l}else this.u&&(l={},l.__data__=$r(n),n=l);o.i.push(new Iu(o.Ya++,n)),o.G==3&&oi(o)},Le.prototype.N=function(){this.g.l=null,delete this.j,ts(this.g),delete this.g,Le.aa.N.call(this)};function _a(n){Kr.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var o=n.__sm__;if(o){e:{for(let l in o){n=l;break e}n=void 0}(this.i=n)&&(n=this.i,o=o!==null&&n in o?o[n]:void 0),this.data=o}else this.data=n}P(_a,Kr);function ya(){Gr.call(this),this.status=1}P(ya,Gr);function Gt(n){this.g=n}P(Gt,ga),Gt.prototype.ua=function(){Ce(this.g,"a")},Gt.prototype.ta=function(n){Ce(this.g,new _a(n))},Gt.prototype.sa=function(n){Ce(this.g,new ya)},Gt.prototype.ra=function(){Ce(this.g,"b")},li.prototype.createWebChannel=li.prototype.g,Le.prototype.send=Le.prototype.o,Le.prototype.open=Le.prototype.m,Le.prototype.close=Le.prototype.close,uc=pt.createWebChannelTransport=function(){return new li},cc=pt.getStatEventTarget=function(){return Xn()},lc=pt.Event=xt,ac=pt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yn.NO_ERROR=0,Yn.TIMEOUT=8,Yn.HTTP_ERROR=6,oc=pt.ErrorCode=Yn,No.COMPLETE="complete",sc=pt.EventType=No,Ro.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",we.prototype.listen=we.prototype.K,rc=pt.WebChannel=Ro,Sd=pt.FetchXmlHttpFactory=En,de.prototype.listenOnce=de.prototype.L,de.prototype.getLastError=de.prototype.Ka,de.prototype.getLastErrorCode=de.prototype.Ba,de.prototype.getStatus=de.prototype.Z,de.prototype.getResponseJson=de.prototype.Oa,de.prototype.getResponseText=de.prototype.oa,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Ha,ic=pt.XhrIo=de}).apply(typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{});var hc="@firebase/firestore",dc="4.8.0";var ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ye.UNAUTHENTICATED=new ye(null),ye.GOOGLE_CREDENTIALS=new ye("google-credentials-uid"),ye.FIRST_PARTY=new ye("first-party-uid"),ye.MOCK_USER=new ye("mock-user");var Kn="11.10.0";var hn=new Xa("@firebase/firestore");function Je(r,...e){if(hn.logLevel<=Ci.DEBUG){let t=e.map(ao);hn.debug(`Firestore (${Kn}): ${r}`,...t)}}function Sc(r,...e){if(hn.logLevel<=Ci.ERROR){let t=e.map(ao);hn.error(`Firestore (${Kn}): ${r}`,...t)}}function Cd(r,...e){if(hn.logLevel<=Ci.WARN){let t=e.map(ao);hn.warn(`Firestore (${Kn}): ${r}`,...t)}}function ao(r){if(typeof r=="string")return r;try{return function(t){return JSON.stringify(t)}(r)}catch{return r}}function Fe(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Cc(r,i,t)}function Cc(r,e,t){let i=`FIRESTORE (${Kn}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Sc(i),new Error(i)}function qt(r,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,r||Cc(e,s,i)}var X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends Ii{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var vr=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zs=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ye.UNAUTHENTICATED))}shutdown(){}},$s=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},js=class{constructor(e){this.t=e,this.currentUser=ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qt(this.o===void 0,42304);let i=this.i,s=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve(),a=new zt;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zt,e.enqueueRetryable(()=>s(this.currentUser))};let c=()=>{let m=a;e.enqueueRetryable(()=>Ze(this,null,function*(){yield m.promise,yield s(this.currentUser)}))},h=m=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>h(m)),setTimeout(()=>{if(!this.auth){let m=this.t.getImmediate({optional:!0});m?h(m):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zt)}},0),c()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qt(typeof i.accessToken=="string",31837,{l:i}),new vr(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new ye(e)}},Ks=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Gs=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Ks(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},wr=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Qs=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qt(this.o===void 0,3512);let i=a=>{a.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let c=a.token!==this.m;return this.m=a.token,Je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};let s=a=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){let a=this.V.getImmediate({optional:!0});a?s(a):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wr(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Ad(r){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}function Pd(){return new TextEncoder}var Ws=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let s=Ad(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<t&&(i+=e.charAt(s[a]%62))}return i}};function Ge(r,e){return r<e?-1:r>e?1:0}function Rd(r,e){let t=0;for(;t<r.length&&t<e.length;){let i=r.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Ge(i,s);{let a=Pd(),c=xd(a.encode(fc(r,t)),a.encode(fc(e,t)));return c!==0?c:Ge(i,s)}}t+=i>65535?2:1}return Ge(r.length,e.length)}function fc(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function xd(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ge(r[t],e[t]);return Ge(r.length,e.length)}var mc="__name__",Tr=class r{constructor(e,t,i){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Fe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return r.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof r?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let s=0;s<i;s++){let a=r.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Ge(e.length,t.length)}static compareSegments(e,t){let i=r.isNumericId(e),s=r.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?r.extractNumericId(e).compare(r.extractNumericId(t)):Rd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}},gt=class r extends Tr{construct(e,t,i){return new r(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Q(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new r(t)}static emptyPath(){return new r([])}},kd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hs=class r extends Tr{construct(e,t,i){return new r(e,t,i)}static isValidIdentifier(e){return kd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mc}static keyField(){return new r([mc])}static fromServerFormat(e){let t=[],i="",s=0,a=()=>{if(i.length===0)throw new Q(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},c=!1;for(;s<e.length;){let h=e[s];if(h==="\\"){if(s+1===e.length)throw new Q(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Q(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(i+=h,s++):(a(),s++)}if(a(),c)throw new Q(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new r(t)}static emptyPath(){return new r([])}};var _t=class r{constructor(e){this.path=e}static fromPath(e){return new r(gt.fromString(e))}static fromName(e){return new r(gt.fromString(e).popFirst(5))}static empty(){return new r(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new r(new gt(e.slice()))}};function Dd(r,e,t,i){if(e===!0&&i===!0)throw new Q(X.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Vd(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Nd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Fe(12329,{type:typeof r})}function Od(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Q(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Nd(r);throw new Q(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function pe(r,e){let t={typeString:r};return e&&(t.value=e),t}function Gn(r,e){if(!Vd(r))throw new Q(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(let i in e)if(e[i]){let s=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}let c=r[i];if(s&&typeof c!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new Q(X.INVALID_ARGUMENT,t);return!0}var pc=-62135596800,gc=1e6,Un=class r{static now(){return r.fromMillis(Date.now())}static fromDate(e){return r.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*gc);return new r(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Q(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Q(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pc)throw new Q(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gc}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:r._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gn(e,r._jsonSchema))return new r(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-pc;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Un._jsonSchemaVersion="firestore/timestamp/1.0",Un._jsonSchema={type:pe("string",Un._jsonSchemaVersion),seconds:pe("number"),nanoseconds:pe("number")};var Xs=class{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}};Xs.UNKNOWN_ID=-1;function Md(r){return r.name==="IndexedDbTransactionError"}function Fd(r){return r===0&&1/r==-1/0}var Ld="remoteDocuments",Ac="owner";var Pc="mutationQueues";var Rc="mutations";var xc="documentMutations",Ud="remoteDocumentsV14";var kc="remoteDocumentGlobal";var Dc="targets";var Vc="targetDocuments";var Nc="targetGlobal",Oc="collectionParents";var Mc="clientMetadata";var Fc="bundles";var Lc="namedQueries";var Bd="indexConfiguration";var qd="indexState";var zd="indexEntries";var Uc="documentOverlays";var $d="globals";var jd=[Pc,Rc,xc,Ld,Dc,Ac,Nc,Vc,Mc,kc,Oc,Fc,Lc],qp=[...jd,Uc],Kd=[Pc,Rc,xc,Ud,Dc,Ac,Nc,Vc,Mc,kc,Oc,Fc,Lc,Uc],Gd=Kd,Qd=[...Gd,Bd,qd,zd];var zp=[...Qd,$d];var dn=class r{constructor(e,t){this.comparator=e,this.root=t||st.EMPTY}insert(e,t){return new r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new an(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new an(this.root,e,this.comparator,!1)}getReverseIterator(){return new an(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new an(this.root,e,this.comparator,!0)}},an=class{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},st=class r{constructor(e,t,i,s,a){this.key=e,this.value=t,this.color=i??r.RED,this.left=s??r.EMPTY,this.right=a??r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,a){return new r(e??this.key,t??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this,a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,i),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return r.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}};st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,i,s,a){return this}insert(e,t,i){return new st(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var br=class r{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Er(this.data.getIterator())}getIteratorFrom(e){return new Er(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof r)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let s=t.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new r(this.comparator);return t.data=e,t}},Er=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ys=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Rt=class r{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ys("Invalid base64 string: "+a):a}}(e);return new r(t)}static fromUint8Array(e){let t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Rt.EMPTY_BYTE_STRING=new Rt("");var Wd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hd(r){if(qt(!!r,39018),typeof r=="string"){let e=0,t=Wd.exec(r);if(qt(!!t,46558,{timestamp:r}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bn(r.seconds),nanos:Bn(r.nanos)}}function Bn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xd(r){return typeof r=="string"?Rt.fromBase64String(r):Rt.fromUint8Array(r)}var Js="(default)",Zs=class r{constructor(e,t){this.projectId=e,this.database=t||Js}static empty(){return new r("","")}get isDefaultDatabase(){return this.database===Js}isEqual(e){return e instanceof r&&e.projectId===this.projectId&&e.database===this.database}};var Bc="__type__",Yd="__max__";var qc="__vector__",zc="value";function Jd(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bc])===null||t===void 0?void 0:t.stringValue)===qc}function Zd(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Yd}var jp={mapValue:{fields:{[Bc]:{stringValue:qc},[zc]:{arrayValue:{}}}}};var eo=class{constructor(e,t=null,i=[],s=[],a=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function ef(r){return new eo(r)}var Kp=new dn(_t.comparator);var Gp=new dn(_t.comparator);var Qp=new dn(_t.comparator),Wp=new br(_t.comparator);var Hp=new br(Ge);var _c,H;(H=_c||(_c={}))[H.OK=0]="OK",H[H.CANCELLED=1]="CANCELLED",H[H.UNKNOWN=2]="UNKNOWN",H[H.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",H[H.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",H[H.NOT_FOUND=5]="NOT_FOUND",H[H.ALREADY_EXISTS=6]="ALREADY_EXISTS",H[H.PERMISSION_DENIED=7]="PERMISSION_DENIED",H[H.UNAUTHENTICATED=16]="UNAUTHENTICATED",H[H.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",H[H.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",H[H.ABORTED=10]="ABORTED",H[H.OUT_OF_RANGE=11]="OUT_OF_RANGE",H[H.UNIMPLEMENTED=12]="UNIMPLEMENTED",H[H.INTERNAL=13]="INTERNAL",H[H.UNAVAILABLE=14]="UNAVAILABLE",H[H.DATA_LOSS=15]="DATA_LOSS";var Xp=new _r([4294967295,4294967295],0);var Ir=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Bn(e.integerValue));else if("doubleValue"in e){let i=Bn(e.doubleValue);isNaN(i)?this.Ct(t,13):(this.Ct(t,15),Fd(i)?t.Ft(0):t.Ft(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ct(t,20),typeof i=="string"&&(i=Hd(i)),t.Mt(`${i.seconds||""}`),t.Ft(i.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Xd(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Ct(t,45),t.Ft(i.latitude||0),t.Ft(i.longitude||0)}else"mapValue"in e?Zd(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Jd(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Fe(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let i=e.fields||{};this.Ct(t,55);for(let s of Object.keys(i))this.xt(s,t),this.Dt(i[s],t)}Lt(e,t){var i,s;let a=e.fields||{};this.Ct(t,53);let c=zc,h=((s=(i=a[c].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.length)||0;this.Ct(t,15),t.Ft(Bn(h)),this.xt(c,t),this.Dt(a[c],t)}qt(e,t){let i=e.values||[];this.Ct(t,50);for(let s of i)this.Dt(s,t)}Bt(e,t){this.Ct(t,37),_t.fromName(e).path.forEach(i=>{this.Ct(t,60),this.$t(i,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Ir.Ut=new Ir;var Yp=new Uint8Array(0);var $c=41943040,rt=class r{static withCacheSize(e){return new r(e,r.DEFAULT_COLLECTION_PERCENTILE,r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}};rt.DEFAULT_COLLECTION_PERCENTILE=10,rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rt.DEFAULT=new rt($c,rt.DEFAULT_COLLECTION_PERCENTILE,rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rt.DISABLED=new rt(-1,0,0);var tf=1048576;function qs(){return typeof document<"u"?document:null}var to=class{constructor(e,t,i=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-i);s>0&&Je("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var no=class r{constructor(e,t,i,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,a){let c=Date.now()+i,h=new r(e,t,c,s,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var yc,vc;(vc=yc||(yc={})).Fa="default",vc.Cache="cache";function nf(r){let e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}var wc=new Map;var jc="firestore.googleapis.com",Tc=!0,Sr=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jc,this.ssl=Tc}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Tc;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$c;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tf)throw new Q(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nf((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Q(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Q(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Q(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Cr=class{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sr({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sr(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zs;switch(i.type){case"firstParty":return new Gs(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Q(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return Ze(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=wc.get(t);i&&(Je("ComponentProvider","Removing Datastore"),wc.delete(t),i.terminate())}(this),Promise.resolve()}};function Kc(r,e,t,i={}){var s;r=Od(r,Cr);let a=wi(e),c=r._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${t}`;a&&(Ti(`https://${m}`),Ei("Firestore",!0)),c.host!==jc&&c.host!==m&&Cd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let w=Object.assign(Object.assign({},c),{host:m,ssl:a,emulatorOptions:i});if(!Ha(w,h)&&(r._setSettings(w),i.mockUserToken)){let C,A;if(typeof i.mockUserToken=="string")C=i.mockUserToken,A=ye.MOCK_USER;else{C=bi(i.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);let V=i.mockUserToken.sub||i.mockUserToken.user_id;if(!V)throw new Q(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new ye(V)}r._authCredentials=new $s(new vr(C,A))}}var io=class r{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new r(this.firestore,e,this._query)}},$t=class r{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new r(this.firestore,e,this._key)}toJSON(){return{type:r._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Gn(t,r._jsonSchema))return new r(e,i||null,new _t(gt.fromString(t.referencePath)))}};$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:pe("string",$t._jsonSchemaVersion),referencePath:pe("string")};var ro=class r extends io{constructor(e,t,i){super(e,t,ef(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new _t(e))}withConverter(e){return new r(this.firestore,e,this._path)}};var bc="AsyncQueue",Ar=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new to(this,"async_queue_retry"),this.oc=()=>{let i=qs();i&&Je(bc,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;let t=qs();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=qs();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new zt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return Ze(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Md(e))throw e;Je(bc,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Sc("INTERNAL UNHANDLED ERROR: ",Ec(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let s=no.createAndSchedule(this,e,t,i,a=>this.lc(a));return this.ec.push(s),s}ac(){this.tc&&Fe(47125,{hc:Ec(this.tc)})}verifyOperationInProgress(){}Pc(){return Ze(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function Ec(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}var so=class extends Cr{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new Ar,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return Ze(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ar(e),this._firestoreClient=void 0,yield e}})}};function Gc(r,e){let t=typeof r=="object"?r:ki(),i=typeof r=="string"?r:e||Js,s=Pi(t,"firestore").getImmediate({identifier:i});if(!s._initialized){let a=vi("firestore");a&&Kc(s,...a)}return s}var qn=class r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new r(Rt.fromBase64String(e))}catch(t){throw new Q(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new r(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gn(e,r._jsonSchema))return r.fromBase64String(e.bytes)}};qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:pe("string",qn._jsonSchemaVersion),bytes:pe("string")};var Pr=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Q(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var zn=class r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Q(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Q(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:r._jsonSchemaVersion}}static fromJSON(e){if(Gn(e,r._jsonSchema))return new r(e.latitude,e.longitude)}};zn._jsonSchemaVersion="firestore/geoPoint/1.0",zn._jsonSchema={type:pe("string",zn._jsonSchemaVersion),latitude:pe("number"),longitude:pe("number")};var $n=class r{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gn(e,r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new r(e.vectorValues);throw new Q(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:pe("string",$n._jsonSchemaVersion),vectorValues:pe("object")};var rf=new RegExp("[~\\*/\\[\\]]");function sf(r,e,t){if(e.search(rf)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Pr(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ic(r,e,t,i,s){let a=i&&!i.isEmpty(),c=s!==void 0,h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${i}`),c&&(m+=` in document ${s}`),m+=")"),new Q(X.INVALID_ARGUMENT,h+r+m)}var Rr=class{constructor(e,t,i,s,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new oo(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Qc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},oo=class extends Rr{data(){return super.data()}};function Qc(r,e){return typeof e=="string"?sf(r,e):e instanceof Pr?e._internalPath:e._delegate._internalPath}var ln=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},cn=class r extends Rr{constructor(e,t,i,s,a,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new un(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Qc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=r._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};cn._jsonSchemaVersion="firestore/documentSnapshot/1.0",cn._jsonSchema={type:pe("string",cn._jsonSchemaVersion),bundleSource:pe("string","DocumentSnapshot"),bundleName:pe("string"),bundle:pe("string")};var un=class extends cn{data(e={}){return super.data(e)}},jn=class r{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ln(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new un(this._firestore,this._userDataWriter,i.key,i,new ln(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Q(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(h=>{let m=new un(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ln(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{let m=new un(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ln(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter),w=-1,C=-1;return h.type!==0&&(w=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),C=c.indexOf(h.doc.key)),{type:of(h.type),doc:m,oldIndex:w,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=r._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ws.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],i=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function of(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:r})}}jn._jsonSchemaVersion="firestore/querySnapshot/1.0",jn._jsonSchema={type:pe("string",jn._jsonSchemaVersion),bundleSource:pe("string","QuerySnapshot"),bundleName:pe("string"),bundle:pe("string")};(function(e,t=!0){(function(s){Kn=s})(xi),Ai(new Si("firestore",(i,{instanceIdentifier:s,options:a})=>{let c=i.getProvider("app").getImmediate(),h=new so(new js(i.getProvider("auth-internal")),new Qs(c,i.getProvider("app-check-internal")),function(w,C){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Q(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zs(w.options.projectId,C)}(c,s),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),tt(hc,dc,e),tt(hc,dc,"esm2017")})();var Qn=class{constructor(e){return e}},Wc="firestore",lo=class{constructor(){return Ni(Wc)}};var co=new hi("angularfire2.firestore-instances");function af(r,e){let t=Vi(Wc,r,e);return t&&new Qn(t)}function lf(r){return(e,t)=>{let i=e.runOutsideAngular(()=>r(t));return new Qn(i)}}var cf={provide:lo,deps:[[new et,co]]},uf={provide:Qn,useFactory:af,deps:[[new et,co],Fi]};function Hc(r,...e){return tt("angularfire",Di.full,"fst"),di([uf,cf,{provide:co,useFactory:lf(r),multi:!0,deps:[Xt,fi,Oi,Li,[new et,Bi],[new et,Ui],...e]}])}var Xc=Mi(Gc,!0);var nu="firebasestorage.googleapis.com",hf="storageBucket",df=2*60*1e3,ff=10*60*1e3;var ot=class r extends Ii{constructor(e,t,i=0){super(uo(e),`Firebase Storage: ${t} (${uo(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uo(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},vt=function(r){return r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment",r}(vt||{});function uo(r){return"storage/"+r}function mf(){let r="An unknown error occurred, please check the error payload for server response.";return new ot(vt.UNKNOWN,r)}function pf(){return new ot(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gf(){return new ot(vt.CANCELED,"User canceled the upload/download.")}function _f(r){return new ot(vt.INVALID_URL,"Invalid URL '"+r+"'.")}function yf(r){return new ot(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Yc(r){return new ot(vt.INVALID_ARGUMENT,r)}function iu(){return new ot(vt.APP_DELETED,"The Firebase app was deleted.")}function vf(r){return new ot(vt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var yt=class r{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=r.makeFromUrl(e,t)}catch{return new r(e,"")}if(i.path==="")return i;throw yf(e)}static makeFromUrl(e,t){let i=null,s="([A-Za-z0-9.\\-_]+)";function a(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}let c="(/(.*))?$",h=new RegExp("^gs://"+s+c,"i"),m={bucket:1,path:3};function w(j){j.path_=decodeURIComponent(j.path)}let C="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),V="(/([^?#]*).*)?$",B=new RegExp(`^https?://${A}/${C}/b/${s}/o${V}`,"i"),P={bucket:1,path:3},D=t===nu?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",te=new RegExp(`^https?://${D}/${s}/${U}`,"i"),W=[{regex:h,indices:m,postModify:a},{regex:B,indices:P,postModify:w},{regex:te,indices:{bucket:1,path:2},postModify:w}];for(let j=0;j<W.length;j++){let ve=W[j],se=ve.regex.exec(e);if(se){let _=se[ve.indices.bucket],d=se[ve.indices.path];d||(d=""),i=new r(_,d),ve.postModify(i);break}}if(i==null)throw _f(e);return i}},ho=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function wf(r,e,t){let i=1,s=null,a=null,c=!1,h=0;function m(){return h===2}let w=!1;function C(...U){w||(w=!0,e.apply(null,U))}function A(U){s=setTimeout(()=>{s=null,r(B,m())},U)}function V(){a&&clearTimeout(a)}function B(U,...te){if(w){V();return}if(U){V(),C.call(null,U,...te);return}if(m()||c){V(),C.call(null,U,...te);return}i<64&&(i*=2);let W;h===1?(h=2,W=0):W=(i+Math.random())*1e3,A(W)}let P=!1;function D(U){P||(P=!0,V(),!w&&(s!==null?(U||(h=2),clearTimeout(s),A(0)):U||(h=1)))}return A(0),a=setTimeout(()=>{c=!0,D(!0)},t),D}function Tf(r){r(!1)}function bf(r){return r!==void 0}function Jc(r,e,t,i){if(i<e)throw Yc(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>t)throw Yc(`Invalid value for '${r}'. Expected ${t} or less.`)}function Ef(r){let e=encodeURIComponent,t="?";for(let i in r)if(r.hasOwnProperty(i)){let s=e(i)+"="+e(r[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var fo=function(r){return r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",r}(fo||{});function If(r,e){let t=r>=500&&r<600,s=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||s||a}var mo=class{constructor(e,t,i,s,a,c,h,m,w,C,A,V=!0,B=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=m,this.timeout_=w,this.progressCallback_=C,this.connectionFactory_=A,this.retry=V,this.isUsingEmulator=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,D)=>{this.resolve_=P,this.reject_=D,this.start_()})}start_(){let e=(i,s)=>{if(s){i(!1,new fn(!1,null,!0));return}let a=this.connectionFactory_();this.pendingConnection_=a;let c=h=>{let m=h.loaded,w=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,w)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;let h=a.getErrorCode()===fo.NO_ERROR,m=a.getStatus();if(!h||If(m,this.additionalRetryCodes_)&&this.retry){let C=a.getErrorCode()===fo.ABORT;i(!1,new fn(!1,null,C));return}let w=this.successCodes_.indexOf(m)!==-1;i(!0,new fn(w,a))})},t=(i,s)=>{let a=this.resolve_,c=this.reject_,h=s.connection;if(s.wasSuccessCode)try{let m=this.callback_(h,h.getResponse());bf(m)?a(m):a()}catch(m){c(m)}else if(h!==null){let m=mf();m.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,m)):c(m)}else if(s.canceled){let m=this.appDelete_?iu():gf();c(m)}else{let m=pf();c(m)}};this.canceled_?t(!1,new fn(!1,null,!0)):this.backoffId_=wf(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Tf(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},fn=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function Sf(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Cf(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Af(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Pf(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Rf(r,e,t,i,s,a,c=!0,h=!1){let m=Ef(r.urlParams),w=r.url+m,C=Object.assign({},r.headers);return Af(C,e),Sf(C,t),Cf(C,a),Pf(C,i),new mo(w,r.method,C,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,c,h)}function xf(r){if(r.length===0)return null;let e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function kf(r){let e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}var __=256*1024;var po=class r{constructor(e,t){this._service=e,t instanceof yt?this._location=t:this._location=yt.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new r(e,t)}get root(){let e=new yt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kf(this._location.path)}get storage(){return this._service}get parent(){let e=xf(this._location.path);if(e===null)return null;let t=new yt(this._location.bucket,e);return new r(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw vf(e)}};function Zc(r,e){let t=e?.[hf];return t==null?null:yt.makeFromBucketSpec(t,r)}function Df(r,e,t,i={}){r.host=`${e}:${t}`;let s=wi(e);s&&(Ti(`https://${r.host}/b`),Ei("Storage",!0)),r._isUsingEmulator=!0,r._protocol=s?"https":"http";let{mockUserToken:a}=i;a&&(r._overrideAuthToken=typeof a=="string"?a:bi(a,r.app.options.projectId))}var go=class{constructor(e,t,i,s,a,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=nu,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=df,this._maxUploadRetryTime=ff,this._requests=new Set,s!=null?this._bucket=yt.makeFromBucketSpec(s,this._host):this._bucket=Zc(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yt.makeFromBucketSpec(this._url,e):this._bucket=Zc(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jc("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jc("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return Ze(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return Ze(this,null,function*(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new po(this,e)}_makeRequest(e,t,i,s,a=!0){if(this._deleted)return new ho(iu());{let c=Rf(e,this._appId,i,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){return Ze(this,null,function*(){let[i,s]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()})}},eu="@firebase/storage",tu="0.13.14";var ru="storage";function su(r=ki(),e){r=hs(r);let i=Pi(r,ru).getImmediate({identifier:e}),s=vi("storage");return s&&ou(i,...s),i}function ou(r,e,t,i={}){Df(r,e,t,i)}function Vf(r,{instanceIdentifier:e}){let t=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new go(t,i,s,e,xi)}function Nf(){Ai(new Si(ru,Vf,"PUBLIC").setMultipleInstances(!0)),tt(eu,tu,""),tt(eu,tu,"esm2017")}Nf();var Wn=class{constructor(e){return e}},au="storage",_o=class{constructor(){return Ni(au)}};var yo=new hi("angularfire2.storage-instances");function Of(r,e){let t=Vi(au,r,e);return t&&new Wn(t)}function Mf(r){return(e,t)=>{let i=e.runOutsideAngular(()=>r(t));return new Wn(i)}}var Ff={provide:_o,deps:[[new et,yo]]},Lf={provide:Wn,useFactory:Of,deps:[[new et,yo],Fi]};function lu(r,...e){return tt("angularfire",Di.full,"gcs"),di([Lf,Ff,{provide:yo,useFactory:Mf(r),multi:!0,deps:[Xt,fi,Oi,Li,[new et,Bi],[new et,Ui],...e]}])}var cu=Mi(su,!0);var uu={production:!1,firebase:{apiKey:"AIzaSyCcTXUVxwtZfxZ_-8nCOoeYTb3aSxBDRMg",authDomain:"media-app-80c75.firebaseapp.com",projectId:"media-app-80c75",storageBucket:"media-app-80c75.firebasestorage.app",messagingSenderId:"133933542668",appId:"1:133933542668:web:77ec37854254e7ba7d6d29"}};var hu={providers:[Na({eventCoalescing:!0}),Qa(nl),za(),Zl(),Ja(()=>Ya(uu.firebase)),Za(()=>el()),Hc(()=>Xc()),lu(()=>cu())]};var Uf=["sidebarToggleBtn"],Bf=["searchBtn"],qf=r=>({scrolled:r}),zf=r=>({display:r}),$f=(r,e)=>e.id;function jf(r,e){if(r&1&&N(0,"img",28),r&2){let t=k(2).$implicit;F("alt",cs(t.title||t.name))("src","https://image.tmdb.org/t/p/w500"+t.poster_path,We)}}function Kf(r,e){if(r&1&&N(0,"img",28),r&2){let t=k(2).$implicit;F("alt",cs(t.title||t.name))("src","https://image.tmdb.org/t/p/w500"+t.profile_path,We)}}function Gf(r,e){if(r&1){let t=ce();E(0,"div",27),O("click",function(){Z(t);let s=k().$implicit,a=k(2);return ee(a.goToMediaDetails(s.media_type,s.id))}),z(1,jf,1,3,"img",28),z(2,Kf,1,3,"img",28),E(3,"span",29),R(4),I()()}if(r&2){let t=k().$implicit;S(),$(t.poster_path?1:-1),S(),$(t.profile_path?2:-1),S(2),ge(t.title||t.name)}}function Qf(r,e){if(r&1&&z(0,Gf,5,3,"div",26),r&2){let t=e.$implicit;$(t.poster_path||t.profile_path?0:-1)}}function Wf(r,e){if(r&1&&(E(0,"div",11),xe(1,Qf,1,1,null,null,$f),I()),r&2){let t=k();F("@slideDown",void 0),S(),ke(t.searchResults)}}var xr=class r{constructor(e,t){this.mediaService=e;this._Router=t}overviewVisible=!1;showSearch=!1;isScrolled=!1;searchResults=[];searchInput$=new Ta;sidebarToggleBtn;searchBtn;toggleContentLeft=new Nt;toggleBasedOnButtonDisplay=new Nt;searchSub;ngOnInit(){this.searchSub=this.searchInput$.pipe(Ia(300),Sa()).subscribe(e=>{e.trim()?this.mediaService.searchMulti(e).subscribe(t=>{this.searchResults=t.results}):this.searchResults=[]})}ngAfterViewInit(){setTimeout(()=>{this.checkInputSearch(),this.checkSideBarToggleVisibility()})}ngOnDestroy(){this.searchSub?.unsubscribe(),this.searchResults=[],this.searchInput$.complete()}onWindowScroll(){let e=window.scrollY||document.documentElement.scrollTop;this.isScrolled=e>100}onResize(){this.checkInputSearch(),this.checkSideBarToggleVisibility()}onDocumentClick(e){let t=document.querySelector(".input-search input"),i=document.querySelector(".search-result-item"),s=e.target,a=t?.contains(s),c=i?.contains(s)}onSearchInput(e){let t=e.target.value;this.searchInput$.next(t)}toggleSearch(){this.showSearch=!this.showSearch}onButtonOpenSideBar(){this.toggleContentLeft.emit()}checkSideBarToggleVisibility(){if(this.sidebarToggleBtn){let t=window.getComputedStyle(this.sidebarToggleBtn.nativeElement).display==="none";this.toggleBasedOnButtonDisplay.emit(t)}}checkInputSearch(){let e=window.getComputedStyle(this.searchBtn.nativeElement).display,t=document.activeElement;t&&t.tagName==="INPUT"||(this.showSearch=e==="none")}goToMediaDetails(e,t){e==="person"?this._Router.navigate(["person-details",e,t]):this._Router.navigate(["media-details",e,t]),this.searchResults=[];let i=document.querySelector(".input-search input");i&&(i.value="")}static \u0275fac=function(t){return new(t||r)(me(nt),me(qe))};static \u0275cmp=re({type:r,selectors:[["app-navbar"]],viewQuery:function(t,i){if(t&1&&(ht(Uf,5),ht(Bf,5)),t&2){let s;dt(s=ft())&&(i.sidebarToggleBtn=s.first),dt(s=ft())&&(i.searchBtn=s.first)}},hostBindings:function(t,i){t&1&&O("scroll",function(){return i.onWindowScroll()},os)("resize",function(){return i.onResize()},os)("click",function(a){return i.onDocumentClick(a)},Ra)},outputs:{toggleContentLeft:"toggleContentLeft",toggleBasedOnButtonDisplay:"toggleBasedOnButtonDisplay"},decls:33,vars:8,consts:[["searchBtn",""],["sidebarToggleBtn",""],["appAnimateOnVisible","",1,"navigation-bar","px-3","py-2",3,"visible","ngClass"],[1,""],["id","navigation-bar-links"],["routerLink","home-page",1,"logo"],[1,"fa-solid","fa-clapperboard"],[1,"px-1"],[1,"input-search",3,"ngStyle"],[1,"position-relative","search-box"],["type","text","placeholder","Search Your Videos",1,"w-100",3,"input"],[1,"search-result-item","w-100","p-2","rounded-4","position-absolute","top-100","start-0"],[1,"position-absolute","top-0","end-0","py-2","px-3"],[1,"fa-solid","fa-magnifying-glass"],[1,"navbar-button","d-flex","align-items-center","gap-3"],[1,"button-search","btn","btn-dark",3,"click"],[1,"responsive-icon"],[1,"btn","btn-dark"],[1,"fa-solid","fa-bell"],[1,"btn","btn-dark","upload-button"],[1,"fa-solid","fa-circle-arrow-up"],["routerLink","signIn",1,"btn","btn-dark","button-mix-color"],[1,"fa-solid","fa-user","responsive-icon"],["routerLink","profile",1,"btn","btn-dark","button-mix-color","d-none"],[1,"btn","btn-dark","button-list-side-bar",3,"click"],[1,"fa-solid","fa-bars"],[1,"bg-black","my-3","p-3","rounded-4"],[1,"bg-black","my-3","p-3","rounded-4",3,"click"],[1,"img-search","rounded-4",3,"src","alt"],[1,"p-3"]],template:function(t,i){if(t&1){let s=ce();E(0,"div",2),O("visible",function(){return Z(s),ee(i.overviewVisible=!0)}),E(1,"div",3)(2,"div",4)(3,"div",5),N(4,"i",6),E(5,"span",7),R(6,"Media"),I()(),E(7,"div",8)(8,"div",9)(9,"input",10),O("input",function(c){return Z(s),ee(i.onSearchInput(c))}),I(),z(10,Wf,3,1,"div",11),E(11,"div",12),N(12,"i",13),I()()(),E(13,"div",14)(14,"button",15,0),O("click",function(){return Z(s),ee(i.toggleSearch())}),N(16,"i",13),E(17,"span",16),R(18," Search"),I()(),E(19,"button",17),N(20,"i",18),I(),E(21,"button",19),N(22,"i",20),R(23," Upload "),I(),E(24,"button",21),N(25,"i",22),R(26," Sign In "),I(),E(27,"button",23),N(28,"i",22),R(29," Profile "),I(),E(30,"button",24,1),O("click",function(){return Z(s),ee(i.onButtonOpenSideBar())}),N(32,"i",25),I()()()()()}t&2&&(F("@slideDown",i.overviewVisible?"visible":"void")("ngClass",Rn(4,qf,i.isScrolled)),S(7),F("ngStyle",Rn(6,zf,i.showSearch?"block":"none")),S(3),$(i.searchResults.length>0?10:-1))},dependencies:[Yt,pi,Ma,Ne,Jt],styles:[".navigation-bar[_ngcontent-%COMP%]{transition:background-color .3s ease;background-color:#000}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:20px;background-color:var(--input-color);border:none;padding:10px 20px;color:#fff}.input-search[_ngcontent-%COMP%]{width:50%;position:relative}.search-box[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]:focus{border:none;outline:none}.scrolled[_ngcontent-%COMP%]{background-color:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.button-search[_ngcontent-%COMP%]{display:none}#navigation-bar-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative}.button-list-side-bar[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]{display:none}.search-result-item[_ngcontent-%COMP%]{height:500px;overflow-y:scroll;background-color:var(--bg-section)}.search-result-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transition:.5s ease;cursor:pointer}.search-result-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{box-shadow:0 10px 10px #fff9}.img-search[_ngcontent-%COMP%]{width:200px;height:100px}@media screen and (max-width:1300px){.input-search[_ngcontent-%COMP%]{width:60%}}@media screen and (max-width:1100px){.input-search[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;padding:2%;background-color:#0009}.search-box[_ngcontent-%COMP%]{width:80%;margin:auto}.button-search[_ngcontent-%COMP%]{display:block}#navigation-bar-links[_ngcontent-%COMP%]{justify-content:flex-end}}@media screen and (max-width:1000px){.logo[_ngcontent-%COMP%]{display:block}.input-search[_ngcontent-%COMP%]{position:static;width:50%;display:block;padding:0%;background-color:transparent}.search-box[_ngcontent-%COMP%]{width:100%}.button-search[_ngcontent-%COMP%]{display:none}#navigation-bar-links[_ngcontent-%COMP%]{justify-content:space-between}.button-list-side-bar[_ngcontent-%COMP%]{display:block}}@media screen and (max-width:860px){.input-search[_ngcontent-%COMP%]{display:none;width:100%;position:absolute;padding:2%;background-color:#0009}.search-box[_ngcontent-%COMP%]{width:90%}.button-search[_ngcontent-%COMP%]{display:block}}@media screen and (max-width:550px){.upload-button[_ngcontent-%COMP%], .responsive-icon[_ngcontent-%COMP%]{display:none}.logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.search-box[_ngcontent-%COMP%]{width:95%}.img-search[_ngcontent-%COMP%]{width:100px;height:60px}}"],data:{animation:[ze]}})};var Hf=()=>["media-collection/movie"],du=()=>({exact:!1}),Xf=()=>["media-collection/tv"],fu=(r,e)=>e.value;function Yf(r,e){if(r&1){let t=ce();E(0,"li",21),O("click",function(){Z(t);let s=k(2);return ee(s.onLinkClick())})("click",function(){let s=Z(t).$implicit,a=k(2);return ee(a.selectMovieOption(s))}),R(1),I()}if(r&2){let t=e.$implicit;F("routerLink",t.pathToComponent),S(),Pe(" ",t.label," ")}}function Jf(r,e){if(r&1&&(E(0,"ul",14),xe(1,Yf,2,2,"li",20,fu),I()),r&2){let t=k();S(),ke(t.movieOptions)}}function Zf(r,e){if(r&1){let t=ce();E(0,"li",21),O("click",function(){Z(t);let s=k(2);return ee(s.onLinkClick())})("click",function(){let s=Z(t).$implicit,a=k(2);return ee(a.selectTVOption(s))}),R(1),I()}if(r&2){let t=e.$implicit;F("routerLink",t.pathToComponent),S(),Pe(" ",t.label," ")}}function em(r,e){if(r&1&&(E(0,"ul",14),xe(1,Zf,2,2,"li",20,fu),I()),r&2){let t=k();S(),ke(t.tvOptions)}}var kr=class r{constructor(e){this.router=e;this.router.events.pipe(Ea(t=>t instanceof $a)).subscribe(t=>{let i=t.urlAfterRedirects;this.movieOptions.some(c=>i.includes(c.pathToComponent))||(this.selectedMovieOption=null),this.tvOptions.some(c=>i.includes(c.pathToComponent))||(this.selectedTVOption=null)})}linkClicked=new Nt;onLinkClick(){window.innerWidth<1e3&&this.linkClicked.emit(),window.scrollTo({top:0,behavior:"smooth"})}movieOptions=[{label:"Top Rated",value:"top_rated",pathToComponent:"media-collection/movie/top_rated"},{label:"Popular",value:"popular",pathToComponent:"media-collection/movie/popular"},{label:"Upcoming",value:"upcoming",pathToComponent:"media-collection/movie/upcoming"},{label:"Latest",value:"latest",pathToComponent:"media-collection/movie/now_playing"}];tvOptions=[{label:"Airing Today",value:"airing_today",pathToComponent:"media-collection/tv/airing_today"},{label:"Popular",value:"popular",pathToComponent:"media-collection/tv/popular"},{label:"Top Rated",value:"top_rated",pathToComponent:"media-collection/tv/top_rated"}];selectedMovieOption=null;selectedTVOption=null;isMovieDropdownOpen=!1;isTVDropdownOpen=!1;toggleMovieDropdown(){this.isMovieDropdownOpen=!this.isMovieDropdownOpen,this.isTVDropdownOpen=!1}toggleTVDropdown(){this.isTVDropdownOpen=!this.isTVDropdownOpen,this.isMovieDropdownOpen=!1}selectMovieOption(e){this.selectedMovieOption=e.label,this.isMovieDropdownOpen=!1}selectTVOption(e){this.selectedTVOption=e.label,this.isTVDropdownOpen=!1}static \u0275fac=function(t){return new(t||r)(me(qe))};static \u0275cmp=re({type:r,selectors:[["app-side-bar"]],outputs:{linkClicked:"linkClicked"},decls:42,vars:12,consts:[[1,"sidebar","vh-100","px-sm-3","py-4","px-1"],["routerLink","home-page",1,"logo",3,"click"],[1,"fa-solid","fa-clapperboard"],[1,"px-1"],[1,"sidebar-links","list-unstyled","my-4"],["routerLink","home-page","routerLinkActive","active",1,"sidebar-link","px-3","py-2",3,"click"],[1,"fa-solid","fa-house"],[1,"px-2"],["routerLink","about","routerLinkActive","active",1,"sidebar-link","px-3","py-2",3,"click"],[1,"fa-solid","fa-user"],["routerLinkActive","active",1,"sidebar-link","px-3","py-2","d-flex","justify-content-between",3,"click","routerLink","routerLinkActiveOptions"],[1,"fa-solid","fa-play"],[1,"select-movies","px-2"],[1,"fa-solid","fa-chevron-down"],[1,"list-unstyled","p-2","navbar-select"],["routerLink","media-collection/person/popular","routerLinkActive","active",1,"sidebar-link","px-3","py-2",3,"click"],[1,"fa-solid","fa-circle-play"],["routerLink","media-collection/trending/all","routerLinkActive","active",1,"sidebar-link","px-3","py-2",3,"click"],[1,"fa-solid","fa-chart-simple"],["routerLinkActive","active","routerLink","contact",1,"sidebar-link","px-3","py-2",3,"click"],[1,"py-1","px-2",3,"routerLink"],[1,"py-1","px-2",3,"click","routerLink"]],template:function(t,i){t&1&&(E(0,"div",0)(1,"div",1),O("click",function(){return i.onLinkClick()}),N(2,"i",2),E(3,"span",3),R(4,"Media"),I()(),E(5,"ul",4)(6,"li",5),O("click",function(){return i.onLinkClick()}),N(7,"i",6),E(8,"span",7),R(9,"Home"),I()(),E(10,"li",8),O("click",function(){return i.onLinkClick()}),N(11,"i",9),E(12,"span",7),R(13,"About"),I()(),E(14,"li",10),O("click",function(){return i.toggleMovieDropdown()}),E(15,"div"),N(16,"i",11),E(17,"span",12),R(18),I()(),E(19,"div"),N(20,"i",13),I()(),z(21,Jf,3,0,"ul",14),E(22,"li",10),O("click",function(){return i.toggleTVDropdown()}),E(23,"div"),N(24,"i",2),E(25,"span",12),R(26),I()(),E(27,"div"),N(28,"i",13),I()(),z(29,em,3,0,"ul",14),E(30,"li",15),O("click",function(){return i.onLinkClick()}),N(31,"i",16),E(32,"span",7),R(33,"People"),I()(),E(34,"li",17),O("click",function(){return i.onLinkClick()}),N(35,"i",18),E(36,"span",7),R(37,"Trending"),I()(),E(38,"li",19),O("click",function(){return i.onLinkClick()}),N(39,"i",9),E(40,"span",7),R(41,"Contact"),I()()()()),t&2&&(S(14),F("routerLink",Pn(8,Hf))("routerLinkActiveOptions",Pn(9,du)),S(4),ge(i.selectedMovieOption||"Movies"),S(3),$(i.isMovieDropdownOpen?21:-1),S(),F("routerLink",Pn(10,Xf))("routerLinkActiveOptions",Pn(11,du)),S(4),ge(i.selectedTVOption||"TV Shows"),S(3),$(i.isTVDropdownOpen?29:-1))},dependencies:[Jt,Ga],styles:['.sidebar[_ngcontent-%COMP%]{background-color:var(--bg-section)}.sidebar-link[_ngcontent-%COMP%]{background:var(--black-color);font-weight:400;border-radius:7px;border:.1px solid var(--border-color);transition:2s;cursor:pointer;position:relative;z-index:1;overflow:hidden;margin-top:6%}.sidebar-link[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:var(--mix-color);z-index:-1;opacity:0;transition:opacity .5s ease}.sidebar-link[_ngcontent-%COMP%]:hover:before, .sidebar-link.active[_ngcontent-%COMP%]:before{opacity:1}.navbar-select[_ngcontent-%COMP%]{border:.1px solid var(--border-color);background-color:var(--black-color)}.navbar-select[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2%;transition:.5s ease;cursor:pointer}.navbar-select[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:var(--main-color)}'],data:{animation:[_i]}})};var Dr=class r{overviewVisible=!1;scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=re({type:r,selectors:[["app-footer"]],decls:41,vars:9,consts:[[1,"position-relative"],[1,"footer","w-100","angled-div","mt-5"],[1,"banner","rounded-0","mb-4","w-100","h-100"],[1,"banner-bg","position-absolute","top-0","start-0","w-100","h-100"],[1,"banner-content","position-relative","text-center","pt-5"],["routerLink","home-page",1,"logo",3,"click"],[1,"fa-solid","fa-clapperboard"],[1,"px-1"],[1,"footer-links","pb-md-4","pb-2","nav","justify-content-center","my-md-3","my-1","flex-wrap","gap-md-4","gap-3"],["appAnimateOnVisible","","routerLink","home-page",3,"visible","click"],["appAnimateOnVisible","","routerLink","about",3,"visible","click"],["appAnimateOnVisible","","routerLink","media-collection/person/popular",3,"visible","click"],["appAnimateOnVisible","","routerLink","media-collection/trending/all",3,"visible","click"],["appAnimateOnVisible","","routerLink","contact",3,"visible","click"],[1,"social-icons","my-md-4","my-2","d-flex","justify-content-center","gap-md-4","gap-2"],["appAnimateOnVisible","",1,"text-white",3,"visible"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-instagram"],[1,"fab","fa-youtube"],[1,"footer-copyright","py-1","w-100","angled-div","overflow-hidden"],[1,"footer-copyright-content","px-md-5","px-1","pt-2","text-center","text-md-start"],[1,""],[1,"d-flex","justify-content-center","gap-md-3","gap-4"],[1,"text-decoration-none"]],template:function(t,i){t&1&&(E(0,"footer",0)(1,"div",1)(2,"div",2),N(3,"div",3),E(4,"div",4)(5,"div",5),O("click",function(){return i.scrollToTop()}),N(6,"i",6),E(7,"span",7),R(8,"Media"),I()(),E(9,"ul",8)(10,"li",9),O("visible",function(){return i.overviewVisible=!0})("click",function(){return i.scrollToTop()}),R(11,"Home"),I(),E(12,"li",10),O("visible",function(){return i.overviewVisible=!0})("click",function(){return i.scrollToTop()}),R(13,"About"),I(),E(14,"li",11),O("visible",function(){return i.overviewVisible=!0})("click",function(){return i.scrollToTop()}),R(15,"People"),I(),E(16,"li",12),O("visible",function(){return i.overviewVisible=!0})("click",function(){return i.scrollToTop()}),R(17,"Trending"),I(),E(18,"li",13),O("visible",function(){return i.overviewVisible=!0})("click",function(){return i.scrollToTop()}),R(19,"Contact Us"),I()(),E(20,"div",14)(21,"a",15),O("visible",function(){return i.overviewVisible=!0}),N(22,"i",16),I(),E(23,"a",15),O("visible",function(){return i.overviewVisible=!0}),N(24,"i",17),I(),E(25,"a",15),O("visible",function(){return i.overviewVisible=!0}),N(26,"i",18),I(),E(27,"a",15),O("visible",function(){return i.overviewVisible=!0}),N(28,"i",19),I()()()()(),E(29,"div",20)(30,"div",21)(31,"div",22)(32,"p"),R(33,"Copyright \xA92025 by tube"),I()(),E(34,"div",23)(35,"a",24),R(36,"Terms of Use"),I(),E(37,"a",24),R(38,"Privacy Policy"),I(),E(39,"a",24),R(40,"License"),I()()()()()),t&2&&(S(10),F("@zoomIn",i.overviewVisible?"visible":"void"),S(2),F("@zoomIn",i.overviewVisible?"visible":"void"),S(2),F("@zoomIn",i.overviewVisible?"visible":"void"),S(2),F("@zoomIn",i.overviewVisible?"visible":"void"),S(2),F("@zoomIn",i.overviewVisible?"visible":"void"),S(3),F("@zoomIn",i.overviewVisible?"visible":"void"),S(2),F("@zoomIn",i.overviewVisible?"visible":"void"),S(2),F("@zoomIn",i.overviewVisible?"visible":"void"),S(2),F("@zoomIn",i.overviewVisible?"visible":"void"))},dependencies:[Jt,Ne],styles:['.footer[_ngcontent-%COMP%]{background-image:url("./media/footer-bg-img-A5CVKB4E.png");background-repeat:no-repeat;background-position:center;height:300px}.banner-bg[_ngcontent-%COMP%]{opacity:.4}.angled-div[_ngcontent-%COMP%]{-webkit-clip-path:polygon(0 0,35% 0,50% 60px,65% 0,100% 0,100% 100%,0 100%);clip-path:polygon(0 0,35% 0,50% 60px,65% 0,100% 0,100% 100%,0 100%)}.logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:var(--white-volor);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.footer-links[_ngcontent-%COMP%]{border-bottom:.1px solid rgba(255,255,255,.3)}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;transition:.3s ease}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:var(--black-color)}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.2rem;border:1px solid white;border-radius:50%;width:40px;height:40px;display:inline-flex;align-items:center;justify-content:center;transition:.3s ease;text-decoration:none}.footer-copyright[_ngcontent-%COMP%]{background-color:var(--black-color);position:absolute;left:0;bottom:0}.footer-copyright-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.footer-copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:color .5s ease;color:var(--white-volor);cursor:pointer}.footer-copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--main-color)}@media screen and (max-width:1160px){.footer[_ngcontent-%COMP%]{height:320px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem}.footer-copyright.angled-div[_ngcontent-%COMP%]{-webkit-clip-path:polygon(0 0,100% 0,100% 100%,0 100%);clip-path:polygon(0 0,100% 0,100% 100%,0 100%)}}@media screen and (max-width:600px){.footer-copyright-content[_ngcontent-%COMP%]{display:block}.footer[_ngcontent-%COMP%]{height:350px}}'],data:{animation:[Ve]}})};function tm(r,e){if(r&1){let t=ce();E(0,"div",1)(1,"app-side-bar",6),O("linkClicked",function(){Z(t);let s=k();return ee(s.onToggleSideBar())}),I()()}r&2&&F("@slideInOut",void 0)}function nm(r,e){if(r&1){let t=ce();E(0,"div",5)(1,"button",7),O("click",function(){Z(t);let s=k();return ee(s.scrollToTop())}),N(2,"i",8),I()()}}var Vr=class r{title="movies-project";moveLeft=!1;isScrollButtonVisible=!1;ngOnInit(){window.addEventListener("scroll",this.onScroll.bind(this))}onSideBarToggleByScreen(e){this.moveLeft=e}onScroll(){this.isScrollButtonVisible=window.scrollY>300}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}onToggleSideBar(){this.moveLeft=!this.moveLeft}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=re({type:r,selectors:[["app-root"]],decls:8,vars:2,consts:[[1,"app-layout"],[1,"side-content"],[1,"content-page"],[3,"toggleContentLeft","toggleBasedOnButtonDisplay"],[1,"page-body","pt-5","mt-5","px-3"],[1,"scroll-up","position-fixed","bottom-0","end-0","p-5"],[3,"linkClicked"],[1,"p-3","text-white",3,"click"],[1,"fa-solid","fa-arrow-up"]],template:function(t,i){t&1&&(E(0,"div",0),z(1,tm,2,1,"div",1),E(2,"div",2)(3,"app-navbar",3),O("toggleContentLeft",function(){return i.onToggleSideBar()})("toggleBasedOnButtonDisplay",function(a){return i.onSideBarToggleByScreen(a)}),I(),E(4,"div",4),N(5,"router-outlet")(6,"app-footer"),I()(),z(7,nm,3,0,"div",5),I()),t&2&&(S(),$(i.moveLeft?1:-1),S(6),$(i.isScrollButtonVisible?7:-1))},dependencies:[xr,kr,Ka,Dr],styles:[".app-layout[_ngcontent-%COMP%]{position:relative}.scroll-up[_ngcontent-%COMP%]{z-index:1000}.scroll-up[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--input-color)}.side-content[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:20%;height:100vh;z-index:1000}.content-page[_ngcontent-%COMP%]   app-navbar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;width:80%;z-index:999}.page-body[_ngcontent-%COMP%]{margin-left:20%}@media screen and (max-width:1300px){.side-content[_ngcontent-%COMP%]{width:25%}.content-page[_ngcontent-%COMP%]   app-navbar[_ngcontent-%COMP%]{width:75%}.page-body[_ngcontent-%COMP%]{margin-left:25%}}@media screen and (max-width:1100px){.side-content[_ngcontent-%COMP%]{width:30%}.content-page[_ngcontent-%COMP%]   app-navbar[_ngcontent-%COMP%]{width:70%}.page-body[_ngcontent-%COMP%]{margin-left:30%}}@media screen and (max-width:1000px){.side-content[_ngcontent-%COMP%]{width:50%}.content-page[_ngcontent-%COMP%]   app-navbar[_ngcontent-%COMP%]{width:100%}.page-body[_ngcontent-%COMP%]{margin-left:0%}}@media screen and (max-width:850px){.side-content[_ngcontent-%COMP%]{width:80%}}"],data:{animation:[_i]}})};Ua(Vr,hu).catch(r=>console.error(r));
