import{a as O}from"./chunk-YFNQ4GXX.js";import"./chunk-H5XZIR6H.js";import{a as P,b as u,c as F,d as k,f as T,g as M,h as V,i as G,k as N}from"./chunk-72RNS4JL.js";import{$a as x,Da as l,E as v,F as I,Fa as S,Oa as h,U as s,X as _,Z as b,ab as y,ca as p,fb as C,ma as m,na as n,oa as o,pa as g,pb as E,ta as w,va as d,xa as c}from"./chunk-B4T3W676.js";var D=t=>({"bg-disabled":t});function U(t,a){if(t&1&&(n(0,"div",23),l(1),o()),t&2){let i=c();s(),S(" ",i.signInError," ")}}function R(t,a){t&1&&(n(0,"p",26),l(1,"Email is required"),o())}function j(t,a){t&1&&(n(0,"p",26),l(1,"Invalid email "),o())}function B(t,a){if(t&1&&(n(0,"div",24),p(1,R,2,0,"p",25)(2,j,2,0,"p",25),o()),t&2){let i,e,r=c();s(),m("ngIf",(i=r.signInForm.get("email"))==null||i.errors==null?null:i.errors.required),s(),m("ngIf",(e=r.signInForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function W(t,a){if(t&1){let i=w();n(0,"i",27),d("click",function(){v(i);let r=c();return I(r.togglePasswordVisibility())}),o()}}function L(t,a){if(t&1){let i=w();n(0,"i",28),d("click",function(){v(i);let r=c();return I(r.togglePasswordVisibility())}),o()}}function Y(t,a){t&1&&(n(0,"p",26),l(1,"Password is required"),o())}function A(t,a){t&1&&(n(0,"p",26),l(1,"Password must be minimum letters is 6"),o())}function z(t,a){if(t&1&&(n(0,"div",24),p(1,Y,2,0,"p",25)(2,A,2,0,"p",25),o()),t&2){let i,e,r=c();s(),m("ngIf",(i=r.signInForm.get("password"))==null||i.errors==null?null:i.errors.required),s(),m("ngIf",(e=r.signInForm.get("password"))==null||e.errors==null?null:e.errors.minlength)}}var q=class t{constructor(a,i,e){this.fb=a;this.auth=i;this._router=e}showPassword=!1;signInForm;signInError="";ngOnInit(){this.signInForm=this.fb.group({email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]]})}onSubmit(){if(this.signInForm.valid){let{email:a,password:i}=this.signInForm.value;this.auth.signIn(a,i).subscribe({next:()=>{this._router.navigate(["/home-page"])},error:e=>{console.log(e),e.code==="auth/invalid-credential"?this.signInError="Invalid email or password.":this.signInError="Sign up failed. Please try again later."}})}}onSignInWithGoogle(){this.auth.signInWithGoogle().subscribe({next:()=>{this._router.navigate(["/home-page"])},error:a=>{this.signInError="Google sign-in failed. Please try again later."}})}togglePasswordVisibility(){this.showPassword=!this.showPassword}goToSignUp(){this._router.navigate(["/signUp"])}static \u0275fac=function(i){return new(i||t)(_(G),_(O),_(E))};static \u0275cmp=b({type:t,selectors:[["app-sign-in-component"]],decls:33,vars:11,consts:[[1,"container-fluid","d-flex","justify-content-center","py-3"],[1,"sign","text-center","my-5","py-3","rounded-4"],[1,"py-3","text-center"],["routerLink","home-page",1,"logo","d-inline"],[1,"fa-solid","fa-clapperboard"],[1,"px-1"],["class","alert alert-danger w-75 m-auto my-3 p-0",4,"ngIf"],[1,"w-75","m-auto","text-center","my-4",3,"ngSubmit","formGroup"],[1,"input-container","w-100","text-center","position-relative"],["id","email","type","email","autocomplete","email","formControlName","email","placeholder","Email",1,"w-100","p-3","rounded-3","bg-black"],["for","email",1,"input-label","position-absolute","rounded-3","fw-bold","px-2","bg-white","text-black"],["class","alert alert-danger p-0 text-start my-2",4,"ngIf"],[1,"input-container","pt-3","rounded-3","w-100","text-center","position-relative"],["id","Password","formControlName","password","placeholder","Password","autocomplete","new-password",1,"w-100","p-3","rounded-1",3,"type"],["for","Password",1,"input-label","rounded-3","position-absolute","text-black","fw-bold","px-2","bg-white"],["class","fas fa-eye position-absolute",3,"click",4,"ngIf"],["class","fas fa-eye-slash position-absolute",3,"click",4,"ngIf"],["class","alert alert-danger p-0 text-start my-2 ",4,"ngIf"],["type","submit",1,"w-75","py-2","rounded-2","fw-bolder","button-mix-color","text-white",3,"disabled","ngClass"],[1,"pt-2","mb-1"],[1,"text-decoration-underline","p-2",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"fa-brands","fa-google","text-white"],[1,"alert","alert-danger","w-75","m-auto","my-3","p-0"],[1,"alert","alert-danger","p-0","text-start","my-2"],["class","ms-4",4,"ngIf"],[1,"ms-4"],[1,"fas","fa-eye","position-absolute",3,"click"],[1,"fas","fa-eye-slash","position-absolute",3,"click"]],template:function(i,e){if(i&1&&(n(0,"div",0)(1,"div",1)(2,"h4",2),l(3," Sign in to "),n(4,"div",3),g(5,"i",4),n(6,"span",5),l(7,"Media"),o()()(),p(8,U,2,1,"div",6),n(9,"form",7),d("ngSubmit",function(){return e.onSubmit()}),n(10,"div",8),g(11,"input",9),n(12,"label",10),l(13,"Email"),o(),p(14,B,3,2,"div",11),o(),n(15,"div",12),g(16,"input",13),n(17,"label",14),l(18,"Password"),o(),p(19,W,1,0,"i",15)(20,L,1,0,"i",16)(21,z,3,2,"div",17),o(),n(22,"div")(23,"button",18),l(24,"Sign In"),o(),n(25,"p",19),l(26,"Don`t have an account? "),o(),n(27,"a",20),d("click",function(){return e.goToSignUp()}),l(28," Register now"),o(),l(29," or "),n(30,"button",21),d("click",function(){return e.onSignInWithGoogle()}),g(31,"i",22),l(32," sign in with Google"),o()()()()()),i&2){let r,f;s(8),m("ngIf",e.signInError!=""),s(),m("formGroup",e.signInForm),s(5),m("ngIf",((r=e.signInForm.get("email"))==null?null:r.invalid)&&((r=e.signInForm.get("email"))==null?null:r.touched)),s(2),m("type",e.showPassword?"text":"password"),s(3),m("ngIf",!e.showPassword),s(),m("ngIf",e.showPassword),s(),m("ngIf",((f=e.signInForm.get("password"))==null?null:f.invalid)&&((f=e.signInForm.get("password"))==null?null:f.touched)),s(2),m("disabled",e.signInForm.invalid)("ngClass",h(9,D,e.signInForm.invalid))}},dependencies:[C,x,y,N,T,P,F,k,M,V],styles:[".sign[_ngcontent-%COMP%]{width:50%;background-color:var(--bg-section)}input[_ngcontent-%COMP%]{background-color:var(--black-color);color:var(--white-volor)}.input-container[_ngcontent-%COMP%]{margin:5% 0}label[_ngcontent-%COMP%]{left:25px;transform:translateY(-50%)}.fa-eye[_ngcontent-%COMP%], .fa-eye-slash[_ngcontent-%COMP%]{transform:translateY(100%);right:15px}@media screen and (max-width:1500px){.sign[_ngcontent-%COMP%]{width:70%}}@media screen and (max-width:992px){.sign[_ngcontent-%COMP%]{width:100%}}"]})};export{q as SignInComponent};
