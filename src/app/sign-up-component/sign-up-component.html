<div class="container-fluid d-flex justify-content-center py-3">
  <div class="sign text-center my-5 p-3 rounded-4">
    <!-- Heading with animated scroll effect -->
    <h4 class="py-3 text-center" appAnimateOnScroll="slideDown">
      Sign up to  
      <div routerLink="home-page" class="logo d-inline">
        <i class="fa-solid fa-clapperboard"></i>
        <span class="px-1">Media</span>
      </div>
    </h4>

    <!-- Show error message if signUpError is not empty -->
    @if(signUpError!=''){
      <div class="alert alert-danger m-auto my-3 p-0">
        {{signUpError}}
      </div>
    }

    <!-- Signup form -->
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="w-100 m-auto text-center my-4">

      <!-- Name input field -->
      <div class="input-container w-100 text-center position-relative">
        <input id="name" type="text" class="w-100 p-3 rounded-3" 
               appAnimateOnScroll="slideUp" autocomplete="name" formControlName="name">
        <label class="input-label position-absolute px-2 text-black" for="name">Name</label>

        <!-- Show validation errors for name -->
        @if(signupForm.get('name')?.invalid && signupForm.get('name')?.touched){
          <div class="alert alert-danger p-0 text-start my-2">
            @if(signupForm.get('name')?.errors?.['required']){
              <p class="ms-4">Name is required</p>
            }
            @if(signupForm.get('name')?.errors?.['minlength']){
              <p class="ms-4">Name must be at least 4 letters</p>
            }
            @if(signupForm.get('name')?.errors?.['maxlength']){
              <p class="ms-4">The name must not exceed 15 letters.</p>
            }
          </div>
        }
      </div>

      <!-- Email input field -->
      <div class="input-container w-100 text-center position-relative">
        <input id="email" type="email" class="w-100 p-3 rounded-3" 
               appAnimateOnScroll="slideUp" autocomplete="email" formControlName="email">
        <label class="input-label position-absolute px-2 text-black" for="email">Email</label>

        <!-- Show validation errors for email -->
        @if(signupForm.get('email')?.invalid && signupForm.get('email')?.touched){
          <div class="alert alert-danger p-0 text-start my-2">
            @if(signupForm.get('email')?.errors?.['required']){
              <p class="ms-4">Email is required</p>
            }
            @if(signupForm.get('email')?.errors?.['email']){
              <p class="ms-4">Invalid email</p>
            }
          </div>
        }
      </div>

      <!-- Age input field -->
      <div class="input-container pt-3 w-100 text-center position-relative">
        <input id="age" type="number" class="w-100 p-3 rounded-3" 
               appAnimateOnScroll="slideUp" autocomplete="age" formControlName="age">
        <label class="input-label position-absolute px-2 text-black" for="age">Age</label>

        <!-- Show validation errors for age -->
        @if(signupForm.get('age')?.invalid && signupForm.get('age')?.touched){
          <div class="alert alert-danger p-0 text-start my-2">
            @if(signupForm.get('age')?.errors?.['required']){
              <p class="ms-4">Age is required</p>
            }
            @if(signupForm.get('age')?.errors?.['min']){
              <p class="ms-4">Age not less than 12 years</p>
            }
          </div>
        }
      </div>

      <!-- Profile image file input -->
      <div class="input-container pt-3 w-100 text-center position-relative">
        <input appAnimateOnScroll="slideUp" id="img" type="file" (change)="onImageChange($event)" 
               class="w-100 p-3 rounded-3" />
        <label class="input-label position-absolute px-2 text-black" for="img">Image profile</label>
      </div>

      <!-- Password input field -->
      <div class="input-container pt-3 rounded-3 w-100 text-center position-relative">
        <input appAnimateOnScroll="slideUp" id="Password" [type]="showPassword ? 'text' : 'password'"
               formControlName="password" class="w-100 p-3 rounded-3" autocomplete="new-password">
        <label for="Password" class="input-label position-absolute text-black px-2">Password</label>

        <!-- Toggle show/hide password icon -->
        @if(!showPassword){
          <i class="fas fa-eye position-absolute" (click)="togglePasswordVisibility()"></i>
        }
        @if(showPassword){
          <i class="fas fa-eye-slash position-absolute" (click)="togglePasswordVisibility()"></i>
        }

        <!-- Show validation errors for password -->
        @if(signupForm.get('password')?.invalid && signupForm.get('password')?.touched){
          <div class="alert alert-danger p-0 text-start my-2">
            @if(signupForm.get('password')?.errors?.['required']){
              <p class="ms-4">Password is required</p>
            }
            @if(signupForm.get('password')?.errors?.['minlength']){
              <p class="ms-4">Password must be minimum letters is 6</p>
            }
          </div>
        }
      </div>

      <!-- Submit button and links -->
      <div>
        <button appAnimateOnScroll="zoomIn" class="w-75 py-2 rounded-2 fw-bolder button-mix-color text-white" 
                type="submit" [disabled]="signupForm.invalid" [ngClass]="{'bg-disabled': signupForm.invalid}">
          Register
        </button>
        <p appAnimateOnScroll="slideUp" class="pt-2 mb-0">Do you have an account? </p>
        <a appAnimateOnScroll="slideUp" class="text-decoration-underline p-2" (click)="goToSignIn()"> Sign in</a>
      </div>
    </form>
  </div> <!-- sign -->
</div> <!-- container -->
