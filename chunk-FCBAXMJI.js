import{a as P,b as u,c as k,d as T,f as M,h as V,i as N,j as O,l as q}from"./chunk-A2SR5FNL.js";import{Da as b,I as a,L as f,N as x,Na as C,Oa as y,S as p,Ua as h,aa as s,ba as i,ca as o,cb as F,da as _,ha as w,ja as c,la as d,sa as m,sb as E,ua as S,w as v,x as I}from"./chunk-IRHPVZQV.js";var G=t=>({"bg-disabled":t});function U(t,l){if(t&1&&(i(0,"div",21),m(1),o()),t&2){let n=d();a(),S(" ",n.signInError," ")}}function R(t,l){t&1&&(i(0,"p",24),m(1,"Email is required"),o())}function j(t,l){t&1&&(i(0,"p",24),m(1,"Invalid email "),o())}function B(t,l){if(t&1&&(i(0,"div",22),p(1,R,2,0,"p",23)(2,j,2,0,"p",23),o()),t&2){let n,e,r=d();a(),s("ngIf",(n=r.signInForm.get("email"))==null||n.errors==null?null:n.errors.required),a(),s("ngIf",(e=r.signInForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function L(t,l){if(t&1){let n=w();i(0,"i",25),c("click",function(){v(n);let r=d();return I(r.togglePasswordVisibility())}),o()}}function Y(t,l){if(t&1){let n=w();i(0,"i",26),c("click",function(){v(n);let r=d();return I(r.togglePasswordVisibility())}),o()}}function A(t,l){t&1&&(i(0,"p",24),m(1,"Password is required"),o())}function z(t,l){t&1&&(i(0,"p",24),m(1,"Password must be minimum letters is 6"),o())}function H(t,l){if(t&1&&(i(0,"div",22),p(1,A,2,0,"p",23)(2,z,2,0,"p",23),o()),t&2){let n,e,r=d();a(),s("ngIf",(n=r.signInForm.get("password"))==null||n.errors==null?null:n.errors.required),a(),s("ngIf",(e=r.signInForm.get("password"))==null||e.errors==null?null:e.errors.minlength)}}var D=class t{constructor(l,n,e){this.fb=l;this.auth=n;this._router=e}showPassword=!1;signInForm;signInError="";ngOnInit(){this.signInForm=this.fb.group({email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]]})}onSubmit(){if(this.signInForm.valid){let{email:l,password:n}=this.signInForm.value;this.auth.signIn(l,n).subscribe({next:()=>{this._router.navigate(["/home-page"])},error:e=>{console.log(e),e.code==="auth/invalid-credential"?this.signInError="Invalid email or password.":this.signInError="Sign up failed. Please try again later."}})}}togglePasswordVisibility(){this.showPassword=!this.showPassword}goToSignUp(){this._router.navigate(["/signUp"])}static \u0275fac=function(n){return new(n||t)(f(O),f(E),f(F))};static \u0275cmp=x({type:t,selectors:[["app-sign-in-component"]],decls:29,vars:11,consts:[[1,"container-fluid","d-flex","justify-content-center","py-3"],[1,"sign","text-center","my-5","p-3","rounded-4"],[1,"py-3","text-center"],["routerLink","home-page",1,"logo","d-inline"],[1,"fa-solid","fa-clapperboard"],[1,"px-1"],["class","alert alert-danger  m-auto my-3 p-0",4,"ngIf"],[1,"m-auto","text-center","my-4",3,"ngSubmit","formGroup"],[1,"input-container","w-100","text-center","position-relative"],["id","email","type","email","autocomplete","email","formControlName","email",1,"w-100","p-3","rounded-3"],["for","email",1,"input-label","position-absolute","px-2","text-black"],["class","alert alert-danger p-0 text-start my-2",4,"ngIf"],[1,"input-container","pt-3","rounded-3","w-100","text-center","position-relative"],["id","Password","formControlName","password","autocomplete","new-password",1,"w-100","p-3","rounded-3",3,"type"],["for","Password",1,"input-label","position-absolute","text-black","px-2"],["class","fas fa-eye position-absolute",3,"click",4,"ngIf"],["class","fas fa-eye-slash position-absolute",3,"click",4,"ngIf"],["class","alert alert-danger p-0 text-start my-2 ",4,"ngIf"],["type","submit",1,"w-75","py-2","rounded-2","fw-bolder","button-mix-color","text-white",3,"disabled","ngClass"],[1,"pt-2","mb-1"],[1,"text-decoration-underline","p-2",3,"click"],[1,"alert","alert-danger","m-auto","my-3","p-0"],[1,"alert","alert-danger","p-0","text-start","my-2"],["class","ms-4",4,"ngIf"],[1,"ms-4"],[1,"fas","fa-eye","position-absolute",3,"click"],[1,"fas","fa-eye-slash","position-absolute",3,"click"]],template:function(n,e){if(n&1&&(i(0,"div",0)(1,"div",1)(2,"h4",2),m(3," Sign in to "),i(4,"div",3),_(5,"i",4),i(6,"span",5),m(7,"Media"),o()()(),p(8,U,2,1,"div",6),i(9,"form",7),c("ngSubmit",function(){return e.onSubmit()}),i(10,"div",8),_(11,"input",9),i(12,"label",10),m(13,"Email"),o(),p(14,B,3,2,"div",11),o(),i(15,"div",12),_(16,"input",13),i(17,"label",14),m(18,"Password"),o(),p(19,L,1,0,"i",15)(20,Y,1,0,"i",16)(21,H,3,2,"div",17),o(),i(22,"div")(23,"button",18),m(24,"Sign In"),o(),i(25,"p",19),m(26,"Don`t have an account? "),o(),i(27,"a",20),c("click",function(){return e.goToSignUp()}),m(28," Register now"),o()()()()()),n&2){let r,g;a(8),s("ngIf",e.signInError!=""),a(),s("formGroup",e.signInForm),a(5),s("ngIf",((r=e.signInForm.get("email"))==null?null:r.invalid)&&((r=e.signInForm.get("email"))==null?null:r.touched)),a(2),s("type",e.showPassword?"text":"password"),a(3),s("ngIf",!e.showPassword),a(),s("ngIf",e.showPassword),a(),s("ngIf",((g=e.signInForm.get("password"))==null?null:g.invalid)&&((g=e.signInForm.get("password"))==null?null:g.touched)),a(2),s("disabled",e.signInForm.invalid)("ngClass",b(9,G,e.signInForm.invalid))}},dependencies:[h,C,y,q,M,P,k,T,V,N],styles:[".sign[_ngcontent-%COMP%]{width:50%;background-color:var(--bg-section)}input[_ngcontent-%COMP%]{background-color:var(--black-color);color:var(--white-volor)}.input-container[_ngcontent-%COMP%]{margin:5% 0}label[_ngcontent-%COMP%]{left:25px;transform:translateY(-50%)}.fa-eye[_ngcontent-%COMP%], .fa-eye-slash[_ngcontent-%COMP%]{transform:translateY(100%);right:15px}@media screen and (max-width:1500px){.sign[_ngcontent-%COMP%]{width:70%}}@media screen and (max-width:992px){.sign[_ngcontent-%COMP%]{width:100%}}"]})};export{D as SignInComponent};
