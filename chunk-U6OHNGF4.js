var Mx=Object.defineProperty,Px=Object.defineProperties;var kx=Object.getOwnPropertyDescriptors;var _l=Object.getOwnPropertySymbols,xx=Object.getPrototypeOf,ID=Object.prototype.hasOwnProperty,wD=Object.prototype.propertyIsEnumerable,Ox=Reflect.get;var ED=(t,e,n)=>e in t?Mx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})ID.call(e,n)&&ED(t,n,e[n]);if(_l)for(var n of _l(e))wD.call(e,n)&&ED(t,n,e[n]);return t},ye=(t,e)=>Px(t,kx(e));var Fx=(t,e)=>{var n={};for(var r in t)ID.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&_l)for(var r of _l(t))e.indexOf(r)<0&&wD.call(t,r)&&(n[r]=t[r]);return n};var Ur=(t,e,n)=>Ox(xx(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function re(t){return typeof t=="function"}function zo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var El=zo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Li(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof El?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{TD(o)}catch(s){e=e??[],s instanceof El?e=[...e,...s.errors]:e.push(s)}}if(e)throw new El(e)}}add(e){var n;if(e&&e!==this)if(this.closed)TD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Li(n,e)}remove(e){let{_finalizers:n}=this;n&&Li(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var bg=ke.EMPTY;function Il(t){return t instanceof ke||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function TD(t){re(t)?t():t.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qo={setTimeout(t,e,...n){let{delegate:r}=qo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=qo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function wl(t){qo.setTimeout(()=>{let{onUnhandledError:e}=cn;if(e)e(t);else throw t})}function Za(){}var DD=Cg("C",void 0,void 0);function bD(t){return Cg("E",void 0,t)}function CD(t){return Cg("N",t,void 0)}function Cg(t,e,n){return{kind:t,value:e,error:n}}var Vi=null;function Go(t){if(cn.useDeprecatedSynchronousErrorHandling){let e=!Vi;if(e&&(Vi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vi;if(Vi=null,n)throw r}}else t()}function SD(t){cn.useDeprecatedSynchronousErrorHandling&&Vi&&(Vi.errorThrown=!0,Vi.error=t)}var ji=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Il(e)&&e.add(this)):this.destination=jx}static create(e,n,r){return new Wo(e,n,r)}next(e){this.isStopped?Ag(CD(e),this):this._next(e)}error(e){this.isStopped?Ag(bD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ag(DD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Lx=Function.prototype.bind;function Sg(t,e){return Lx.call(t,e)}var Rg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tl(r)}else Tl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tl(n)}}},Wo=class extends ji{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sg(e.next,o),error:e.error&&Sg(e.error,o),complete:e.complete&&Sg(e.complete,o)}):i=e}this.destination=new Rg(i)}};function Tl(t){cn.useDeprecatedSynchronousErrorHandling?SD(t):wl(t)}function Vx(t){throw t}function Ag(t,e){let{onStoppedNotification:n}=cn;n&&qo.setTimeout(()=>n(t,e))}var jx={closed:!0,next:Za,error:Vx,complete:Za};var Ko=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ct(t){return t}function Dl(...t){return Ng(t)}function Ng(t){return t.length===0?Ct:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Bx(n)?n:new Wo(n,r,i);return Go(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=AD(r),new r((i,o)=>{let s=new Wo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ko](){return this}pipe(...n){return Ng(n)(this)}toPromise(n){return n=AD(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function AD(t){var e;return(e=t??cn.Promise)!==null&&e!==void 0?e:Promise}function Ux(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function Bx(t){return t&&t instanceof ji||Ux(t)&&Il(t)}var{isArray:$x}=Array,{getPrototypeOf:Hx,prototype:zx,keys:qx}=Object;function bl(t){if(t.length===1){let e=t[0];if($x(e))return{args:e,keys:null};if(Gx(e)){let n=qx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Gx(t){return t&&typeof t=="object"&&Hx(t)===zx}function Cl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ND(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function c(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function RD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ui(t){return this instanceof Ui?(this.v=t,this):new Ui(t)}function MD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(w){return Promise.resolve(w).then(y,p)}}function a(y,w){r[y]&&(i[y]=function(N){return new Promise(function(S,M){o.push([y,N,S,M])>1||c(y,N)})},w&&(i[y]=w(i[y])))}function c(y,w){try{l(r[y](w))}catch(N){g(o[0][3],N)}}function l(y){y.value instanceof Ui?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){c("next",y)}function p(y){c("throw",y)}function g(y,w){y(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function PD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof RD=="function"?RD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Sl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Al(t){return re(t?.then)}function Rl(t){return re(t[Ko])}function Nl(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function Ml(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Wx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pl=Wx();function kl(t){return re(t?.[Pl])}function xl(t){return MD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ui(n.read());if(i)return yield Ui(void 0);yield yield Ui(r)}}finally{n.releaseLock()}})}function Ol(t){return re(t?.getReader)}function $e(t){if(t instanceof Z)return t;if(t!=null){if(Rl(t))return Kx(t);if(Sl(t))return Qx(t);if(Al(t))return Yx(t);if(Nl(t))return kD(t);if(kl(t))return Jx(t);if(Ol(t))return Zx(t)}throw Ml(t)}function Kx(t){return new Z(e=>{let n=t[Ko]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Qx(t){return new Z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Yx(t){return new Z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,wl)})}function Jx(t){return new Z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function kD(t){return new Z(e=>{Xx(t,e).catch(n=>e.error(n))})}function Zx(t){return kD(xl(t))}function Xx(t,e){var n,r,i,o;return ND(this,void 0,void 0,function*(){try{for(n=PD(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function xD(t){return t&&re(t.schedule)}function OD(t){return t[t.length-1]}function Fl(t){return re(OD(t))?t.pop():void 0}function Br(t){return xD(OD(t))?t.pop():void 0}function se(t,e,n,r,i){return new Mg(t,e,n,r,i)}var Mg=class extends ji{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Pg(t){return re(t?.lift)}function ue(t){return e=>{if(Pg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:eO}=Array;function tO(t,e){return eO(e)?t(...e):t(e)}function Ll(t){return X(e=>tO(t,e))}function Vl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function nO(...t){let e=Fl(t),{args:n,keys:r}=bl(t),i=new Z(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let p=!1;$e(n[h]).subscribe(se(o,g=>{p||(p=!0,l--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(r?Vl(r,a):a),o.complete())}))}});return e?i.pipe(Ll(e)):i}var xt=new Z(t=>t.complete());function Sn(t){return t<=0?()=>xt:ue((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Qo(){return ue((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Yo=class extends Z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Qo()(this)}};var FD=zo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new jl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new FD}next(n){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?bg:(this.currentObservers=null,o.push(n),new ke(()=>{this.currentObservers=null,Li(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Z;return n.source=this,n}}return t.create=(e,n)=>new jl(e,n),t})(),jl=class extends Ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:bg}};var ut=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var kg={now(){return(kg.delegate||Date).now()},delegate:void 0};var Ul=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var Xa={setInterval(t,e,...n){let{delegate:r}=Xa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Xa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Jo=class extends Ul{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Xa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Xa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Li(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Zo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Zo.now=kg.now;var Xo=class extends Zo{constructor(e,n=Zo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ec=new Xo(Jo);var Bl=class extends Jo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var $l=class extends Xo{};var xg=new $l(Bl);function Ot(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function $r(t,e=0){return ue((n,r)=>{n.subscribe(se(r,i=>Ot(r,t,()=>r.next(i),e),()=>Ot(r,t,()=>r.complete(),e),i=>Ot(r,t,()=>r.error(i),e)))})}function Hr(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function LD(t,e){return $e(t).pipe(Hr(e),$r(e))}function VD(t,e){return $e(t).pipe(Hr(e),$r(e))}function jD(t,e){return new Z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function UD(t,e){return new Z(n=>{let r;return Ot(n,e,()=>{r=t[Pl](),Ot(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function Hl(t,e){if(!t)throw new Error("Iterable cannot be null");return new Z(n=>{Ot(n,e,()=>{let r=t[Symbol.asyncIterator]();Ot(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function BD(t,e){return Hl(xl(t),e)}function $D(t,e){if(t!=null){if(Rl(t))return LD(t,e);if(Sl(t))return jD(t,e);if(Al(t))return VD(t,e);if(Nl(t))return Hl(t,e);if(kl(t))return UD(t,e);if(Ol(t))return BD(t,e)}throw Ml(t)}function Ee(t,e){return e?$D(t,e):$e(t)}function K(...t){let e=Br(t);return Ee(t,e)}function es(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new Z(e?i=>e.schedule(r,0,i):r)}function Og(t){return!!t&&(t instanceof Z||re(t.lift)&&re(t.subscribe))}var or=zo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function zl(...t){let e=Br(t),n=Fl(t),{args:r,keys:i}=bl(t);if(r.length===0)return Ee([],e);let o=new Z(rO(r,e,i?s=>Vl(i,s):Ct));return n?o.pipe(Ll(n)):o}function rO(t,e,n=Ct){return r=>{HD(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)HD(e,()=>{let l=Ee(t[c],e),h=!1;l.subscribe(se(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function HD(t,e,n){t?Ot(n,t,e):e()}function zD(t,e,n,r,i,o,s,a){let c=[],l=0,h=0,p=!1,g=()=>{p&&!c.length&&!l&&e.complete()},y=N=>l<r?w(N):c.push(N),w=N=>{o&&e.next(N),l++;let S=!1;$e(n(N,h++)).subscribe(se(e,M=>{i?.(M),o?y(M):e.next(M)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<r;){let M=c.shift();s?Ot(e,s,()=>w(M)):w(M)}g()}catch(M){e.error(M)}}))};return t.subscribe(se(e,y,()=>{p=!0,g()})),()=>{a?.()}}function He(t,e,n=1/0){return re(e)?He((r,i)=>X((o,s)=>e(r,o,i,s))($e(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>zD(r,i,t,n)))}function ts(t=1/0){return He(Ct,t)}function qD(){return ts(1)}function ns(...t){return qD()(Ee(t,Br(t)))}function tc(t){return new Z(e=>{$e(t()).subscribe(e)})}function lt(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function sr(t){return ue((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=$e(t(s,sr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function GD(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(se(s,h=>{let p=l++;c=a?t(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function ar(t,e){return re(e)?He(t,e,1):He(t,1)}function iO(t,e=ec){return ue((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(se(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function zr(t){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function WD(t,e=Ct){return t=t??oO,ue((n,r)=>{let i,o=!0;n.subscribe(se(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function oO(t,e){return t===e}function ql(t=sO){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sO(){return new or}function Bi(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function cr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?lt((i,o)=>t(i,o,r)):Ct,Sn(1),n?zr(e):ql(()=>new or))}function rs(t){return t<=0?()=>xt:ue((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Fg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?lt((i,o)=>t(i,o,r)):Ct,rs(1),n?zr(e):ql(()=>new or))}function Gl(t,e){return ue(GD(t,e,arguments.length>=2,!0))}function Wl(...t){let e=Br(t);return ue((n,r)=>{(e?ns(t,n,e):ns(t,n)).subscribe(r)})}function dt(t,e){return ue((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(se(r,c=>{i?.unsubscribe();let l=0,h=o++;$e(t(c,h)).subscribe(i=se(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Kl(t){return ue((e,n)=>{$e(t).subscribe(se(n,()=>n.complete(),Za)),!n.closed&&e.subscribe(n)})}function et(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ct}var Lg;function Ql(){return Lg}function An(t){let e=Lg;return Lg=t,e}var KD=Symbol("NotFound");function is(t){return t===KD||t?.name==="\u0275NotFound"}function ed(t,e){return Object.is(t,e)}var yt=null,Yl=!1,Vg=1,aO=null,vt=Symbol("SIGNAL");function ee(t){let e=yt;return yt=t,e}function td(){return yt}var $i={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function os(t){if(Yl)throw new Error("");if(yt===null)return;yt.consumerOnSignalRead(t);let e=yt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=yt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:yt.producers,n!==void 0&&n.producer===t)){yt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===yt&&(!r||uO(i,yt)))return;let o=as(yt),s={producer:t,consumer:yt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};yt.producersTail=s,e!==void 0?e.nextProducer=s:yt.producers=s,o&&YD(t,s)}function QD(){Vg++}function nd(t){if(!(as(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Vg)){if(!t.producerMustRecompute(t)&&!rc(t)){Xl(t);return}t.producerRecomputeValue(t),Xl(t)}}function jg(t){if(t.consumers===void 0)return;let e=Yl;Yl=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||cO(r)}}finally{Yl=e}}function Ug(){return yt?.consumerAllowSignalWrites!==!1}function cO(t){t.dirty=!0,jg(t),t.consumerMarkedDirty?.(t)}function Xl(t){t.dirty=!1,t.lastCleanEpoch=Vg}function Hi(t){return t&&(t.producersTail=void 0,t.recomputing=!0),ee(t)}function ss(t,e){if(ee(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(as(t))do r=Bg(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function rc(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(nd(n),r!==n.version))return!0}return!1}function rd(t){if(as(t)){let e=t.producers;for(;e!==void 0;)e=Bg(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function YD(t,e){let n=t.consumersTail,r=as(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)YD(i.producer,i)}function Bg(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!as(e)){let o=e.producers;for(;o!==void 0;)o=Bg(o)}return n}function as(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function id(t){aO?.(t)}function uO(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function od(t,e){let n=Object.create(lO);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(nd(n),os(n),n.value===nc)throw n.error;return n.value};return r[vt]=n,id(n),r}var Jl=Symbol("UNSET"),Zl=Symbol("COMPUTING"),nc=Symbol("ERRORED"),lO=ye(V({},$i),{value:Jl,dirty:!0,error:null,equal:ed,kind:"computed",producerMustRecompute(t){return t.value===Jl||t.value===Zl},producerRecomputeValue(t){if(t.value===Zl)throw new Error("");let e=t.value;t.value=Zl;let n=Hi(t),r,i=!1;try{r=t.computation(),ee(null),i=e!==Jl&&e!==nc&&r!==nc&&t.equal(e,r)}catch(o){r=nc,t.error=o}finally{ss(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function dO(){throw new Error}var JD=dO;function ZD(t){JD(t)}function $g(t){JD=t}var hO=null;function Hg(t,e){let n=Object.create(sd);n.value=t,e!==void 0&&(n.equal=e);let r=()=>XD(n);return r[vt]=n,id(n),[r,s=>cs(n,s),s=>zg(n,s)]}function XD(t){return os(t),t.value}function cs(t,e){Ug()||ZD(t),t.equal(t.value,e)||(t.value=e,fO(t))}function zg(t,e){Ug()||ZD(t),cs(t,e(t.value))}var sd=ye(V({},$i),{equal:ed,value:void 0,kind:"signal"});function fO(t){t.version++,QD(),jg(t),hO?.(t)}function eb(t){let e=ee(null);try{return t()}finally{ee(e)}}var dd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",O=class extends Error{code;constructor(e,n){super(Ki(e,n)),this.code=e}};function pO(t){return`NG0${Math.abs(t)}`}function Ki(t,e){return`${pO(t)}${e?": "+e:""}`}var Qt=globalThis;function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("")}function rb(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(lr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function hd(t,e){return t?e?`${t} ${e}`:t:e||""}var gO=ve({__forward_ref__:ve});function fd(t){return t.__forward_ref__=fd,t.toString=function(){return lr(this())},t}function ht(t){return rm(t)?t():t}function rm(t){return typeof t=="function"&&t.hasOwnProperty(gO)&&t.__forward_ref__===fd}function ib(t,e){t==null&&im(e,t,null,"!=")}function im(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kr(t){return{providers:t.providers||[],imports:t.imports||[]}}function cc(t){return mO(t,pd)}function om(t){return cc(t)!==null}function mO(t,e){return t.hasOwnProperty(e)&&t[e]||null}function yO(t){let e=t?.[pd]??null;return e||null}function Gg(t){return t&&t.hasOwnProperty(cd)?t[cd]:null}var pd=ve({\u0275prov:ve}),cd=ve({\u0275inj:ve}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sm(t){return t&&!!t.\u0275providers}var am=ve({\u0275cmp:ve}),cm=ve({\u0275dir:ve}),um=ve({\u0275pipe:ve}),lm=ve({\u0275mod:ve}),sc=ve({\u0275fac:ve}),Qi=ve({__NG_ELEMENT_ID__:ve}),tb=ve({__NG_ENV_ID__:ve});function Qr(t){return typeof t=="string"?t:t==null?"":String(t)}function ud(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Qr(t)}var dm=ve({ngErrorCode:ve}),ob=ve({ngErrorMessage:ve}),oc=ve({ngTokenPath:ve});function hm(t,e){return sb("",-200,e)}function gd(t,e){throw new O(-201,!1)}function vO(t,e){t[oc]??=[];let n=t[oc],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(ib(e.provide,"Token with multi: true should have a provide property"),r=ud(e.provide)):r=ud(e),n[0]!==r&&t[oc].unshift(r)}function _O(t,e){let n=t[oc],r=t[dm],i=t[ob]||t.message;return t.message=IO(i,r,n,e),t}function sb(t,e,n){let r=new O(e,t);return r[dm]=e,r[ob]=t,n&&(r[oc]=n),r}function EO(t){return t[dm]}function IO(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Ki(e,`${t}${o}${i}`)}var Wg;function ab(){return Wg}function St(t){let e=Wg;return Wg=t,e}function fm(t,e,n){let r=cc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;gd(t,"Injector")}var wO={},zi=wO,Kg="__NG_DI_FLAG__",Qg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=qi(n)||0;try{return this.injector.get(e,r&8?null:zi,r)}catch(i){if(is(i))return i;throw i}}};function TO(t,e=0){let n=Ql();if(n===void 0)throw new O(-203,!1);if(n===null)return fm(t,void 0,e);{let r=DO(e),i=n.retrieve(t,r);if(is(i)){if(r.optional)return null;throw i}return i}}function q(t,e=0){return(ab()||TO)(ht(t),e)}function P(t,e){return q(t,qi(e))}function qi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function DO(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Yg(t){let e=[];for(let n=0;n<t.length;n++){let r=ht(t[n]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=bO(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(q(i,o))}else e.push(q(r))}return e}function pm(t,e){return t[Kg]=e,t.prototype[Kg]=e,t}function bO(t){return t[Kg]}function qr(t,e){let n=t.hasOwnProperty(sc);return n?t[sc]:null}function cb(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function ub(t){return t.flat(Number.POSITIVE_INFINITY)}function md(t,e){t.forEach(n=>Array.isArray(n)?md(n,e):e(n))}function gm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function uc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function lb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function yd(t,e,n){let r=ls(t,e);return r>=0?t[r|1]=n:(r=~r,lb(t,r,e,n)),r}function vd(t,e){let n=ls(t,e);if(n>=0)return t[n|1]}function ls(t,e){return CO(t,e,1)}function CO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Yr={},At=[],dr=new U(""),mm=new U("",-1),ym=new U(""),ac=class{get(e,n=zi){if(n===zi){let i=sb("",-201);throw i.name="\u0275NotFound",i}return n}};function vm(t){return t[lm]||null}function Jr(t){return t[am]||null}function _m(t){return t[cm]||null}function db(t){return t[um]||null}function Ft(t){return{\u0275providers:t}}function hb(...t){return{\u0275providers:Em(!0,t),\u0275fromNgModule:!0}}function Em(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return md(e,s=>{let a=s;ld(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&fb(i,o),n}function fb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Im(i,o=>{e(o,r)})}}function ld(t,e,n,r){if(t=ht(t),!t)return!1;let i=null,o=Gg(t),s=!o&&Jr(t);if(!o&&!s){let c=t.ngModule;if(o=Gg(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ld(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{md(o.imports,h=>{ld(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&fb(l,e)}if(!a){let l=qr(i)||(()=>new i);e({provide:i,useFactory:l,deps:At},i),e({provide:ym,useValue:i,multi:!0},i),e({provide:dr,useValue:()=>q(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Im(c,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Im(t,e){for(let n of t)sm(n)&&(n=n.\u0275providers),Array.isArray(n)?Im(n,e):e(n)}var SO=ve({provide:String,useValue:ve});function pb(t){return t!==null&&typeof t=="object"&&SO in t}function AO(t){return!!(t&&t.useExisting)}function RO(t){return!!(t&&t.useFactory)}function Gi(t){return typeof t=="function"}function gb(t){return!!t.useClass}var lc=new U(""),ad={},nb={},qg;function dc(){return qg===void 0&&(qg=new ac),qg}var xe=class{},Wi=class extends xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Zg(e,s=>this.processProvider(s)),this.records.set(mm,us(void 0,this)),i.has("environment")&&this.records.set(xe,us(void 0,this));let o=this.records.get(lc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ym,At,{self:!0}))}retrieve(e,n){let r=qi(n)||0;try{return this.get(e,zi,r)}catch(i){if(is(i))return i;throw i}}destroy(){ic(this),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return ic(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ic(this);let n=An(this),r=St(void 0),i;try{return e()}finally{An(n),St(r)}}get(e,n=zi,r){if(ic(this),e.hasOwnProperty(tb))return e[tb](this);let i=qi(r),o,s=An(this),a=St(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=xO(e)&&cc(e);h&&this.injectableDefInScope(h)?l=us(Jg(e),ad):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?dc():this.parent;return n=i&8&&n===zi?null:n,c.get(e,n)}catch(c){let l=EO(c);throw l===-200||l===-201?new O(l,null):c}finally{St(a),An(s)}}resolveInjectorInitializers(){let e=ee(null),n=An(this),r=St(void 0),i;try{let o=this.get(dr,At,{self:!0});for(let s of o)s()}finally{An(n),St(r),ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(lr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ht(e);let n=Gi(e)?e:ht(e&&e.provide),r=MO(e);if(!Gi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=us(void 0,ad,!0),i.factory=()=>Yg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ee(null);try{if(n.value===nb)throw hm(lr(e));return n.value===ad&&(n.value=nb,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&kO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ee(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ht(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Jg(t){let e=cc(t),n=e!==null?e.factory:qr(t);if(n!==null)return n;if(t instanceof U)throw new O(204,!1);if(t instanceof Function)return NO(t);throw new O(204,!1)}function NO(t){if(t.length>0)throw new O(204,!1);let n=yO(t);return n!==null?()=>n.factory(t):()=>new t}function MO(t){if(pb(t))return us(void 0,t.useValue);{let e=wm(t);return us(e,ad)}}function wm(t,e,n){let r;if(Gi(t)){let i=ht(t);return qr(i)||Jg(i)}else if(pb(t))r=()=>ht(t.useValue);else if(RO(t))r=()=>t.useFactory(...Yg(t.deps||[]));else if(AO(t))r=(i,o)=>q(ht(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ht(t&&(t.useClass||t.provide));if(PO(t))r=()=>new i(...Yg(t.deps));else return qr(i)||Jg(i)}return r}function ic(t){if(t.destroyed)throw new O(205,!1)}function us(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function PO(t){return!!t.deps}function kO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function xO(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Zg(t,e){for(let n of t)Array.isArray(n)?Zg(n,e):n&&sm(n)?Zg(n.\u0275providers,e):e(n)}function Ue(t,e){let n;t instanceof Wi?(ic(t),n=t):n=new Qg(t);let r,i=An(n),o=St(void 0);try{return e()}finally{An(i),St(o)}}function mb(){return ab()!==void 0||Ql()!=null}var un=0,G=1,te=2,Je=3,Yt=4,Jt=5,ds=6,hs=7,Oe=8,Yi=9,Nn=10,be=11,fs=12,Tm=13,Ji=14,Lt=15,Zr=16,Zi=17,Mn=18,hc=19,Dm=20,ur=21,_d=22,fc=23,$t=24,Ed=25,Fe=26,yb=1,bm=6,Xr=7,pc=8,Xi=9,tt=10;function Pn(t){return Array.isArray(t)&&typeof t[yb]=="object"}function ln(t){return Array.isArray(t)&&t[yb]===!0}function Cm(t){return(t.flags&4)!==0}function ei(t){return t.componentOffset>-1}function gc(t){return(t.flags&1)===1}function kn(t){return!!t.template}function ps(t){return(t[te]&512)!==0}function eo(t){return(t[te]&256)===256}var vb="svg",_b="math";function Zt(t){for(;Array.isArray(t);)t=t[un];return t}function Sm(t,e){return Zt(e[t])}function dn(t,e){return Zt(e[t.index])}function mc(t,e){return t.data[e]}function Id(t,e){return t[e]}function Am(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Xt(t,e){let n=e[t];return Pn(n)?n:n[un]}function Eb(t){return(t[te]&4)===4}function wd(t){return(t[te]&128)===128}function Ib(t){return ln(t[Je])}function en(t,e){return e==null?null:t[e]}function Rm(t){t[Zi]=0}function Nm(t){t[te]&1024||(t[te]|=1024,wd(t)&&vc(t))}function wb(t,e){for(;t>0;)e=e[Ji],t--;return e}function yc(t){return!!(t[te]&9216||t[$t]?.dirty)}function Td(t){t[Nn].changeDetectionScheduler?.notify(8),t[te]&64&&(t[te]|=1024),yc(t)&&vc(t)}function vc(t){t[Nn].changeDetectionScheduler?.notify(0);let e=Gr(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!wd(e)));)e=Gr(e)}function Mm(t,e){if(eo(t))throw new O(911,!1);t[ur]===null&&(t[ur]=[]),t[ur].push(e)}function Tb(t,e){if(t[ur]===null)return;let n=t[ur].indexOf(e);n!==-1&&t[ur].splice(n,1)}function Gr(t){let e=t[Je];return ln(e)?e[Je]:e}function Pm(t){return t[hs]??=[]}function km(t){return t.cleanup??=[]}function Db(t,e,n,r){let i=Pm(e);i.push(n),t.firstCreatePass&&km(t).push(r,i.length-1)}var ae={lFrame:Ub(null),bindingsEnabled:!0,skipHydrationRootTNode:null},_c=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(_c||{}),OO=0,Xg=!1;function bb(){return ae.lFrame.elementDepthCount}function Cb(){ae.lFrame.elementDepthCount++}function xm(){ae.lFrame.elementDepthCount--}function Om(){return ae.bindingsEnabled}function Sb(){return ae.skipHydrationRootTNode!==null}function Fm(t){return ae.skipHydrationRootTNode===t}function Lm(){ae.skipHydrationRootTNode=null}function Y(){return ae.lFrame.lView}function Re(){return ae.lFrame.tView}function Ab(t){return ae.lFrame.contextLView=t,t[Oe]}function Rb(t){return ae.lFrame.contextLView=null,t}function nt(){let t=Vm();for(;t!==null&&t.type===64;)t=t.parent;return t}function Vm(){return ae.lFrame.currentTNode}function Nb(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function gs(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function jm(){return ae.lFrame.isParent}function Mb(){ae.lFrame.isParent=!1}function Pb(){return ae.lFrame.contextLView}function Um(t){im("Must never be called in production mode"),OO=t}function Bm(){return Xg}function $m(t){let e=Xg;return Xg=t,e}function Ec(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function kb(){return ae.lFrame.bindingIndex}function xb(t){return ae.lFrame.bindingIndex=t}function hr(){return ae.lFrame.bindingIndex++}function Dd(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ob(){return ae.lFrame.inI18n}function Fb(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,bd(e)}function Lb(){return ae.lFrame.currentDirectiveIndex}function bd(t){ae.lFrame.currentDirectiveIndex=t}function Vb(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Hm(){return ae.lFrame.currentQueryIndex}function Cd(t){ae.lFrame.currentQueryIndex=t}function FO(t){let e=t[G];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function zm(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=FO(o),i===null||(o=o[Ji],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=jb();return r.currentTNode=e,r.lView=t,!0}function Sd(t){let e=jb(),n=t[G];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function jb(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?Ub(t):e}function Ub(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Bb(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var qm=Bb;function Ad(){let t=Bb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $b(t){return(ae.lFrame.contextLView=wb(t,ae.lFrame.contextLView))[Oe]}function xn(){return ae.lFrame.selectedIndex}function ti(t){ae.lFrame.selectedIndex=t}function Ic(){let t=ae.lFrame;return mc(t.tView,t.selectedIndex)}function Hb(){return ae.lFrame.currentNamespace}var zb=!0;function Rd(){return zb}function Nd(t){zb=t}function em(t,e=null,n=null,r){let i=Gm(t,e,n,r);return i.resolveInjectorInitializers(),i}function Gm(t,e=null,n=null,r,i=new Set){let o=[n||At,hb(t)];return r=r||(typeof t=="object"?void 0:lr(t)),new Wi(o,e||dc(),r||null,i)}var Ze=class t{static THROW_IF_NOT_FOUND=zi;static NULL=new ac;static create(e,n){if(Array.isArray(e))return em({name:""},n,e,"");{let r=e.name??"";return em({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:t,providedIn:"any",factory:()=>q(mm)});static __NG_ELEMENT_ID__=-1},ze=new U(""),ni=(()=>{class t{static __NG_ELEMENT_ID__=LO;static __NG_ENV_ID__=n=>n}return t})(),tm=class extends ni{_lView;constructor(e){super(),this._lView=e}get destroyed(){return eo(this._lView)}onDestroy(e){let n=this._lView;return Mm(n,e),()=>Tb(n,e)}};function LO(){return new tm(Y())}var Rn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Rt=new U("",{providedIn:"root",factory:()=>{let t=P(xe),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Rn),e.handleError(n))}}}),qb={provide:dr,useValue:()=>void P(Rn),multi:!0};function Wm(t){return typeof t=="function"&&t[vt]!==void 0}function wc(t,e){let[n,r,i]=Hg(t,e?.equal),o=n,s=o[vt];return o.set=r,o.update=i,o.asReadonly=Gb.bind(o),o}function Gb(){let t=this[vt];if(t.readonlyFn===void 0){let e=()=>this();e[vt]=t,t.readonlyFn=e}return t.readonlyFn}function Km(t){return Wm(t)&&typeof t.set=="function"}var Wr=class{},ms=new U("",{providedIn:"root",factory:()=>!1});var Qm=new U(""),Ym=new U("");var On=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ut(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Z(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),ri=(()=>{class t{internalPendingTasks=P(On);scheduler=P(Wr);errorHandler=P(Rt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();function Tc(...t){}var Jm=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new nm})}return t})(),nm=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Ts(t){return{toString:t}.toString()}var Md="__parameters__";function GO(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function CC(t,e,n){return Ts(()=>{let r=GO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(Md)?c[Md]:Object.defineProperty(c,Md,{value:[]})[Md];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Nt=pm(CC("Optional"),8);var SC=pm(CC("SkipSelf"),4);function WO(t){return typeof t=="function"}var Bd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function AC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var co=(()=>{let t=()=>RC;return t.ngInherit=!0,t})();function RC(t){return t.type.prototype.ngOnChanges&&(t.setInput=QO),KO}function KO(){let t=MC(this),e=t?.current;if(e){let n=t.previous;if(n===Yr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function QO(t,e,n,r,i){let o=this.declaredInputs[r],s=MC(t)||YO(t,{previous:Yr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Bd(l&&l.currentValue,n,c===Yr),AC(t,e,i,n)}var NC="__ngSimpleChanges__";function MC(t){return t[NC]||null}function YO(t,e){return t[NC]=e}var Wb=[];var De=function(t,e=null,n){for(let r=0;r<Wb.length;r++){let i=Wb[r];i(t,e,n)}};function JO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=RC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function PC(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Fd(t,e,n){kC(t,e,3,n)}function Ld(t,e,n,r){(t[te]&3)===n&&kC(t,e,n,r)}function Zm(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function kC(t,e,n,r){let i=r!==void 0?t[Zi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Zi]+=65536),(a<o||o==-1)&&(ZO(t,n,e,c),t[Zi]=(t[Zi]&4294901760)+c+2),c++}function Kb(t,e){De(4,t,e);let n=ee(null);try{e.call(t)}finally{ee(n),De(5,t,e)}}function ZO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[te]>>14<t[Zi]>>16&&(t[te]&3)===e&&(t[te]+=16384,Kb(a,o)):Kb(a,o)}var vs=-1,ro=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function XO(t){return(t.flags&8)!==0}function e1(t){return(t.flags&16)!==0}function t1(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];n1(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function xC(t){return t===3||t===4||t===6}function n1(t){return t.charCodeAt(0)===64}function _s(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Qb(t,n,i,null,e[++r]):Qb(t,n,i,null,null))}}return t}function Qb(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function OC(t){return t!==vs}function $d(t){return t&32767}function r1(t){return t>>16}function Hd(t,e){let n=r1(t),r=e;for(;n>0;)r=r[Ji],n--;return r}var uy=!0;function zd(t){let e=uy;return uy=t,e}var i1=256,FC=i1-1,LC=5,o1=0,Fn={};function s1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qi)&&(r=n[Qi]),r==null&&(r=n[Qi]=o1++);let i=r&FC,o=1<<i;e.data[t+(i>>LC)]|=o}function qd(t,e){let n=VC(t,e);if(n!==-1)return n;let r=e[G];r.firstCreatePass&&(t.injectorIndex=e.length,Xm(r.data,t),Xm(e,null),Xm(r.blueprint,null));let i=Ky(t,e),o=t.injectorIndex;if(OC(i)){let s=$d(i),a=Hd(i,e),c=a[G].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Xm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ky(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=HC(i),r===null)return vs;if(n++,i=i[Ji],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vs}function ly(t,e,n){s1(t,e,n)}function a1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(xC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function jC(t,e,n){if(n&8||t!==void 0)return t;gd(e,"NodeInjector")}function UC(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Yi],o=St(void 0);try{return i?i.get(e,r,n&8):fm(e,r,n&8)}finally{St(o)}}return jC(r,e,n)}function BC(t,e,n,r=0,i){if(t!==null){if(e[te]&2048&&!(r&2)){let s=d1(t,e,n,r,Fn);if(s!==Fn)return s}let o=$C(t,e,n,r,Fn);if(o!==Fn)return o}return UC(e,n,r,i)}function $C(t,e,n,r,i){let o=u1(n);if(typeof o=="function"){if(!zm(e,t,r))return r&1?jC(i,n,r):UC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))gd(n);else return s}finally{qm()}}else if(typeof o=="number"){let s=null,a=VC(t,e),c=vs,l=r&1?e[Lt][Jt]:null;for((a===-1||r&4)&&(c=a===-1?Ky(t,e):e[a+8],c===vs||!Jb(r,!1)?a=-1:(s=e[G],a=$d(c),e=Hd(c,e)));a!==-1;){let h=e[G];if(Yb(o,a,h.data)){let p=c1(a,e,n,s,r,l);if(p!==Fn)return p}c=e[a+8],c!==vs&&Jb(r,e[G].data[a+8]===l)&&Yb(o,a,e)?(s=h,a=$d(c),e=Hd(c,e)):a=-1}}return i}function c1(t,e,n,r,i,o){let s=e[G],a=s.data[t+8],c=r==null?ei(a)&&uy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Vd(a,s,n,c,l);return h!==null?Cc(e,s,h,a,i):Fn}function Vd(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let w=s[y];if(y<c&&n===w||y>=c&&w.type===n)return y}if(i){let y=s[c];if(y&&kn(y)&&y.type===n)return c}return null}function Cc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof ro){let a=o;if(a.resolving){let y=ud(s[n]);throw hm(y)}let c=zd(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?St(a.injectImpl):null,g=zm(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&JO(n,s[n],e)}finally{p!==null&&St(p),zd(c),a.resolving=!1,qm()}}return o}function u1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Qi)?t[Qi]:void 0;return typeof e=="number"?e>=0?e&FC:l1:e}function Yb(t,e,n){let r=1<<t;return!!(n[e+(t>>LC)]&r)}function Jb(t,e){return!(t&2)&&!(t&1&&e)}var no=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return BC(this._tNode,this._lView,e,qi(r),n)}};function l1(){return new no(nt(),Y())}function ah(t){return Ts(()=>{let e=t.prototype.constructor,n=e[sc]||dy(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[sc]||dy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function dy(t){return rm(t)?()=>{let e=dy(ht(t));return e&&e()}:qr(t)}function d1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!ps(s);){let a=$C(o,s,n,r|2,Fn);if(a!==Fn)return a;let c=o.parent;if(!c){let l=s[Dm];if(l){let h=l.get(n,Fn,r);if(h!==Fn)return h}c=HC(s),s=s[Ji]}o=c}return i}function HC(t){let e=t[G],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function Pc(t){return a1(nt(),t)}function h1(){return Ds(nt(),Y())}function Ds(t,e){return new gn(dn(t,e))}var gn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=h1}return t})();function f1(t){return t instanceof gn?t.nativeElement:t}function p1(){return this._results[Symbol.iterator]()}var Gd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=ub(e);(this._changesDetected=!cb(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=p1};function zC(t){return(t.flags&128)===128}var Qy=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Qy||{}),qC=new Map,g1=0;function m1(){return g1++}function y1(t){qC.set(t[hc],t)}function hy(t){qC.delete(t[hc])}var Zb="__ngContext__";function Es(t,e){Pn(e)?(t[Zb]=e[hc],y1(e)):t[Zb]=e}function GC(t){return KC(t[fs])}function WC(t){return KC(t[Yt])}function KC(t){for(;t!==null&&!ln(t);)t=t[Yt];return t}var fy;function Yy(t){fy=t}function QC(){if(fy!==void 0)return fy;if(typeof document<"u")return document;throw new O(210,!1)}var ch=new U("",{providedIn:"root",factory:()=>v1}),v1="ng",uh=new U(""),oi=new U("",{providedIn:"platform",factory:()=>"unknown"});var _1=new U(""),lh=new U("",{providedIn:"root",factory:()=>QC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var E1="h",I1="b";var YC="r";var JC="di";var ZC=!1,XC=new U("",{providedIn:"root",factory:()=>ZC});var w1=(t,e,n,r)=>{};function T1(t,e,n,r){w1(t,e,n,r)}function Jy(t){return(t.flags&32)===32}var D1=()=>null;function eS(t,e,n=!1){return D1(t,e,n)}function tS(t,e){let n=t.contentQueries;if(n!==null){let r=ee(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Cd(o),a.contentQueries(2,e[s],s)}}}finally{ee(r)}}}function py(t,e,n){Cd(0);let r=ee(null);try{e(t,n)}finally{ee(r)}}function nS(t,e,n){if(Cm(e)){let r=ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{ee(r)}}}var fr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fr||{}),Pd;function b1(){if(Pd===void 0&&(Pd=null,Qt.trustedTypes))try{Pd=Qt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pd}function dh(t){return b1()?.createHTML(t)||t}var kd;function C1(){if(kd===void 0&&(kd=null,Qt.trustedTypes))try{kd=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kd}function Xb(t){return C1()?.createScriptURL(t)||t}var pr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dd})`}},gy=class extends pr{getTypeName(){return"HTML"}},my=class extends pr{getTypeName(){return"Style"}},yy=class extends pr{getTypeName(){return"Script"}},vy=class extends pr{getTypeName(){return"URL"}},_y=class extends pr{getTypeName(){return"ResourceURL"}};function mn(t){return t instanceof pr?t.changingThisBreaksApplicationSecurity:t}function gr(t,e){let n=rS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${dd})`)}return n===e}function rS(t){return t instanceof pr&&t.getTypeName()||null}function Zy(t){return new gy(t)}function Xy(t){return new my(t)}function ev(t){return new yy(t)}function tv(t){return new vy(t)}function nv(t){return new _y(t)}function S1(t){let e=new Iy(t);return A1()?new Ey(e):e}var Ey=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(dh(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Iy=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=dh(e),n}};function A1(){try{return!!new window.DOMParser().parseFromString(dh(""),"text/html")}catch{return!1}}var R1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kc(t){return t=String(t),t.match(R1)?t:"unsafe:"+t}function mr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function xc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var iS=mr("area,br,col,hr,img,wbr"),oS=mr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sS=mr("rp,rt"),N1=xc(sS,oS),M1=xc(oS,mr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),P1=xc(sS,mr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),eC=xc(iS,M1,P1,N1),aS=mr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),k1=mr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),x1=mr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),O1=xc(aS,k1,x1),F1=mr("script,style,template"),wy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=j1(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=V1(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=tC(e).toLowerCase();if(!eC.hasOwnProperty(n))return this.sanitizedSomething=!0,!F1.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!O1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;aS[a]&&(c=kc(c)),this.buf.push(" ",s,'="',nC(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=tC(e).toLowerCase();eC.hasOwnProperty(n)&&!iS.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(nC(e))}};function L1(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function V1(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw cS(e);return e}function j1(t){let e=t.firstChild;if(e&&L1(t,e))throw cS(e);return e}function tC(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function cS(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var U1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,B1=/([^\#-~ |!])/g;function nC(t){return t.replace(/&/g,"&amp;").replace(U1,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(B1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var xd;function rv(t,e){let n=null;try{xd=xd||S1(t);let r=e?String(e):"";n=xd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=xd.getInertBodyElement(r)}while(r!==o);let a=new wy().sanitizeChildren(rC(n)||n);return dh(a)}finally{if(n){let r=rC(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function rC(t){return"content"in t&&$1(t)?t.content:null}function $1(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var yn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yn||{});function uS(t){let e=dS();return e?e.sanitize(yn.URL,t)||"":gr(t,"URL")?mn(t):kc(Qr(t))}function lS(t){let e=dS();if(e)return Xb(e.sanitize(yn.RESOURCE_URL,t)||"");if(gr(t,"ResourceURL"))return Xb(mn(t));throw new O(904,!1)}function H1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?lS:uS}function iv(t,e,n){return H1(e,n)(t)}function dS(){let t=Y();return t&&t[Nn].sanitizer}function z1(t){return t.ownerDocument.defaultView}function q1(t){return t.ownerDocument}function hS(t){return t instanceof Function?t():t}function G1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var fS="ng-template";function W1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&G1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ov(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ov(t){return t.type===4&&t.value!==fS}function K1(t,e,n){let r=t.type===4&&!n?fS:t.value;return e===r}function Q1(t,e,n){let r=4,i=t.attrs,o=i!==null?Z1(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!hn(r)&&!hn(c))return!1;if(s&&hn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!K1(t,c,n)||c===""&&e.length===1){if(hn(r))return!1;s=!0}}else if(r&8){if(i===null||!W1(t,i,c,n)){if(hn(r))return!1;s=!0}}else{let l=e[++a],h=Y1(c,i,ov(t),n);if(h===-1){if(hn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(hn(r))return!1;s=!0}}}}return hn(r)||s}function hn(t){return(t&1)===0}function Y1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return X1(e,t)}function J1(t,e,n=!1){for(let r=0;r<e.length;r++)if(Q1(t,e[r],n))return!0;return!1}function Z1(t){for(let e=0;e<t.length;e++){let n=t[e];if(xC(n))return e}return t.length}function X1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function iC(t,e){return t?":not("+e.trim()+")":e}function eF(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!hn(s)&&(e+=iC(o,i),i=""),r=s,o=o||!hn(r);n++}return i!==""&&(e+=iC(o,i)),e}function tF(t){return t.map(eF).join(",")}function nF(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!hn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Et={};function rF(t,e){return t.createText(e)}function iF(t,e,n){t.setValue(e,n)}function pS(t,e,n){return t.createElement(e,n)}function Wd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function gS(t,e,n){t.appendChild(e,n)}function oC(t,e,n,r,i){r!==null?Wd(t,e,n,r,i):gS(t,e,n)}function mS(t,e,n){t.removeChild(null,e,n)}function oF(t,e,n){t.setAttribute(e,"style",n)}function sF(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function yS(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&t1(t,e,r),i!==null&&sF(t,e,i),o!==null&&oF(t,e,o)}function sv(t,e,n,r,i,o,s,a,c,l,h){let p=Fe+r,g=p+i,y=aF(p,g),w=typeof l=="function"?l():l;return y[G]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:h}}function aF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Et);return n}function cF(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=sv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function av(t,e,n,r,i,o,s,a,c,l,h){let p=e.blueprint.slice();return p[un]=i,p[te]=r|4|128|8|64|1024,(l!==null||t&&t[te]&2048)&&(p[te]|=2048),Rm(p),p[Je]=p[Ji]=t,p[Oe]=n,p[Nn]=s||t&&t[Nn],p[be]=a||t&&t[be],p[Yi]=c||t&&t[Yi]||null,p[Jt]=o,p[hc]=m1(),p[ds]=h,p[Dm]=l,p[Lt]=e.type==2?t[Lt]:p,p}function uF(t,e,n){let r=dn(e,t),i=cF(n),o=t[Nn].rendererFactory,s=cv(t,av(t,i,null,vS(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function vS(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function _S(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function cv(t,e){return t[fs]?t[Tm][Yt]=e:t[fs]=e,t[Tm]=e,e}function lF(t=1){ES(Re(),Y(),xn()+t,!1)}function ES(t,e,n,r){if(!r)if((e[te]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Fd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ld(e,o,0,n)}ti(n)}var hh=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hh||{});function Ty(t,e,n,r){let i=ee(null);try{let[o,s,a]=t.inputs[n],c=null;(s&hh.SignalBased)!==0&&(c=e[o][vt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):AC(e,c,o,r)}finally{ee(i)}}var pn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(pn||{}),dF;function uv(t,e){return dF(t,e)}function ys(t,e,n,r,i){if(r!=null){let o,s=!1;ln(r)?o=r:Pn(r)&&(s=!0,r=r[un]);let a=Zt(r);t===0&&n!==null?i==null?gS(e,n,a):Wd(e,n,a,i||null,!0):t===1&&n!==null?Wd(e,n,a,i||null,!0):t===2?mS(e,a,s):t===3&&e.destroyNode(a),o!=null&&TF(e,t,o,n,i)}}function hF(t,e){IS(t,e),e[un]=null,e[Jt]=null}function fF(t,e,n,r,i,o){r[un]=i,r[Jt]=e,ph(t,r,n,1,i,o)}function IS(t,e){e[Nn].changeDetectionScheduler?.notify(9),ph(t,e,e[be],2,null,null)}function pF(t){let e=t[fs];if(!e)return ey(t[G],t);for(;e;){let n=null;if(Pn(e))n=e[fs];else{let r=e[tt];r&&(n=r)}if(!n){for(;e&&!e[Yt]&&e!==t;)Pn(e)&&ey(e[G],e),e=e[Je];e===null&&(e=t),Pn(e)&&ey(e[G],e),n=e&&e[Yt]}e=n}}function lv(t,e){let n=t[Xi],r=n.indexOf(e);n.splice(r,1)}function fh(t,e){if(eo(e))return;let n=e[be];n.destroyNode&&ph(t,e,n,3,null,null),pF(e)}function ey(t,e){if(eo(e))return;let n=ee(null);try{e[te]&=-129,e[te]|=256,e[$t]&&rd(e[$t]),mF(t,e),gF(t,e),e[G].type===1&&e[be].destroy();let r=e[Zr];if(r!==null&&ln(e[Je])){r!==e[Je]&&lv(r,e);let i=e[Mn];i!==null&&i.detachView(t)}hy(e)}finally{ee(n)}}function gF(t,e){let n=t.cleanup,r=e[hs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[hs]=null);let i=e[ur];if(i!==null){e[ur]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[fc];if(o!==null){e[fc]=null;for(let s of o)s.destroy()}}function mF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ro)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];De(4,a,c);try{c.call(a)}finally{De(5,a,c)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function yF(t,e,n){return vF(t,e.parent,n)}function vF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[un];if(ei(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===fr.None||i===fr.Emulated)return null}return dn(r,n)}function _F(t,e,n){return IF(t,e,n)}function EF(t,e,n){return t.type&40?dn(t,n):null}var IF=EF,sC;function dv(t,e,n,r){let i=yF(t,r,e),o=e[be],s=r.parent||e[Jt],a=_F(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)oC(o,i,n[c],a,!1);else oC(o,i,n,a,!1);sC!==void 0&&sC(o,r,e,n,i)}function Dc(t,e){if(e!==null){let n=e.type;if(n&3)return dn(e,t);if(n&4)return Dy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Dc(t,r);{let i=t[e.index];return ln(i)?Dy(-1,i):Zt(i)}}else{if(n&128)return Dc(t,e.next);if(n&32)return uv(e,t)()||Zt(t[e.index]);{let r=wS(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gr(t[Lt]);return Dc(i,r)}else return Dc(t,e.next)}}}return null}function wS(t,e){if(e!==null){let r=t[Lt][Jt],i=e.projection;return r.projection[i]}return null}function Dy(t,e){let n=tt+t+1;if(n<e.length){let r=e[n],i=r[G].firstChild;if(i!==null)return Dc(r,i)}return e[Xr]}function hv(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Es(Zt(a),r),n.flags|=2),!Jy(n))if(c&8)hv(t,e,n.child,r,i,o,!1),ys(e,t,i,a,o);else if(c&32){let l=uv(n,r),h;for(;h=l();)ys(e,t,i,h,o);ys(e,t,i,a,o)}else c&16?wF(t,e,r,n,i,o):ys(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ph(t,e,n,r,i,o){hv(n,r,t.firstChild,e,i,o,!1)}function wF(t,e,n,r,i,o){let s=n[Lt],c=s[Jt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];ys(e,t,i,h,o)}else{let l=c,h=s[Je];zC(r)&&(l.flags|=128),hv(t,e,l,h,i,o,!0)}}function TF(t,e,n,r,i){let o=n[Xr],s=Zt(n);o!==s&&ys(e,t,r,o,i);for(let a=tt;a<n.length;a++){let c=n[a];ph(c[G],c,t,e,r,o)}}function DF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:pn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=pn.Important),t.setStyle(n,r,i,o))}}function TS(t,e,n,r,i){let o=xn(),s=r&2;try{ti(-1),s&&e.length>Fe&&ES(t,e,Fe,!1),De(s?2:0,i,n),n(r,i)}finally{ti(o),De(s?3:1,i,n)}}function fv(t,e,n){NF(t,e,n),(n.flags&64)===64&&MF(t,e,n)}function gh(t,e,n=dn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function bF(t,e,n,r){let o=r.get(XC,ZC)||n===fr.ShadowDom,s=t.selectRootElement(e,o);return CF(s),s}function CF(t){SF(t)}var SF=()=>null;function AF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function DS(t,e,n,r,i,o){let s=e[G];if(pv(t,s,e,n,r)){ei(t)&&RF(e,t.index);return}t.type&3&&(n=AF(n)),bS(t,e,n,r,i,o)}function bS(t,e,n,r,i,o){if(t.type&3){let s=dn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function RF(t,e){let n=Xt(e,t);n[te]&16||(n[te]|=64)}function NF(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ei(n)&&uF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||qd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Cc(e,t,s,n);if(Es(c,e),o!==null&&OF(e,s-r,c,a,n,o),kn(a)){let l=Xt(n.index,e);l[Oe]=Cc(e,t,s,n)}}}function MF(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Lb();try{ti(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];bd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&PF(c,l)}}finally{ti(-1),bd(s)}}function PF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function CS(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];J1(e,o.selectors,!1)&&(r??=[],kn(o)?r.unshift(o):r.push(o))}return r}function kF(t,e,n,r,i,o){let s=dn(t,e);xF(e[be],s,o,t.value,n,r,i)}function xF(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Qr(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function OF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Ty(r,n,c,l)}}function SS(t,e,n,r,i){let o=Fe+n,s=e[G],a=i(s,e,t,r,n);e[o]=a,gs(t,!0);let c=t.type===2;return c?(yS(e[be],a,t),(bb()===0||gc(t))&&Es(a,e),Cb()):Es(a,e),Rd()&&(!c||!Jy(t))&&dv(s,e,a,t),t}function AS(t){let e=t;return jm()?Mb():(e=e.parent,gs(e,!1)),e}function FF(t,e){let n=t[Yi];if(!n)return;n.get(Rt,null)?.(e)}function pv(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],h=s[c+1],p=e.data[l];Ty(p,n[l],h,i),a=!0}if(o)for(let c of o){let l=n[c],h=e.data[c];Ty(h,l,r,i),a=!0}return a}function LF(t,e){let n=Xt(e,t),r=n[G];VF(r,n);let i=n[un];i!==null&&n[ds]===null&&(n[ds]=eS(i,n[Yi])),De(18),gv(r,n,n[Oe]),De(19,n[Oe])}function VF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function gv(t,e,n){Sd(e);try{let r=t.viewQuery;r!==null&&py(1,r,n);let i=t.template;i!==null&&TS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Mn]?.finishViewCreation(t),t.staticContentQueries&&tS(t,e),t.staticViewQueries&&py(2,t.viewQuery,n);let o=t.components;o!==null&&jF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,Ad()}}function jF(t,e){for(let n=0;n<e.length;n++)LF(t,e[n])}function mh(t,e,n,r){let i=ee(null);try{let o=e.tView,a=t[te]&4096?4096:16,c=av(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Zr]=l;let h=t[Mn];return h!==null&&(c[Mn]=h.createEmbeddedView(o)),gv(o,c,n),c}finally{ee(i)}}function Sc(t,e){return!e||e.firstChild===null||zC(t)}var aC=!1,UF=new U("");function Ac(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Zt(o)),ln(o)&&RS(o,r);let s=n.type;if(s&8)Ac(t,e,n.child,r);else if(s&32){let a=uv(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=wS(e,n);if(Array.isArray(a))r.push(...a);else{let c=Gr(e[Lt]);Ac(c[G],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function RS(t,e){for(let n=tt;n<t.length;n++){let r=t[n],i=r[G].firstChild;i!==null&&Ac(r[G],r,i,e)}t[Xr]!==t[un]&&e.push(t[Xr])}function NS(t){if(t[Ed]!==null){for(let e of t[Ed])e.impl.addSequence(e);t[Ed].length=0}}var MS=[];function BF(t){return t[$t]??$F(t)}function $F(t){let e=MS.pop()??Object.create(zF);return e.lView=t,e}function HF(t){t.lView[$t]!==t&&(t.lView=null,MS.push(t))}var zF=ye(V({},$i),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{vc(t.lView)},consumerOnSignalRead(){this.lView[$t]=this}});function qF(t){let e=t[$t]??Object.create(GF);return e.lView=t,e}var GF=ye(V({},$i),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Gr(t.lView);for(;e&&!PS(e[G]);)e=Gr(e);e&&Nm(e)},consumerOnSignalRead(){this.lView[$t]=this}});function PS(t){return t.type!==2}function kS(t){if(t[fc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[fc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[te]&8192)}}var WF=100;function mv(t,e=0){let r=t[Nn].rendererFactory,i=!1;i||r.begin?.();try{KF(t,e)}finally{i||r.end?.()}}function KF(t,e){let n=Bm();try{$m(!0),by(t,e);let r=0;for(;yc(t);){if(r===WF)throw new O(103,!1);r++,by(t,1)}}finally{$m(n)}}function xS(t,e){Um(e?_c.Exhaustive:_c.OnlyDirtyViews);try{mv(t)}finally{Um(_c.Off)}}function QF(t,e,n,r){if(eo(e))return;let i=e[te],o=!1,s=!1;Sd(e);let a=!0,c=null,l=null;o||(PS(t)?(l=BF(e),c=Hi(l)):td()===null?(a=!1,l=qF(e),c=Hi(l)):e[$t]&&(rd(e[$t]),e[$t]=null));try{Rm(e),xb(t.bindingStartIndex),n!==null&&TS(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Fd(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Ld(e,y,0,null),Zm(e,0)}if(s||YF(e),kS(e),OS(e,0),t.contentQueries!==null&&tS(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Fd(e,y)}else{let y=t.contentHooks;y!==null&&Ld(e,y,1),Zm(e,1)}ZF(t,e);let p=t.components;p!==null&&LS(e,p,0);let g=t.viewQuery;if(g!==null&&py(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Fd(e,y)}else{let y=t.viewHooks;y!==null&&Ld(e,y,2),Zm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[_d]){for(let y of e[_d])y();e[_d]=null}o||(NS(e),e[te]&=-73)}catch(h){throw o||vc(e),h}finally{l!==null&&(ss(l,c),a&&HF(l)),Ad()}}function OS(t,e){for(let n=GC(t);n!==null;n=WC(n))for(let r=tt;r<n.length;r++){let i=n[r];FS(i,e)}}function YF(t){for(let e=GC(t);e!==null;e=WC(e)){if(!(e[te]&2))continue;let n=e[Xi];for(let r=0;r<n.length;r++){let i=n[r];Nm(i)}}}function JF(t,e,n){De(18);let r=Xt(e,t);FS(r,n),De(19,r[Oe])}function FS(t,e){wd(t)&&by(t,e)}function by(t,e){let r=t[G],i=t[te],o=t[$t],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&rc(o)),s||=!1,o&&(o.dirty=!1),t[te]&=-9217,s)QF(r,t,r.template,t[Oe]);else if(i&8192){let a=ee(null);try{kS(t),OS(t,1);let c=r.components;c!==null&&LS(t,c,1),NS(t)}finally{ee(a)}}}function LS(t,e,n){for(let r=0;r<e.length;r++)JF(t,e[r],n)}function ZF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ti(~i);else{let o=i,s=n[++r],a=n[++r];Fb(s,o);let c=e[o];De(24,c),a(2,c),De(25,c)}}}finally{ti(-1)}}function yv(t,e){let n=Bm()?64:1088;for(t[Nn].changeDetectionScheduler?.notify(e);t;){t[te]|=n;let r=Gr(t);if(ps(t)&&!r)return t;t=r}return null}function VS(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function jS(t,e){let n=tt+e;if(n<t.length)return t[n]}function yh(t,e,n,r=!0){let i=e[G];if(XF(i,e,t,n),r){let s=Dy(n,t),a=e[be],c=a.parentNode(t[Xr]);c!==null&&fF(i,t[Jt],a,e,c,s)}let o=e[ds];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function US(t,e){let n=Rc(t,e);return n!==void 0&&fh(n[G],n),n}function Rc(t,e){if(t.length<=tt)return;let n=tt+e,r=t[n];if(r){let i=r[Zr];i!==null&&i!==t&&lv(i,r),e>0&&(t[n-1][Yt]=r[Yt]);let o=uc(t,tt+e);hF(r[G],r);let s=o[Mn];s!==null&&s.detachView(o[G]),r[Je]=null,r[Yt]=null,r[te]&=-129}return r}function XF(t,e,n,r){let i=tt+r,o=n.length;r>0&&(n[i-1][Yt]=e),r<o-tt?(e[Yt]=n[i],gm(n,tt+r,e)):(n.push(e),e[Yt]=null),e[Je]=n;let s=e[Zr];s!==null&&n!==s&&BS(s,e);let a=e[Mn];a!==null&&a.insertView(t),Td(e),e[te]|=128}function BS(t,e){let n=t[Xi],r=e[Je];if(Pn(r))t[te]|=2;else{let i=r[Je][Lt];e[Lt]!==i&&(t[te]|=2)}n===null?t[Xi]=[e]:n.push(e)}var ii=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[G];return Ac(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Oe]}set context(e){this._lView[Oe]=e}get destroyed(){return eo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Je];if(ln(e)){let n=e[pc],r=n?n.indexOf(this):-1;r>-1&&(Rc(e,r),uc(n,r))}this._attachedToViewContainer=!1}fh(this._lView[G],this._lView)}onDestroy(e){Mm(this._lView,e)}markForCheck(){yv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){Td(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,mv(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Yi].get(UF,aC)}catch{this.exhaustive=aC}}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ps(this._lView),n=this._lView[Zr];n!==null&&!e&&lv(n,this._lView),IS(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e;let n=ps(this._lView),r=this._lView[Zr];r!==null&&!n&&BS(r,this._lView),Td(this._lView)}};var io=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=eL;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=mh(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new ii(o)}}return t})();function eL(){return vv(nt(),Y())}function vv(t,e){return t.type&4?new io(e,t,Ds(t,e)):null}function Oc(t,e,n,r,i){let o=t.data[e];if(o===null)o=tL(t,e,n,r,i),Ob()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Nb();o.injectorIndex=s===null?-1:s.injectorIndex}return gs(o,!0),o}function tL(t,e,n,r,i){let o=Vm(),s=jm(),a=s?o:o&&o.parent,c=t.data[e]=rL(t,a,n,e,r,i);return nL(t,c,o,s),c}function nL(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function rL(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Sb()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var jQ=new RegExp(`^(\\d+)*(${I1}|${E1})*(.*)`);function iL(t){let e=t[bm]??[],r=t[Je][be],i=[];for(let o of e)o.data[JC]!==void 0?i.push(o):oL(o,r);t[bm]=i}function oL(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[YC];for(;n<i;){let o=r.nextSibling;mS(e,r,!1),r=o,n++}}}var sL=()=>null,aL=()=>null;function Cy(t,e){return sL(t,e)}function $S(t,e,n){return aL(t,e,n)}var HS=class{},vh=class{},Sy=class{resolveComponentFactory(e){throw new O(917,!1)}},Fc=class{static NULL=new Sy},oo=class{},uo=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>cL()}return t})();function cL(){let t=Y(),e=nt(),n=Xt(e.index,t);return(Pn(n)?n:t)[be]}var zS=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>null})}return t})();var jd={},Ay=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,jd,r);return i!==jd||n===jd?i:this.parentInjector.get(e,n,r)}};function Kd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=hd(i,a);else if(o==2){let c=a,l=e[++s];r=hd(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ie(t,e=0){let n=Y();if(n===null)return q(t,e);let r=nt();return BC(r,n,ht(t),e)}function qS(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,c,l]=h.resolveHostDirectives(s);break}dL(t,e,n,a,o,c,l)}o!==null&&r!==null&&uL(n,r,o)}function uL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new O(-301,!1);r.push(e[i],o)}}function lL(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function dL(t,e,n,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let y=r[g];!c&&kn(y)&&(c=!0,lL(t,n,g)),ly(qd(n,e),t,y.type)}yL(n,t.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=_S(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(n.mergedAttrs=_s(n.mergedAttrs,y.hostAttrs),fL(t,n,e,p,y),mL(p,y,i),s!==null&&s.has(y)){let[N,S]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,S+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let w=y.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}hL(t,n,o)}function hL(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))cC(0,e,i,r),cC(1,e,i,r),lC(e,r,!1);else{let o=n.get(i);uC(0,e,o,r),uC(1,e,o,r),lC(e,r,!0)}}}function cC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),GS(e,o)}}function uC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),GS(e,s)}}function GS(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function lC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||ov(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let h of l)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function fL(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=qr(i.type,!0)),s=new ro(o,kn(i),Ie,null);t.blueprint[r]=s,n[r]=s,pL(t,e,r,_S(t,n,i.hostVars,Et),i)}function pL(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;gL(s)!=a&&s.push(a),s.push(n,r,o)}}function gL(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function mL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kn(e)&&(n[""]=t)}}function yL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WS(t,e,n,r,i,o,s,a){let c=e[G],l=c.consts,h=en(l,s),p=Oc(c,t,n,r,h);return o&&qS(c,e,p,en(l,a),i),p.mergedAttrs=_s(p.mergedAttrs,p.attrs),p.attrs!==null&&Kd(p,p.attrs,!1),p.mergedAttrs!==null&&Kd(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function KS(t,e){PC(t,e),Cm(e)&&t.queries.elementEnd(e)}function vL(t,e,n,r,i,o){let s=e.consts,a=en(s,i),c=Oc(e,t,n,r,a);if(c.mergedAttrs=_s(c.mergedAttrs,c.attrs),o!=null){let l=en(s,o);c.localNames=[];for(let h=0;h<l.length;h+=2)c.localNames.push(l[h],-1)}return c.attrs!==null&&Kd(c,c.attrs,!1),c.mergedAttrs!==null&&Kd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function _v(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ev(t,e,n){return t[e]=n}function _L(t,e){return t[e]}function Ht(t,e,n){if(n===Et)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function QS(t,e,n,r){let i=Ht(t,e,n);return Ht(t,e+1,r)||i}function Ud(t,e,n){return function r(i){let o=ei(t)?Xt(t.index,e):e;yv(o,5);let s=e[Oe],a=dC(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=dC(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function dC(t,e,n,r){let i=ee(null);try{return De(6,e,n),n(r)!==!1}catch(o){return FF(t,o),!1}finally{De(7,e,n),ee(i)}}function YS(t,e,n,r,i,o,s,a){let c=gc(t),l=!1,h=null;if(!r&&c&&(h=EL(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=dn(t,n),g=r?r(p):p;T1(n,g,o,a);let y=i.listen(g,o,a),w=r?N=>r(Zt(N[t.index])):t.index;JS(w,e,n,o,a,y,!1)}return l}function EL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[hs],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function JS(t,e,n,r,i,o,s){let a=e.firstCreatePass?km(e):null,c=Pm(n),l=c.length;c.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function hC(t,e,n,r,i,o){let s=e[n],a=e[G],l=a.data[n].outputs[r],p=s[l].subscribe(o);JS(t.index,a,e,i,o,p,!0)}var Ry=Symbol("BINDING");var Qd=class extends Fc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Jr(e);return new Is(n,this.ngModule)}};function IL(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&hh.SignalBased)!==0};return i&&(o.transform=i),o})}function wL(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function TL(t,e,n){let r=e instanceof xe?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ay(n,r):n}function DL(t){let e=t.get(oo,null);if(e===null)throw new O(407,!1);let n=t.get(zS,null),r=t.get(Wr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function bL(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return pS(e,n,n==="svg"?vb:n==="math"?_b:null)}var Is=class extends vh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=IL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=wL(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=tF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){De(22);let a=ee(null);try{let c=this.componentDef,l=CL(r,c,s,o),h=TL(c,i||this.ngModule,e),p=DL(h),g=p.rendererFactory.createRenderer(null,c),y=r?bF(g,r,c.encapsulation,h):bL(c,g),w=s?.some(fC)||o?.some(M=>typeof M!="function"&&M.bindings.some(fC)),N=av(null,l,null,512|vS(c),null,null,p,g,h,null,eS(y,h,!0));N[Fe]=y,Sd(N);let S=null;try{let M=WS(Fe,N,2,"#host",()=>l.directiveRegistry,!0,0);y&&(yS(g,y,M),Es(y,N)),fv(l,N,M),nS(l,M,N),KS(l,M),n!==void 0&&AL(M,this.ngContentSelectors,n),S=Xt(M.index,N),N[Oe]=S[Oe],gv(l,N,null)}catch(M){throw S!==null&&hy(S),hy(N),M}finally{De(23),Ad()}return new Yd(this.componentType,N,!!w)}finally{ee(a)}}};function CL(t,e,n,r){let i=t?["ng-version","20.1.4"]:nF(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[Ry].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[Ry].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let c=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=_m(p);c.push(g)}return sv(0,null,SL(o,s),1,a,c,null,null,null,[i],null)}function SL(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function fC(t){let e=t[Ry].kind;return e==="input"||e==="twoWay"}var Yd=class extends HS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=mc(n[G],Fe),this.location=Ds(this._tNode,n),this.instance=Xt(this._tNode.index,n)[Oe],this.hostView=this.changeDetectorRef=new ii(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=pv(r,i[G],i,e,n);this.previousInputValues.set(e,n);let s=Xt(r.index,i);yv(s,1)}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function AL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var si=(()=>{class t{static __NG_ELEMENT_ID__=RL}return t})();function RL(){let t=nt();return XS(t,Y())}var NL=si,ZS=class extends NL{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ds(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ky(this._hostTNode,this._hostLView);if(OC(e)){let n=Hd(e,this._hostLView),r=$d(e),i=n[G].data[r+8];return new no(i,n)}else return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=pC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Cy(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Sc(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!WO(e),l;if(c)l=n;else{let S=n||{};l=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef,s=S.directives,a=S.bindings}let h=c?e:new Is(Jr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let M=(c?p:this.parentInjector).get(xe,null);M&&(o=M)}let g=Jr(h.componentType??{}),y=Cy(this._lContainer,g?.id??null),w=y?.firstChild??null,N=h.create(p,i,w,o,s,a);return this.insertImpl(N.hostView,l,Sc(this._hostTNode,y)),N}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Ib(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Je],l=new ZS(c,c[Jt],c[Je]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return yh(s,i,o,r),e.attachToViewContainerRef(),gm(ty(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=pC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Rc(this._lContainer,n);r&&(uc(ty(this._lContainer),n),fh(r[G],r))}detach(e){let n=this._adjustIndex(e,-1),r=Rc(this._lContainer,n);return r&&uc(ty(this._lContainer),n)!=null?new ii(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function pC(t){return t[pc]}function ty(t){return t[pc]||(t[pc]=[])}function XS(t,e){let n,r=e[t.index];return ln(r)?n=r:(n=VS(r,e,null,t),e[t.index]=n,cv(e,n)),PL(n,e,t,r),new ZS(n,t,e)}function ML(t,e){let n=t[be],r=n.createComment(""),i=dn(e,t),o=n.parentNode(i);return Wd(n,o,r,n.nextSibling(i),!1),r}var PL=OL,kL=()=>!1;function xL(t,e,n){return kL(t,e,n)}function OL(t,e,n,r){if(t[Xr])return;let i;n.type&8?i=Zt(r):i=ML(e,n),t[Xr]=i}var Ny=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},My=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Iv(e,n).matches!==null&&this.queries[n].setDirty()}},Jd=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=HL(e):this.predicate=e}},Py=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ky=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,FL(n,o)),this.matchTNodeWithReadOption(e,n,Vd(n,e,o,!1,!1))}else r===io?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Vd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gn||i===si||i===io&&n.type&4)this.addMatch(n.index,-2);else{let o=Vd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function FL(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function LL(t,e){return t.type&11?Ds(t,e):t.type&4?vv(t,e):null}function VL(t,e,n,r){return n===-1?LL(e,t):n===-2?jL(t,e,r):Cc(t,t[G],n,e)}function jL(t,e,n){if(n===gn)return Ds(e,t);if(n===io)return vv(e,t);if(n===si)return XS(e,t)}function eA(t,e,n,r){let i=e[Mn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(VL(e,h,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function xy(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=eA(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let p=tt;p<h.length;p++){let g=h[p];g[Zr]===g[Je]&&xy(g[G],g,l,r)}if(h[Xi]!==null){let p=h[Xi];for(let g=0;g<p.length;g++){let y=p[g];xy(y[G],y,l,r)}}}}}return r}function UL(t,e){return t[Mn].queries[e].queryList}function tA(t,e,n){let r=new Gd((n&4)===4);return Db(t,e,r,r.destroy),(e[Mn]??=new My).queries.push(new Ny(r))-1}function BL(t,e,n){let r=Re();return r.firstCreatePass&&(nA(r,new Jd(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),tA(r,Y(),e)}function $L(t,e,n,r){let i=Re();if(i.firstCreatePass){let o=nt();nA(i,new Jd(e,n,r),o.index),zL(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return tA(i,Y(),n)}function HL(t){return t.split(",").map(e=>e.trim())}function nA(t,e,n){t.queries===null&&(t.queries=new Py),t.queries.track(new ky(e,n))}function zL(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Iv(t,e){return t.queries.getByIndex(e)}function qL(t,e){let n=t[G],r=Iv(n,e);return r.crossesNgTemplate?xy(n,t,e,[]):eA(n,t,r,e)}var gC=new Set;function ai(t){gC.has(t)||(gC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var so=class{},_h=class{};var Zd=class extends so{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Qd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=vm(e);this._bootstrapComponents=hS(o.bootstrap),this._r3Injector=Gm(e,n,[{provide:so,useValue:this},{provide:Fc,useValue:this.componentFactoryResolver},...r],lr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xd=class extends _h{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zd(this.moduleType,e,[])}};var Nc=class extends so{injector;componentFactoryResolver=new Qd(this);instance=null;constructor(e){super();let n=new Wi([...e.providers,{provide:so,useValue:this},{provide:Fc,useValue:this.componentFactoryResolver}],e.parent||dc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Lc(t,e,n=null){return new Nc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var GL=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Em(!1,n.type),i=r.length>0?Lc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(q(xe))})}return t})();function wv(t){return Ts(()=>{let e=rA(t),n=ye(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Qy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(GL).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fr.Emulated,styles:t.styles||At,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&ai("NgStandalone"),iA(n);let r=t.dependencies;return n.directiveDefs=mC(r,WL),n.pipeDefs=mC(r,db),n.id=YL(n),n})}function WL(t){return Jr(t)||_m(t)}function lo(t){return Ts(()=>({type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function KL(t,e){if(t==null)return Yr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=hh.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function QL(t){if(t==null)return Yr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ln(t){return Ts(()=>{let e=rA(t);return iA(e),e})}function bs(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function rA(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Yr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:KL(t.inputs,e),outputs:QL(t.outputs),debugInfo:null}}function iA(t){t.features?.forEach(e=>e(t))}function mC(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function YL(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function JL(t){return Object.getPrototypeOf(t.prototype).constructor}function oA(t){let e=JL(t.type),n=!0,r=[t];for(;e;){let i;if(kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ny(t.inputs),s.declaredInputs=ny(t.declaredInputs),s.outputs=ny(t.outputs);let a=i.hostBindings;a&&nV(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&eV(t,c),l&&tV(t,l),ZL(t,i),rb(t.outputs,i.outputs),kn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===oA&&(n=!1)}}e=Object.getPrototypeOf(e)}XL(r)}function ZL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function XL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_s(i.hostAttrs,n=_s(n,i.hostAttrs))}}function ny(t){return t===Yr?{}:t===At?[]:t}function eV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function tV(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function nV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function sA(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=_s(t.mergedAttrs,t.attrs);let h=t.tView=sv(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),gs(t,!1);let c=iV(n,e,t,r);Rd()&&dv(n,e,c,t),Es(c,e);let l=VS(c,e,c,t);e[r+Fe]=l,cv(e,l),xL(l,t,e)}function rV(t,e,n,r,i,o,s,a,c,l,h){let p=n+Fe,g;return e.firstCreatePass?(g=Oc(e,p,4,s||null,a||null),Om()&&qS(e,t,g,en(e.consts,l),CS),PC(e,g)):g=e.data[p],sA(g,t,e,n,r,i,o,c),gc(g)&&fv(e,t,g),l!=null&&gh(t,g,h),g}function eh(t,e,n,r,i,o,s,a,c,l,h){let p=n+Fe,g;if(e.firstCreatePass){if(g=Oc(e,p,4,s||null,a||null),l!=null){let y=en(e.consts,l);g.localNames=[];for(let w=0;w<y.length;w+=2)g.localNames.push(y[w],-1)}}else g=e.data[p];return sA(g,t,e,n,r,i,o,c),l!=null&&gh(t,g,h),g}function aA(t,e,n,r,i,o,s,a){let c=Y(),l=Re(),h=en(l.consts,o);return rV(c,l,t,e,n,r,i,h,void 0,s,a),aA}var iV=oV;function oV(t,e,n,r){return Nd(!0),e[be].createComment("")}var Tv=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Tv||{}),Vc=new U(""),cA=!1,Oy=class extends Ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,mb()&&(this.destroyRef=P(ni,{optional:!0})??void 0,this.pendingTasks=P(On,{optional:!0})??void 0)}emit(e){let n=ee(null);try{super.next(e)}finally{ee(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},_t=Oy;function uA(t){let e,n;function r(){t=Tc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function yC(t){return queueMicrotask(()=>t()),()=>{t=Tc}}var Dv="isAngularZone",th=Dv+"_ID",sV=0,ge=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _t(!1);onMicrotaskEmpty=new _t(!1);onStable=new _t(!1);onError=new _t(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=cA}=e;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,uV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Dv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,aV,Tc,Tc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},aV={};function bv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cV(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){uA(()=>{t.callbackScheduled=!1,Fy(t),t.isCheckStableRunning=!0,bv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Fy(t)}function uV(t){let e=()=>{cV(t)},n=sV++;t._inner=t._inner.fork({name:"angular",properties:{[Dv]:!0,[th]:n,[th+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(lV(c))return r.invokeTask(o,s,a,c);try{return vC(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),_C(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return vC(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!dV(c)&&e(),_C(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Fy(t),bv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Fy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function vC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _C(t){t._nesting--,bv(t)}var nh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _t;onMicrotaskEmpty=new _t;onStable=new _t;onError=new _t;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function lV(t){return lA(t,"__ignore_ng_zone__")}function dV(t){return lA(t,"__scheduler_tick__")}function lA(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var dA=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();var Eh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Cv=new U("");function ho(t){return!!t&&typeof t.then=="function"}function Ih(t){return!!t&&typeof t.subscribe=="function"}var hA=new U("");var Sv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P(hA,{optional:!0})??[];injector=P(Ze);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ue(this.injector,i);if(ho(o))n.push(o);else if(Ih(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wh=new U("");function fA(){$g(()=>{let t="";throw new O(600,t)})}function pA(t){return t.isBoundToModule}var hV=10;var ci=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Rt);afterRenderManager=P(dA);zonelessEnabled=P(ms);rootEffectScheduler=P(Jm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(On);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(n=>!n))}constructor(){P(Vc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ze.NULL){return this._injector.get(ge).run(()=>{De(10);let s=n instanceof vh;if(!this._injector.get(Sv).done){let w="";throw new O(405,w)}let c;s?c=n:c=this._injector.get(Fc).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=pA(c)?void 0:this._injector.get(so),h=r||c.selector,p=c.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(Cv,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),bc(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),De(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Tv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new O(101,!1);let n=ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(n),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(oo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<hV;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!yc(i))continue;let o=r&&!this.zonelessEnabled?0:1;mv(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>yc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;bc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(wh,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new O(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Th(t,e,n,r){let i=Y(),o=hr();if(Ht(i,o,e)){let s=Re(),a=Ic();kF(a,i,t,e,n,r)}return Th}function fV(){return Y()[Lt][Oe]}var Ly=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function ry(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function pV(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=t.at(o),h=e[o],p=ry(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),y=e[c],w=ry(s,g,c,y,n);if(w!==0){w<0&&t.updateValue(s,y),s--,c--;continue}let N=n(o,l),S=n(s,g),M=n(o,h);if(Object.is(M,S)){let L=n(c,y);Object.is(L,N)?(t.swap(o,s),t.updateValue(s,y),c--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new rh,i??=IC(t,o,s,n),Vy(t,r,o,M))t.updateValue(o,h),o++,s++;else if(i.has(M))r.set(N,t.detach(o)),s--;else{let L=t.create(o,e[o]);t.attach(o,L),o++,s++}}for(;o<=c;)EC(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=ry(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=c.next();else{r??=new rh,i??=IC(t,o,s,n);let y=n(o,p);if(Vy(t,r,o,y))t.updateValue(o,p),o++,s++,l=c.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=c.next();else{let w=n(o,h);r.set(w,t.detach(o)),s--}}}for(;!l.done;)EC(t,r,n,t.length,l.value),l=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function Vy(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function EC(t,e,n,r,i){if(Vy(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function IC(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var rh=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function gV(t,e,n,r,i,o,s,a){ai("NgControlFlow");let c=Y(),l=Re(),h=en(l.consts,o);return eh(c,l,t,e,n,r,i,h,256,s,a),Av}function Av(t,e,n,r,i,o,s,a){ai("NgControlFlow");let c=Y(),l=Re(),h=en(l.consts,o);return eh(c,l,t,e,n,r,i,h,512,s,a),Av}function mV(t,e){ai("NgControlFlow");let n=Y(),r=hr(),i=n[r]!==Et?n[r]:-1,o=i!==-1?ih(n,Fe+i):void 0,s=0;if(Ht(n,r,t)){let a=ee(null);try{if(o!==void 0&&US(o,s),t!==-1){let c=Fe+t,l=ih(n,c),h=$y(n[G],c),p=$S(l,h,n),g=mh(n,h,e,{dehydratedView:p});yh(l,g,s,Sc(h,p))}}finally{ee(a)}}else if(o!==void 0){let a=jS(o,s);a!==void 0&&(a[Oe]=e)}}var jy=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-tt}};function yV(t,e){return e}var Uy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function vV(t,e,n,r,i,o,s,a,c,l,h,p,g){ai("NgControlFlow");let y=Y(),w=Re(),N=c!==void 0,S=Y(),M=a?s.bind(S[Lt][Oe]):s,L=new Uy(N,M);S[Fe+t]=L,eh(y,w,t+1,e,n,r,i,en(w.consts,o),256),N&&eh(y,w,t+2,c,l,h,p,en(w.consts,g),512)}var By=class extends Ly{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-tt}at(e){return this.getLView(e)[Oe].$implicit}attach(e,n){let r=n[ds];this.needsIndexUpdate||=e!==this.length,yh(this.lContainer,n,e,Sc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,EV(this.lContainer,e)}create(e,n){let r=Cy(this.lContainer,this.templateTNode.tView.ssrId),i=mh(this.hostLView,this.templateTNode,new jy(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){fh(e[G],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Oe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Oe].$index=e}getLView(e){return IV(this.lContainer,e)}};function _V(t){let e=ee(null),n=xn();try{let r=Y(),i=r[G],o=r[n],s=n+1,a=ih(r,s);if(o.liveCollection===void 0){let l=$y(i,s);o.liveCollection=new By(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(pV(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=hr(),h=c.length===0;if(Ht(r,l,h)){let p=n+2,g=ih(r,p);if(h){let y=$y(i,p),w=$S(g,y,r),N=mh(r,y,void 0,{dehydratedView:w});yh(g,N,0,Sc(y,w))}else i.firstUpdatePass&&iL(g),US(g,0)}}}finally{ee(e)}}function ih(t,e){return t[e]}function EV(t,e){return Rc(t,e)}function IV(t,e){return jS(t,e)}function $y(t,e){return mc(t,e)}function gA(t,e,n){let r=Y(),i=hr();if(Ht(r,i,e)){let o=Re(),s=Ic();DS(s,r,t,e,r[be],n)}return gA}function Hy(t,e,n,r,i){pv(e,t,n,i?"class":"style",r)}function Rv(t,e,n,r){let i=Y(),o=i[G],s=t+Fe,a=o.firstCreatePass?WS(s,i,2,e,CS,Om(),n,r):o.data[s];if(SS(a,i,t,e,yA),gc(a)){let c=i[G];fv(c,i,a),nS(c,a,i)}return r!=null&&gh(i,a),Rv}function Nv(){let t=Re(),e=nt(),n=AS(e);return t.firstCreatePass&&KS(t,n),Fm(n)&&Lm(),xm(),n.classesWithoutHost!=null&&XO(n)&&Hy(t,n,Y(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&e1(n)&&Hy(t,n,Y(),n.stylesWithoutHost,!1),Nv}function Dh(t,e,n,r){return Rv(t,e,n,r),Nv(),Dh}function Mv(t,e,n,r){let i=Y(),o=i[G],s=t+Fe,a=o.firstCreatePass?vL(s,o,2,e,n,r):o.data[s];return SS(a,i,t,e,yA),r!=null&&gh(i,a),Mv}function Pv(){let t=nt(),e=AS(t);return Fm(e)&&Lm(),xm(),Pv}function mA(t,e,n,r){return Mv(t,e,n,r),Pv(),mA}var yA=(t,e,n,r,i)=>(Nd(!0),pS(e[be],r,Hb()));function wV(){return Y()}function vA(t,e,n){let r=Y(),i=hr();if(Ht(r,i,e)){let o=Re(),s=Ic();bS(s,r,t,e,r[be],n)}return vA}var to=void 0;function TV(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var DV=["en",[["a","p"],["AM","PM"],to],[["AM","PM"],to,to],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],to,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],to,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",to,"{1} 'at' {0}",to],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",TV],iy={};function Vt(t){let e=bV(t),n=wC(e);if(n)return n;let r=e.split("-")[0];if(n=wC(r),n)return n;if(r==="en")return DV;throw new O(701,!1)}function wC(t){return t in iy||(iy[t]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[t]),iy[t]}var Le=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Le||{});function bV(t){return t.toLowerCase().replace(/_/g,"-")}var jc="en-US";var CV=jc;function _A(t){typeof t=="string"&&(CV=t.toLowerCase().replace(/_/g,"-"))}function bh(t,e,n){let r=Y(),i=Re(),o=nt();return IA(i,r,r[be],o,t,e,n),bh}function EA(t,e,n){let r=Y(),i=Re(),o=nt();return(o.type&3||n)&&YS(o,i,r,n,r[be],t,e,Ud(o,r,e)),EA}function IA(t,e,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Ud(r,e,o),YS(r,t,e,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];c??=Ud(r,e,o),hC(r,e,g,y,i,c)}if(l&&l.length)for(let p of l)c??=Ud(r,e,o),hC(r,e,p,i,i,c)}}function SV(t=1){return $b(t)}function kv(t,e,n,r){$L(t,e,n,r)}function AV(t,e,n){BL(t,e,n)}function xv(t){let e=Y(),n=Re(),r=Hm();Cd(r+1);let i=Iv(n,r);if(t.dirty&&Eb(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=qL(e,r);t.reset(o,f1),t.notifyOnChanges()}return!0}return!1}function Ov(){return UL(Y(),Hm())}function RV(t){let e=Pb();return Id(e,Fe+t)}function Od(t,e){return t<<17|e<<2}function ao(t){return t>>17&32767}function NV(t){return(t&2)==2}function MV(t,e){return t&131071|e<<17}function zy(t){return t|2}function ws(t){return(t&131068)>>2}function oy(t,e){return t&-131069|e<<2}function PV(t){return(t&1)===1}function qy(t){return t|1}function kV(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ao(s),c=ws(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ls(p,h)>0)&&(l=!0)}else h=n;if(i)if(c!==0){let g=ao(t[a+1]);t[r+1]=Od(g,a),g!==0&&(t[g+1]=oy(t[g+1],r)),t[a+1]=MV(t[a+1],r)}else t[r+1]=Od(a,0),a!==0&&(t[a+1]=oy(t[a+1],r)),a=r;else t[r+1]=Od(c,0),a===0?a=r:t[c+1]=oy(t[c+1],r),c=r;l&&(t[r+1]=zy(t[r+1])),TC(t,h,r,!0),TC(t,h,r,!1),xV(e,h,t,r,o),s=Od(a,c),o?e.classBindings=s:e.styleBindings=s}function xV(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ls(o,e)>=0&&(n[r+1]=qy(n[r+1]))}function TC(t,e,n,r){let i=t[n+1],o=e===null,s=r?ao(i):ws(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];OV(c,e)&&(a=!0,t[s+1]=r?qy(l):zy(l)),s=r?ao(l):ws(l)}a&&(t[n+1]=r?zy(i):qy(i))}function OV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ls(t,e)>=0:!1}var fn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function FV(t){return t.substring(fn.key,fn.keyEnd)}function LV(t){return VV(t),wA(t,TA(t,0,fn.textEnd))}function wA(t,e){let n=fn.textEnd;return n===e?-1:(e=fn.keyEnd=jV(t,fn.key=e,n),TA(t,e,n))}function VV(t){fn.key=0,fn.keyEnd=0,fn.value=0,fn.valueEnd=0,fn.textEnd=t.length}function TA(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function jV(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function DA(t,e){return $V(t,e,null,!0),DA}function UV(t){HV(QV,BV,t,!0)}function BV(t,e){for(let n=LV(e);n>=0;n=wA(e,n))yd(t,FV(e),!0)}function $V(t,e,n,r){let i=Y(),o=Re(),s=Dd(2);if(o.firstUpdatePass&&CA(o,t,s,r),e!==Et&&Ht(i,s,e)){let a=o.data[xn()];SA(o,a,i,i[be],t,i[s+1]=JV(e,n),r,s)}}function HV(t,e,n,r){let i=Re(),o=Dd(2);i.firstUpdatePass&&CA(i,null,o,r);let s=Y();if(n!==Et&&Ht(s,o,n)){let a=i.data[xn()];if(AA(a,r)&&!bA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=hd(c,n||"")),Hy(i,a,s,n,r)}else YV(i,a,s,s[be],s[o+1],s[o+1]=KV(t,e,n),r,o)}}function bA(t,e){return e>=t.expandoStartIndex}function CA(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[xn()],s=bA(t,n);AA(o,r)&&e===null&&!s&&(e=!1),e=zV(i,o,e,r),kV(i,o,e,n,s,r)}}function zV(t,e,n,r){let i=Vb(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=sy(null,t,e,n,r),n=Mc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=sy(i,t,e,n,r),o===null){let c=qV(t,e,r);c!==void 0&&Array.isArray(c)&&(c=sy(null,t,e,c[1],r),c=Mc(c,e.attrs,r),GV(t,e,r,c))}else o=WV(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function qV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ws(r)!==0)return t[ao(r)]}function GV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ao(i)]=r}function WV(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Mc(r,s,n)}return Mc(r,e.attrs,n)}function sy(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Mc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Mc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yd(t,s,n?!0:e[++o]))}return t===void 0?null:t}function KV(t,e,n){if(n==null||n==="")return At;let r=[],i=mn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function QV(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&yd(t,r,n)}function YV(t,e,n,r,i,o,s,a){i===Et&&(i=At);let c=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=c<i.length?i[c+1]:void 0,y=l<o.length?o[l+1]:void 0,w=null,N;h===p?(c+=2,l+=2,g!==y&&(w=p,N=y)):p===null||h!==null&&h<p?(c+=2,w=h):(l+=2,w=p,N=y),w!==null&&SA(t,e,n,r,w,N,s,a),h=c<i.length?i[c]:null,p=l<o.length?o[l]:null}}function SA(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],h=PV(l)?DC(c,e,n,i,ws(l),s):void 0;if(!oh(h)){oh(o)||NV(l)&&(o=DC(c,null,n,i,a,s));let p=Sm(xn(),n);DF(r,s,p,i,o)}}function DC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,g=n[i+1];g===Et&&(g=p?At:void 0);let y=p?vd(g,r):h===r?g:void 0;if(l&&!oh(y)&&(y=vd(c,r)),oh(y)&&(a=y,s))return a;let w=t[i+1];i=s?ao(w):ws(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=vd(c,r))}return a}function oh(t){return t!==void 0}function JV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=lr(mn(t)))),t}function AA(t,e){return(t.flags&(e?8:16))!==0}function ZV(t,e=""){let n=Y(),r=Re(),i=t+Fe,o=r.firstCreatePass?Oc(r,i,1,e,null):r.data[i],s=XV(r,n,o,e,t);n[i]=s,Rd()&&dv(r,n,s,o),gs(o,!1)}var XV=(t,e,n,r,i)=>(Nd(!0),rF(e[be],r));function RA(t,e,n,r=""){return Ht(t,hr(),n)?e+Qr(n)+r:Et}function ej(t,e,n,r,i,o=""){let s=kb(),a=QS(t,s,n,i);return Dd(2),a?e+Qr(n)+r+Qr(i)+o:Et}function NA(t){return Fv("",t),NA}function Fv(t,e,n){let r=Y(),i=RA(r,t,e,n);return i!==Et&&PA(r,xn(),i),Fv}function MA(t,e,n,r,i){let o=Y(),s=ej(o,t,e,n,r,i);return s!==Et&&PA(o,xn(),s),MA}function PA(t,e,n){let r=Sm(e,t);iF(t[be],r,n)}function kA(t,e,n){Km(e)&&(e=e());let r=Y(),i=hr();if(Ht(r,i,e)){let o=Re(),s=Ic();DS(s,r,t,e,r[be],n)}return kA}function tj(t,e){let n=Km(t);return n&&t.set(e),n}function xA(t,e){let n=Y(),r=Re(),i=nt();return IA(r,n,n[be],i,t,e),xA}function nj(t){return Ht(Y(),hr(),t)?Qr(t):Et}function rj(t,e,n=""){return RA(Y(),t,e,n)}function ij(t,e,n){let r=Re();if(r.firstCreatePass){let i=kn(t);Gy(n,r.data,r.blueprint,i,!0),Gy(e,r.data,r.blueprint,i,!1)}}function Gy(t,e,n,r,i){if(t=ht(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gy(t[o],e,n,r,i);else{let o=Re(),s=Y(),a=nt(),c=Gi(t)?t:ht(t.provide),l=wm(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Gi(t)||!t.multi){let y=new ro(l,i,Ie,null),w=cy(c,e,i?h:h+g,p);w===-1?(ly(qd(a,s),o,c),ay(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[w]=y,s[w]=y)}else{let y=cy(c,e,h+g,p),w=cy(c,e,h,h+g),N=y>=0&&n[y],S=w>=0&&n[w];if(i&&!S||!i&&!N){ly(qd(a,s),o,c);let M=aj(i?sj:oj,n.length,i,r,l,t);!i&&S&&(n[w].providerFactory=M),ay(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),s.push(M)}else{let M=OA(n[i?w:y],l,!i&&r);ay(o,t,y>-1?y:w,M)}!i&&r&&S&&n[w].componentProviders++}}}function ay(t,e,n,r){let i=Gi(e),o=gb(e);if(i||o){let c=(o?ht(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function OA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function cy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oj(t,e,n,r,i){return Wy(this.multi,[])}function sj(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Cc(r,r[G],this.providerFactory.index,i);s=c.slice(0,a),Wy(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Wy(o,s);return s}function Wy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function aj(t,e,n,r,i,o){let s=new ro(t,n,Ie,null);return s.multi=[],s.index=e,s.componentProviders=0,OA(s,i,r&&!n),s}function cj(t,e=[]){return n=>{n.providersResolver=(r,i)=>ij(r,i?i(t):t,e)}}function uj(t,e,n){let r=Ec()+t,i=Y();return i[r]===Et?Ev(i,r,n?e.call(n):e()):_L(i,r)}function lj(t,e,n,r){return LA(Y(),Ec(),t,e,n,r)}function FA(t,e){let n=t[e];return n===Et?void 0:n}function LA(t,e,n,r,i,o){let s=e+n;return Ht(t,s,i)?Ev(t,s+1,o?r.call(o,i):r(i)):FA(t,s+1)}function dj(t,e,n,r,i,o,s){let a=e+n;return QS(t,a,i,o)?Ev(t,a+2,s?r.call(s,i,o):r(i,o)):FA(t,a+2)}function hj(t,e){let n=Re(),r,i=t+Fe;n.firstCreatePass?(r=fj(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=qr(r.type,!0)),s,a=St(Ie);try{let c=zd(!1),l=o();return zd(c),Am(n,Y(),i,l),l}finally{St(a)}}function fj(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function pj(t,e,n){let r=t+Fe,i=Y(),o=Id(i,r);return VA(i,r)?LA(i,Ec(),e,o.transform,n,o):o.transform(n)}function gj(t,e,n,r){let i=t+Fe,o=Y(),s=Id(o,i);return VA(o,i)?dj(o,Ec(),e,s.transform,n,r,s):s.transform(n,r)}function VA(t,e){return t[G].data[e].pure}var sh=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Lv=(()=>{class t{compileModuleSync(n){return new Xd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=vm(n),o=hS(i.declarations).reduce((s,a)=>{let c=Jr(a);return c&&s.push(new Is(c)),s},[]);return new sh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mj=(()=>{class t{zone=P(ge);changeDetectionScheduler=P(Wr);applicationRef=P(ci);applicationErrorHandler=P(Rt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jA=new U("",{factory:()=>!1});function Vv({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ge(ye(V({},jv()),{scheduleInRootZone:n})),[{provide:ge,useFactory:t},{provide:dr,multi:!0,useFactory:()=>{let r=P(mj,{optional:!0});return()=>r.initialize()}},{provide:dr,multi:!0,useFactory:()=>{let r=P(vj);return()=>{r.initialize()}}},e===!0?{provide:Qm,useValue:!0}:[],{provide:Ym,useValue:n??cA},{provide:Rt,useFactory:()=>{let r=P(ge),i=P(xe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Rn),o.handleError(s))})}}}]}function yj(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Vv({ngZoneFactory:()=>{let i=jv(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ai("NgZone_CoalesceEvent"),new ge(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ft([{provide:jA,useValue:!0},{provide:ms,useValue:!1},r])}function jv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var vj=(()=>{class t{subscription=new ke;initialized=!1;zone=P(ge);pendingTasks=P(On);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var UA=(()=>{class t{applicationErrorHandler=P(Rt);appRef=P(ci);taskService=P(On);ngZone=P(ge);zonelessEnabled=P(ms);tracing=P(Vc,{optional:!0});disableScheduling=P(Qm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(th):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Ym,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof nh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?yC:uA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(th+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,yC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _j(){return typeof $localize<"u"&&$localize.locale||jc}var Cs=new U("",{providedIn:"root",factory:()=>P(Cs,{optional:!0,skipSelf:!0})||_j()});function Ss(t){return eb(t)}function Ej(t,e){return od(t,e?.equal)}var BA=class{[vt];constructor(e){this[vt]=e}destroy(){this[vt].destroy()}};var zA=Symbol("InputSignalNode#UNSET"),xj=ye(V({},sd),{transformFn:void 0,applyValueToInputSignal(t,e){cs(t,e)}});function qA(t,e){let n=Object.create(xj);n.value=t,n.transformFn=e?.transform;function r(){if(os(n),n.value===zA){let i=null;throw new O(-950,i)}return n.value}return r[vt]=n,r}var Sh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Pc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Oj=new U("");Oj.__NG_ELEMENT_ID__=t=>{let e=nt();if(e===null)throw new O(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new O(204,!1)};function $A(t,e){return qA(t,e)}function Fj(t){return qA(zA,t)}var GA=($A.required=Fj,$A);var As=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},WA=new As("20.1.4");var Uv=new U(""),Lj=new U("");function Uc(t){return!t.moduleRef}function Vj(t){let e=Uc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ge);return n.run(()=>{Uc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Rt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Uc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Uv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Uv);s.add(o),t.moduleRef.onDestroy(()=>{bc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Uj(r,n,()=>{let o=e.get(On),s=o.add(),a=e.get(Sv);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Cs,jc);if(_A(c||jc),!e.get(Lj,!0))return Uc(t)?e.get(ci):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Uc(t)){let h=e.get(ci);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return jj?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var jj;function Uj(t,e,n){try{let r=n();return ho(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Ch=null;function Bj(t=[],e){return Ze.create({name:e,providers:[{provide:lc,useValue:"platform"},{provide:Uv,useValue:new Set([()=>Ch=null])},...t]})}function $j(t=[]){if(Ch)return Ch;let e=Bj(t);return Ch=e,fA(),Hj(e),e}function Hj(t){let e=t.get(uh,null);Ue(t,()=>{e?.forEach(n=>n())})}function zv(){return!1}var Rs=(()=>{class t{static __NG_ELEMENT_ID__=zj}return t})();function zj(t){return qj(nt(),Y(),(t&16)===16)}function qj(t,e,n){if(ei(t)&&!n){let r=Xt(t.index,e);return new ii(r,r)}else if(t.type&175){let r=e[Lt];return new ii(r,e)}return null}var Bv=class{constructor(){}supports(e){return e instanceof Map||_v(e)}create(){return new $v}},$v=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||_v(e)))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Hv(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Hv=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function HA(){return new qv([new Bv])}var qv=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:HA});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||HA()),deps:[[t,new SC,new Nt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new O(901,!1)}}return t})();function KA(t){De(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=$j(r),o=[Vv({}),{provide:Wr,useExisting:UA},qb,...n||[]],s=new Nc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Vj({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{De(9)}}function Ah(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var JA=null;function yr(){return JA}function Gv(t){JA??=t}var Bc=class{},Wv=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(ZA),providedIn:"platform"})}return t})();var ZA=(()=>{class t extends Wv{_location;_history;_doc=P(ze);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yr().getBaseHref(this._doc)}onPopState(n){let r=yr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=yr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function XA(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function QA(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ui(t){return t&&t[0]!=="?"?`?${t}`:t}var Ns=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(t0),providedIn:"root"})}return t})(),e0=new U(""),t0=(()=>{class t extends Ns{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return XA(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ui(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ui(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(q(Wv),q(e0,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ms=(()=>{class t{_subject=new Ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Kj(QA(YA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ui(r))}normalize(n){return t.stripTrailingSlash(Wj(this._basePath,YA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ui(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ui;static joinWithSlash=XA;static stripTrailingSlash=QA;static \u0275fac=function(r){return new(r||t)(q(Ns))};static \u0275prov=$({token:t,factory:()=>Gj(),providedIn:"root"})}return t})();function Gj(){return new Ms(q(Ns))}function Wj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function YA(t){return t.replace(/\/index.html$/,"")}function Kj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var n_=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(n_||{});var It=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(It||{}),we=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(we||{}),jt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(jt||{}),Ut={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function s0(t){return Vt(t)[Le.LocaleId]}function a0(t,e,n){let r=Vt(t),i=[r[Le.DayPeriodsFormat],r[Le.DayPeriodsStandalone]],o=tn(i,e);return tn(o,n)}function c0(t,e,n){let r=Vt(t),i=[r[Le.DaysFormat],r[Le.DaysStandalone]],o=tn(i,e);return tn(o,n)}function u0(t,e,n){let r=Vt(t),i=[r[Le.MonthsFormat],r[Le.MonthsStandalone]],o=tn(i,e);return tn(o,n)}function l0(t,e){let r=Vt(t)[Le.Eras];return tn(r,e)}function $c(t,e){let n=Vt(t);return tn(n[Le.DateFormat],e)}function Hc(t,e){let n=Vt(t);return tn(n[Le.TimeFormat],e)}function zc(t,e){let r=Vt(t)[Le.DateTimeFormat];return tn(r,e)}function jn(t,e){let n=Vt(t),r=n[Le.NumberSymbols][e];if(typeof r>"u"){if(e===Ut.CurrencyDecimal)return n[Le.NumberSymbols][Ut.Decimal];if(e===Ut.CurrencyGroup)return n[Le.NumberSymbols][Ut.Group]}return r}function d0(t,e){return Vt(t)[Le.NumberFormats][e]}function h0(t){if(!t[Le.ExtraData])throw new O(2303,!1)}function f0(t){let e=Vt(t);return h0(e),(e[Le.ExtraData][2]||[]).map(r=>typeof r=="string"?Kv(r):[Kv(r[0]),Kv(r[1])])}function p0(t,e,n){let r=Vt(t);h0(r);let i=[r[Le.ExtraData][0],r[Le.ExtraData][1]],o=tn(i,e)||[];return tn(o,n)||[]}function tn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new O(2304,!1)}function Kv(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var Qj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Rh={},Yj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function g0(t,e,n,r){let i=o2(t);e=vr(n,e)||e;let s=[],a;for(;e;)if(a=Yj.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=y0(r,c),i=i2(i,r));let l="";return s.forEach(h=>{let p=n2(h);l+=p?p(i,n,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function xh(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function vr(t,e){let n=s0(t);if(Rh[n]??={},Rh[n][e])return Rh[n][e];let r="";switch(e){case"shortDate":r=$c(t,jt.Short);break;case"mediumDate":r=$c(t,jt.Medium);break;case"longDate":r=$c(t,jt.Long);break;case"fullDate":r=$c(t,jt.Full);break;case"shortTime":r=Hc(t,jt.Short);break;case"mediumTime":r=Hc(t,jt.Medium);break;case"longTime":r=Hc(t,jt.Long);break;case"fullTime":r=Hc(t,jt.Full);break;case"short":let i=vr(t,"shortTime"),o=vr(t,"shortDate");r=Nh(zc(t,jt.Short),[i,o]);break;case"medium":let s=vr(t,"mediumTime"),a=vr(t,"mediumDate");r=Nh(zc(t,jt.Medium),[s,a]);break;case"long":let c=vr(t,"longTime"),l=vr(t,"longDate");r=Nh(zc(t,jt.Long),[c,l]);break;case"full":let h=vr(t,"fullTime"),p=vr(t,"fullDate");r=Nh(zc(t,jt.Full),[h,p]);break}return r&&(Rh[n][e]=r),r}function Nh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function vn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Jj(t,e){return vn(t,3).substring(0,e)}function qe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=Zj(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return Jj(a,e);let c=jn(s,Ut.MinusSign);return vn(a,e,c,r,i)}}function Zj(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new O(2301,!1)}}function Ce(t,e,n=It.Format,r=!1){return function(i,o){return Xj(i,o,t,e,n,r)}}function Xj(t,e,n,r,i,o){switch(n){case 2:return u0(e,i,r)[t.getMonth()];case 1:return c0(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=f0(e),h=p0(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,w]=g,N=s>=y.hours&&a>=y.minutes,S=s<w.hours||s===w.hours&&a<w.minutes;if(y.hours<w.hours){if(N&&S)return!0}else if(N||S)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return a0(e,i,r)[s<12?0:1];case 3:return l0(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new O(2302,!1)}}function Mh(t){return function(e,n,r){let i=-1*r,o=jn(n,Ut.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+vn(s,2,o)+vn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+vn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+vn(s,2,o)+":"+vn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+vn(s,2,o)+":"+vn(Math.abs(i%60),2,o);default:throw new O(2302,!1)}}}var e2=0,kh=4;function t2(t){let e=xh(t,e2,1).getDay();return xh(t,0,1+(e<=kh?kh:kh+7)-e)}function m0(t){let e=t.getDay(),n=e===0?-3:kh-e;return xh(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Qv(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=m0(n),s=t2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return vn(i,t,jn(r,Ut.MinusSign))}}function Ph(t,e=!1){return function(n,r){let o=m0(n).getFullYear();return vn(o,t,jn(r,Ut.MinusSign),e)}}var Yv={};function n2(t){if(Yv[t])return Yv[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ce(3,we.Abbreviated);break;case"GGGG":e=Ce(3,we.Wide);break;case"GGGGG":e=Ce(3,we.Narrow);break;case"y":e=qe(0,1,0,!1,!0);break;case"yy":e=qe(0,2,0,!0,!0);break;case"yyy":e=qe(0,3,0,!1,!0);break;case"yyyy":e=qe(0,4,0,!1,!0);break;case"Y":e=Ph(1);break;case"YY":e=Ph(2,!0);break;case"YYY":e=Ph(3);break;case"YYYY":e=Ph(4);break;case"M":case"L":e=qe(1,1,1);break;case"MM":case"LL":e=qe(1,2,1);break;case"MMM":e=Ce(2,we.Abbreviated);break;case"MMMM":e=Ce(2,we.Wide);break;case"MMMMM":e=Ce(2,we.Narrow);break;case"LLL":e=Ce(2,we.Abbreviated,It.Standalone);break;case"LLLL":e=Ce(2,we.Wide,It.Standalone);break;case"LLLLL":e=Ce(2,we.Narrow,It.Standalone);break;case"w":e=Qv(1);break;case"ww":e=Qv(2);break;case"W":e=Qv(1,!0);break;case"d":e=qe(2,1);break;case"dd":e=qe(2,2);break;case"c":case"cc":e=qe(7,1);break;case"ccc":e=Ce(1,we.Abbreviated,It.Standalone);break;case"cccc":e=Ce(1,we.Wide,It.Standalone);break;case"ccccc":e=Ce(1,we.Narrow,It.Standalone);break;case"cccccc":e=Ce(1,we.Short,It.Standalone);break;case"E":case"EE":case"EEE":e=Ce(1,we.Abbreviated);break;case"EEEE":e=Ce(1,we.Wide);break;case"EEEEE":e=Ce(1,we.Narrow);break;case"EEEEEE":e=Ce(1,we.Short);break;case"a":case"aa":case"aaa":e=Ce(0,we.Abbreviated);break;case"aaaa":e=Ce(0,we.Wide);break;case"aaaaa":e=Ce(0,we.Narrow);break;case"b":case"bb":case"bbb":e=Ce(0,we.Abbreviated,It.Standalone,!0);break;case"bbbb":e=Ce(0,we.Wide,It.Standalone,!0);break;case"bbbbb":e=Ce(0,we.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ce(0,we.Abbreviated,It.Format,!0);break;case"BBBB":e=Ce(0,we.Wide,It.Format,!0);break;case"BBBBB":e=Ce(0,we.Narrow,It.Format,!0);break;case"h":e=qe(3,1,-12);break;case"hh":e=qe(3,2,-12);break;case"H":e=qe(3,1);break;case"HH":e=qe(3,2);break;case"m":e=qe(4,1);break;case"mm":e=qe(4,2);break;case"s":e=qe(5,1);break;case"ss":e=qe(5,2);break;case"S":e=qe(6,1);break;case"SS":e=qe(6,2);break;case"SSS":e=qe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Mh(0);break;case"ZZZZZ":e=Mh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Mh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Mh(2);break;default:return null}return Yv[t]=e,e}function y0(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function r2(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function i2(t,e,n){let i=t.getTimezoneOffset(),o=y0(e,i);return r2(t,-1*(o-i))}function o2(t){if(n0(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return xh(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Qj))return s2(r)}let e=new Date(t);if(!n0(e))throw new O(2302,!1);return e}function s2(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function n0(t){return t instanceof Date&&!isNaN(t.valueOf())}var a2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,r0=22,Oh=".",qc="0",c2=";",u2=",",Jv="#";function l2(t,e,n,r,i,o,s=!1){let a="",c=!1;if(!isFinite(t))a=jn(n,Ut.Infinity);else{let l=f2(t);s&&(l=h2(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let L=o.match(a2);if(L===null)throw new O(2306,!1);let H=L[1],z=L[3],Me=L[5];H!=null&&(h=Zv(H)),z!=null&&(p=Zv(z)),Me!=null?g=Zv(Me):z!=null&&p>g&&(g=p)}p2(l,p,g);let y=l.digits,w=l.integerLen,N=l.exponent,S=[];for(c=y.every(L=>!L);w<h;w++)y.unshift(0);for(;w<0;w++)y.unshift(0);w>0?S=y.splice(w,y.length):(S=y,y=[0]);let M=[];for(y.length>=e.lgSize&&M.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)M.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&M.unshift(y.join("")),a=M.join(jn(n,r)),S.length&&(a+=jn(n,i)+S.join("")),N&&(a+=jn(n,Ut.Exponential)+"+"+N)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function v0(t,e,n){let r=d0(e,n_.Decimal),i=d2(r,jn(e,Ut.MinusSign));return l2(t,i,e,Ut.Group,Ut.Decimal,n)}function d2(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(c2),i=r[0],o=r[1],s=i.indexOf(Oh)!==-1?i.split(Oh):[i.substring(0,i.lastIndexOf(qc)+1),i.substring(i.lastIndexOf(qc)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(Jv));for(let h=0;h<c.length;h++){let p=c.charAt(h);p===qc?n.minFrac=n.maxFrac=h+1:p===Jv?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(u2);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Jv);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function h2(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function f2(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Oh))>-1&&(e=e.replace(Oh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===qc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===qc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>r0&&(r=r.splice(0,r0-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function p2(t,e,n){if(e>n)throw new O(2307,!1);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,y,w){return g=g+p,w[y]=g<10?g:g-10,c&&(w[y]===0&&y>=l?w.pop():c=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Zv(t){let e=parseInt(t);if(isNaN(e))throw new O(2305,!1);return e}var Xv=/\s+/,i0=[],g2=(()=>{class t{_ngEl;_renderer;initialClasses=i0;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Xv):i0}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Xv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Xv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Ie(gn),Ie(uo))};static \u0275dir=Ln({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var m2=(()=>{class t{_viewContainer;_context=new Fh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){o0(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){o0(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Ie(si),Ie(io))};static \u0275dir=Ln({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Fh=class{$implicit=null;ngIf=null};function o0(t,e){if(t&&!t.createEmbeddedView)throw new O(2020,!1)}var y2=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:pn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(Ie(gn),Ie(qv),Ie(uo))};static \u0275dir=Ln({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();function Lh(t,e){return new O(2100,!1)}var e_=class{createSubscription(e,n,r){return Ss(()=>e.subscribe({next:n,error:r}))}dispose(e){Ss(()=>e.unsubscribe())}},t_=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},v2=new t_,_2=new e_,E2=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=P(Rt);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(ho(n))return v2;if(Ih(n))return _2;throw Lh(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(Ie(Rs,16))};static \u0275pipe=bs({name:"async",type:t,pure:!1})}return t})();var I2=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw Lh(t,n);return n.toUpperCase()}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=bs({name:"uppercase",type:t,pure:!0})}return t})(),w2="mediumDate",_0=new U(""),E0=new U(""),T2=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??w2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return g0(n,s,o||this.locale,a)}catch(s){throw Lh(t,s.message)}}static \u0275fac=function(r){return new(r||t)(Ie(Cs,16),Ie(_0,24),Ie(E0,24))};static \u0275pipe=bs({name:"date",type:t,pure:!0})}return t})();var D2=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!b2(n))return null;i||=this._locale;try{let o=C2(n);return v0(o,i,r)}catch(o){throw Lh(t,o.message)}}static \u0275fac=function(r){return new(r||t)(Ie(Cs,16))};static \u0275pipe=bs({name:"number",type:t,pure:!0})}return t})();function b2(t){return!(t==null||t===""||t!==t)}function C2(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new O(2309,!1);return t}var I0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=lo({type:t});static \u0275inj=Kr({})}return t})();function Gc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var fo=class{};var w0="browser";var jh=new U(""),a_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(q(jh),q(ge))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Wc=class{_doc;constructor(e){this._doc=e}manager},r_="ng-app-id";function T0(t){for(let e of t)e.remove()}function D0(t,e){let n=e.createElement("style");return n.textContent=t,n}function R2(t,e,n,r){let i=t.head?.querySelectorAll(`style[${r_}="${e}"],link[${r_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(r_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function o_(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var c_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,R2(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,D0);r?.forEach(i=>this.addUsage(i,this.external,o_))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(T0(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])T0(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,D0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,o_(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(q(ze),q(ch),q(lh,8),q(oi))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),i_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},u_=/%COMP%/g;var C0="%COMP%",N2=`_nghost-${C0}`,M2=`_ngcontent-${C0}`,P2=!0,k2=new U("",{providedIn:"root",factory:()=>P2});function x2(t){return M2.replace(u_,t)}function O2(t){return N2.replace(u_,t)}function S0(t,e){return e.map(n=>n.replace(u_,t))}var l_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Kc(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Vh?i.applyToHost(n):i instanceof Qc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case fr.Emulated:o=new Vh(c,l,r,this.appId,h,s,a,p,g);break;case fr.ShadowDom:return new s_(c,l,n,r,s,a,this.nonce,p,g);default:o=new Qc(c,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(q(a_),q(c_),q(ch),q(k2),q(ze),q(oi),q(ge),q(lh),q(Vc,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Kc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(i_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(b0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(b0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=i_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=i_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(pn.DashCase|pn.Important)?e.style.setProperty(n,r,i&pn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&pn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=yr().getGlobalEventTarget(this.doc,e),!e))throw new O(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function b0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var s_=class extends Kc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=S0(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=o_(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qc=class extends Kc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?S0(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Vh=class extends Qc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,c,l,h),this.contentAttr=x2(h),this.hostAttr=O2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Uh=class t extends Bc{supportsDOMEvents=!0;static makeCurrent(){Gv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=F2();return n==null?null:L2(n)}resetBaseElement(){Yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gc(document.cookie,e)}},Yc=null;function F2(){return Yc=Yc||document.head.querySelector("base"),Yc?Yc.getAttribute("href"):null}function L2(t){return new URL(t,document.baseURI).pathname}var V2=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),R0=(()=>{class t extends Wc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(q(ze))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),A0=["alt","control","meta","shift"],j2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},U2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},N0=(()=>{class t extends Wc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),A0.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=j2[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),A0.forEach(s=>{if(s!==i){let a=U2[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(q(ze))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function B2(t,e){let n=V({rootComponent:t},$2(e));return KA(n)}function $2(t){return{appProviders:[...W2,...t?.providers??[]],platformProviders:G2}}function H2(){Uh.makeCurrent()}function z2(){return new Rn}function q2(){return Yy(document),document}var G2=[{provide:oi,useValue:w0},{provide:uh,useValue:H2,multi:!0},{provide:ze,useFactory:q2}];var W2=[{provide:lc,useValue:"root"},{provide:Rn,useFactory:z2},{provide:jh,useClass:R0,multi:!0,deps:[ze]},{provide:jh,useClass:N0,multi:!0,deps:[ze]},l_,c_,a_,{provide:oo,useExisting:l_},{provide:fo,useClass:V2},[]];var xs=class{},Jc=class{},li=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var $h=class{encodeKey(e){return M0(e)}encodeValue(e){return M0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function K2(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var Q2=/%(\d[a-f0-9])/gi,Y2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function M0(t){return encodeURIComponent(t).replace(Q2,(e,n)=>Y2[n]??e)}function Bh(t){return`${t}`}var _r=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new $h,e.fromString){if(e.fromObject)throw new O(2805,!1);this.map=K2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Bh):[Bh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Bh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Bh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Hh=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function J2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function P0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function k0(t){return typeof Blob<"u"&&t instanceof Blob}function x0(t){return typeof FormData<"u"&&t instanceof FormData}function Z2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var O0="Content-Type",F0="Accept",L0="X-Request-URL",V0="text/plain",j0="application/json",X2=`${j0}, ${V0}, */*`,Ps=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(J2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new li,this.context??=new Hh,!this.params)this.params=new _r,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||P0(this.body)||k0(this.body)||x0(this.body)||Z2(this.body)?this.body:this.body instanceof _r?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||x0(this.body)?null:k0(this.body)?this.body.type||null:P0(this.body)?null:typeof this.body=="string"?V0:this.body instanceof _r?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?j0:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,p=e.transferCache??this.transferCache,g=e.timeout??this.timeout,y=e.body!==void 0?e.body:this.body,w=e.withCredentials??this.withCredentials,N=e.reportProgress??this.reportProgress,S=e.headers||this.headers,M=e.params||this.params,L=e.context??this.context;return e.setHeaders!==void 0&&(S=Object.keys(e.setHeaders).reduce((H,z)=>H.set(z,e.setHeaders[z]),S)),e.setParams&&(M=Object.keys(e.setParams).reduce((H,z)=>H.set(z,e.setParams[z]),M)),new t(n,r,y,{params:M,headers:S,context:L,reportProgress:N,responseType:i,withCredentials:w,transferCache:p,keepalive:o,cache:a,priority:s,timeout:g,mode:c,redirect:l,credentials:h})}},po=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(po||{}),Os=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new li,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},zh=class t extends Os{constructor(e={}){super(e)}type=po.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Zc=class t extends Os{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=po.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ks=class extends Os{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},eU=200,tU=204;function d_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect}}var U0=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ps)o=n;else{let c;i.headers instanceof li?c=i.headers:c=new li(i.headers);let l;i.params&&(i.params instanceof _r?l=i.params:l=new _r({fromObject:i.params})),o=new Ps(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let s=K(o).pipe(ar(c=>this.handler.handle(c)));if(n instanceof Ps||i.observe==="events")return s;let a=s.pipe(lt(c=>c instanceof Zc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new O(2806,!1);return c.body}));case"blob":return a.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new O(2807,!1);return c.body}));case"text":return a.pipe(X(c=>{if(c.body!==null&&typeof c.body!="string")throw new O(2808,!1);return c.body}));case"json":default:return a.pipe(X(c=>c.body))}case"response":return a;default:throw new O(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new _r().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,d_(i,r))}post(n,r,i={}){return this.request("POST",n,d_(i,r))}put(n,r,i={}){return this.request("PUT",n,d_(i,r))}static \u0275fac=function(r){return new(r||t)(q(xs))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var nU=new U("");function rU(t,e){return e(t)}function iU(t,e,n){return(r,i)=>Ue(n,()=>e(r,o=>t(o,i)))}var B0=new U(""),$0=new U(""),H0=new U("",{providedIn:"root",factory:()=>!0});var qh=(()=>{class t extends xs{backend;injector;chain=null;pendingTasks=P(ri);contributeToStability=P(H0);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(B0),...this.injector.get($0,[])]));this.chain=r.reduceRight((i,o)=>iU(i,o,this.injector),rU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Bi(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(q(Jc),q(xe))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var oU=/^\)\]\}',?\n/,sU=RegExp(`^${L0}:`,"m");function aU(t){return"responseURL"in t&&t.responseURL?t.responseURL:sU.test(t.getAllResponseHeaders())?t.getResponseHeader(L0):null}var h_=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new O(-2800,!1);let r=this.xhrFactory;return K(null).pipe(dt(()=>new Z(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((S,M)=>s.setRequestHeader(S,M.join(","))),n.headers.has(F0)||s.setRequestHeader(F0,X2),!n.headers.has(O0)){let S=n.detectContentTypeHeader();S!==null&&s.setRequestHeader(O0,S)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let S=n.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let S=s.statusText||"OK",M=new li(s.getAllResponseHeaders()),L=aU(s)||n.url;return c=new zh({headers:M,status:s.status,statusText:S,url:L}),c},h=()=>{let{headers:S,status:M,statusText:L,url:H}=l(),z=null;M!==tU&&(z=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=z?eU:0);let Me=M>=200&&M<300;if(n.responseType==="json"&&typeof z=="string"){let pe=z;z=z.replace(oU,"");try{z=z!==""?JSON.parse(z):null}catch(D){z=pe,Me&&(Me=!1,z={error:D,text:z})}}Me?(o.next(new Zc({body:z,headers:S,status:M,statusText:L,url:H||void 0})),o.complete()):o.error(new ks({error:z,headers:S,status:M,statusText:L,url:H||void 0}))},p=S=>{let{url:M}=l(),L=new ks({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(L)},g=p;n.timeout&&(g=S=>{let{url:M}=l(),L=new ks({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:M||void 0});o.error(L)});let y=!1,w=S=>{y||(o.next(l()),y=!0);let M={type:po.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(M.total=S.total),n.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},N=S=>{let M={type:po.UploadProgress,loaded:S.loaded};S.lengthComputable&&(M.total=S.total),o.next(M)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",g),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",w),a!==null&&s.upload&&s.upload.addEventListener("progress",N)),s.send(a),o.next({type:po.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",g),n.reportProgress&&(s.removeEventListener("progress",w),a!==null&&s.upload&&s.upload.removeEventListener("progress",N)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(q(fo))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),z0=new U(""),cU="XSRF-TOKEN",uU=new U("",{providedIn:"root",factory:()=>cU}),lU="X-XSRF-TOKEN",dU=new U("",{providedIn:"root",factory:()=>lU}),Xc=class{},hU=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(q(ze),q(uU))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function fU(t,e){let n=t.url.toLowerCase();if(!P(z0)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=P(Xc).getToken(),i=P(dU);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function pU(...t){let e=[U0,h_,qh,{provide:xs,useExisting:qh},{provide:Jc,useFactory:()=>P(nU,{optional:!0})??P(h_)},{provide:B0,useValue:fU,multi:!0},{provide:z0,useValue:!0},{provide:Xc,useClass:hU}];for(let n of t)e.push(...n.\u0275providers);return Ft(e)}var q0=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(q(ze))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var gU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=q(mU),i},providedIn:"root"})}return t})(),mU=(()=>{class t extends gU{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case yn.NONE:return r;case yn.HTML:return gr(r,"HTML")?mn(r):rv(this._doc,String(r)).toString();case yn.STYLE:return gr(r,"Style")?mn(r):r;case yn.SCRIPT:if(gr(r,"Script"))return mn(r);throw new O(5200,!1);case yn.URL:return gr(r,"URL")?mn(r):kc(String(r));case yn.RESOURCE_URL:if(gr(r,"ResourceURL"))return mn(r);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(n){return Zy(n)}bypassSecurityTrustStyle(n){return Xy(n)}bypassSecurityTrustScript(n){return ev(n)}bypassSecurityTrustUrl(n){return tv(n)}bypassSecurityTrustResourceUrl(n){return nv(n)}static \u0275fac=function(r){return new(r||t)(q(ze))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var oe="primary",pu=Symbol("RouteTitle"),y_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function yo(t){return new y_(t)}function X0(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function vU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Un(t[n],e[n]))return!1;return!0}function Un(t,e){let n=t?v_(t):void 0,r=e?v_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eR(t[i],e[i]))return!1;return!0}function v_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function tR(t){return t.length>0?t[t.length-1]:null}function wr(t){return Og(t)?t:ho(t)?Ee(Promise.resolve(t)):K(t)}var _U={exact:rR,subset:iR},nR={exact:EU,subset:IU,ignored:()=>!0};function G0(t,e,n){return _U[n.paths](t.root,e.root,n.matrixParams)&&nR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function EU(t,e){return Un(t,e)}function rR(t,e,n){if(!go(t.segments,e.segments)||!Kh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rR(t.children[r],e.children[r],n))return!1;return!0}function IU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eR(t[n],e[n]))}function iR(t,e,n){return oR(t,e,e.segments,n)}function oR(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!go(i,n)||e.hasChildren()||!Kh(i,n,r))}else if(t.segments.length===n.length){if(!go(t.segments,n)||!Kh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!iR(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!go(t.segments,i)||!Kh(t.segments,i,r)||!t.children[oe]?!1:oR(t.children[oe],e,o,r)}}function Kh(t,e,n){return e.every((r,i)=>nR[n](t[i].parameters,r.parameters))}var $n=class{root;queryParams;fragment;_queryParamMap;constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=yo(this.queryParams),this._queryParamMap}toString(){return DU.serialize(this)}},me=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qh(this)}},di=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=yo(this.parameters),this._parameterMap}toString(){return aR(this)}};function wU(t,e){return go(t,e)&&t.every((n,r)=>Un(n.parameters,e[r].parameters))}function go(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function TU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var gu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new vo,providedIn:"root"})}return t})(),vo=class{parse(e){let n=new E_(e);return new $n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${eu(e.root,!0)}`,r=SU(e.queryParams),i=typeof e.fragment=="string"?`#${bU(e.fragment)}`:"";return`${n}${r}${i}`}},DU=new vo;function Qh(t){return t.segments.map(e=>aR(e)).join("/")}function eu(t,e){if(!t.hasChildren())return Qh(t);if(e){let n=t.children[oe]?eu(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${eu(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=TU(t,(r,i)=>i===oe?[eu(t.children[oe],!1)]:[`${i}:${eu(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${Qh(t)}/${n[0]}`:`${Qh(t)}/(${n.join("//")})`}}function sR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gh(t){return sR(t).replace(/%3B/gi,";")}function bU(t){return encodeURI(t)}function __(t){return sR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yh(t){return decodeURIComponent(t)}function W0(t){return Yh(t.replace(/\+/g,"%20"))}function aR(t){return`${__(t.path)}${CU(t.parameters)}`}function CU(t){return Object.entries(t).map(([e,n])=>`;${__(e)}=${__(n)}`).join("")}function SU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Gh(n)}=${Gh(i)}`).join("&"):`${Gh(n)}=${Gh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var AU=/^[^\/()?;#]+/;function f_(t){let e=t.match(AU);return e?e[0]:""}var RU=/^[^\/()?;=#]+/;function NU(t){let e=t.match(RU);return e?e[0]:""}var MU=/^[^=?&#]+/;function PU(t){let e=t.match(MU);return e?e[0]:""}var kU=/^[^&#]+/;function xU(t){let e=t.match(kU);return e?e[0]:""}var E_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new me(e,n)),r}parseSegment(){let e=f_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new di(Yh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=NU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=f_(this.remaining);i&&(r=i,this.capture(r))}e[Yh(n)]=Yh(r)}parseQueryParam(e){let n=PU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=xU(this.remaining);s&&(r=s,this.capture(r))}let i=W0(n),o=W0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=f_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[oe]:new me([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function cR(t){return t.segments.length>0?new me([],{[oe]:t}):t}function uR(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=uR(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new me(t.segments,e);return OU(n)}function OU(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new me(t.segments.concat(e.segments),e.children)}return t}function hi(t){return t instanceof $n}function lR(t,e,n=null,r=null){let i=dR(t);return hR(i,e,n,r)}function dR(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new me(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=cR(r);return e??i}function hR(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return p_(i,i,i,n,r);let o=FU(e);if(o.toRoot())return p_(i,i,new me([],{}),n,r);let s=LU(o,i,t),a=s.processChildren?nu(s.segmentGroup,s.index,o.commands):pR(s.segmentGroup,s.index,o.commands);return p_(i,s.segmentGroup,a,n,r)}function Jh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ou(t){return typeof t=="object"&&t!=null&&t.outlets}function p_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=fR(t,e,n);let a=cR(uR(s));return new $n(a,o,i)}function fR(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=fR(o,e,n)}),new me(t.segments,r)}var Zh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Jh(r[0]))throw new O(4003,!1);let i=r.find(ou);if(i&&i!==tR(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Zh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Zh(n,e,r)}var Vs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function LU(t,e,n){if(t.isAbsolute)return new Vs(e,!0,0);if(!n)return new Vs(e,!1,NaN);if(n.parent===null)return new Vs(n,!0,0);let r=Jh(t.commands[0])?0:1,i=n.segments.length-1+r;return VU(n,i,t.numberOfDoubleDots)}function VU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Vs(r,!1,i-o)}function jU(t){return ou(t[0])?t[0].outlets:{[oe]:t}}function pR(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return nu(t,e,n);let r=UU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new me(t.segments.slice(0,r.pathIndex),{});return o.children[oe]=new me(t.segments.slice(r.pathIndex),t.children),nu(o,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?I_(t,e,n):r.match?nu(t,0,i):I_(t,e,n)}function nu(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=jU(n),i={};if(Object.keys(r).some(o=>o!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let o=nu(t.children[oe],e,n);return new me(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=pR(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(t.segments,i)}}function UU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ou(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Q0(c,l,s))return o;r+=2}else{if(!Q0(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function I_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ou(o)){let c=BU(o.outlets);return new me(r,c)}if(i===0&&Jh(n[0])){let c=t.segments[e];r.push(new di(c.path,K0(n[0]))),i++;continue}let s=ou(o)?o.outlets[oe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Jh(a)?(r.push(new di(s,K0(a))),i+=2):(r.push(new di(s,{})),i++)}return new me(r,{})}function BU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=I_(new me([],{}),0,r))}),e}function K0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Q0(t,e,n){return t==n.path&&Un(e,n.parameters)}var ru="imperative",rt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(rt||{}),qt=class{id;url;constructor(e,n){this.id=e,this.url=n}},_o=class extends qt{type=rt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},En=class extends qt{urlAfterRedirects;type=rt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(Mt||{}),su=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(su||{}),Bn=class extends qt{reason;code;type=rt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Er=class extends qt{reason;code;type=rt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Us=class extends qt{error;target;type=rt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},au=class extends qt{urlAfterRedirects;state;type=rt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xh=class extends qt{urlAfterRedirects;state;type=rt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ef=class extends qt{urlAfterRedirects;state;shouldActivate;type=rt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tf=class extends qt{urlAfterRedirects;state;type=rt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nf=class extends qt{urlAfterRedirects;state;type=rt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rf=class{route;type=rt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},of=class{route;type=rt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sf=class{snapshot;type=rt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},af=class{snapshot;type=rt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cf=class{snapshot;type=rt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uf=class{snapshot;type=rt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var cu=class{},Bs=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function $U(t){return!(t instanceof cu)&&!(t instanceof Bs)}function HU(t,e){return t.providers&&!t._injector&&(t._injector=Lc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function _n(t){return t.outlet||oe}function zU(t,e){let n=t.filter(r=>_n(r)===e);return n.push(...t.filter(r=>_n(r)!==e)),n}function zs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var lf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return zs(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new qs(this.rootInjector)}},qs=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new lf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(q(xe))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),df=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=w_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=w_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=T_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return T_(e,this._root).map(n=>n.value)}};function w_(t,e){if(t===e.value)return e;for(let n of e.children){let r=w_(t,n);if(r)return r}return null}function T_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=T_(t,n);if(r.length)return r.unshift(e),r}return[]}var zt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ls(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var uu=class extends df{snapshot;constructor(e,n){super(e),this.snapshot=n,M_(this,e)}toString(){return this.snapshot.toString()}};function gR(t){let e=qU(t),n=new ut([new di("",{})]),r=new ut({}),i=new ut({}),o=new ut({}),s=new ut(""),a=new Ir(n,r,o,s,i,oe,t,e.root);return a.snapshot=e.root,new uu(new zt(a,[]),e)}function qU(t){let e={},n={},r={},i="",o=new mo([],e,r,i,n,oe,t,null,{});return new lu("",new zt(o,[]))}var Ir=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(l=>l[pu]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>yo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>yo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&yR(i)&&(r.resolve[pu]=i.title),r}var mo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[pu]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},lu=class extends df{url;constructor(e,n){super(n),this.url=e,M_(this,n)}toString(){return mR(this._root)}};function M_(t,e){e.value._routerState=t,e.children.forEach(n=>M_(t,n))}function mR(t){let e=t.children.length>0?` { ${t.children.map(mR).join(", ")} } `:"";return`${t.value}${e}`}function g_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Un(e.params,n.params)||t.paramsSubject.next(n.params),vU(e.url,n.url)||t.urlSubject.next(n.url),Un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function D_(t,e){let n=Un(t.params,e.params)&&wU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||D_(t.parent,e.parent))}function yR(t){return typeof t.title=="string"||t.title===null}var vR=new U(""),P_=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new _t;deactivateEvents=new _t;attachEvents=new _t;detachEvents=new _t;routerOutletData=GA(void 0);parentContexts=P(qs);location=P(si);changeDetector=P(Rs);inputBinder=P(mf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new b_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ln({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[co]})}return t})(),b_=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Ir?this.route:e===qs?this.childContexts:e===vR?this.outletData:this.parent.get(e,n)}},mf=new U("");var k_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=wv({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Dh(0,"router-outlet")},dependencies:[P_],encapsulation:2})}return t})();function x_(t){let e=t.children&&t.children.map(x_),n=e?ye(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=k_),n}function GU(t,e,n){let r=du(t,e._root,n?n._root:void 0);return new uu(r,e)}function du(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=WU(t,e,n);return new zt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>du(t,a)),s}}let r=KU(e.value),i=e.children.map(o=>du(t,o));return new zt(r,i)}}function WU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return du(t,r,i);return du(t,r)})}function KU(t){return new Ir(new ut(t.url),new ut(t.params),new ut(t.queryParams),new ut(t.fragment),new ut(t.data),t.outlet,t.component,t)}var $s=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},_R="ngNavigationCancelingError";function ff(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=hi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ER(!1,Mt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ER(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[_R]=!0,n.cancellationCode=e,n}function QU(t){return IR(t)&&hi(t.url)}function IR(t){return!!t&&t[_R]}var YU=(t,e,n,r)=>X(i=>(new C_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),C_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),g_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ls(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ls(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new uf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new af(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(g_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),g_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},pf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},js=class{component;route;constructor(e,n){this.component=e,this.route=n}};function JU(t,e,n){let r=t._root,i=e?e._root:null;return tu(r,i,n,[r.value])}function ZU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Gs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!om(t)?t:e.get(t):r}function tu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ls(e);return t.children.forEach(s=>{XU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>iu(a,n.getContext(s),i)),i}function XU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=eB(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new pf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?tu(t,e,a?a.children:null,r,i):tu(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new js(a.outlet.component,s))}else s&&iu(e,a,i),i.canActivateChecks.push(new pf(r)),o.component?tu(t,null,a?a.children:null,r,i):tu(t,null,n,r,i);return i}function eB(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!go(t.url,e.url);case"pathParamsOrQueryParamsChange":return!go(t.url,e.url)||!Un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!D_(t,e)||!Un(t.queryParams,e.queryParams);case"paramsChange":default:return!D_(t,e)}}function iu(t,e,n){let r=Ls(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?iu(s,e.children.getContext(o),n):iu(s,null,n):iu(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new js(e.outlet.component,i)):n.canDeactivateChecks.push(new js(null,i)):n.canDeactivateChecks.push(new js(null,i))}function mu(t){return typeof t=="function"}function tB(t){return typeof t=="boolean"}function nB(t){return t&&mu(t.canLoad)}function rB(t){return t&&mu(t.canActivate)}function iB(t){return t&&mu(t.canActivateChild)}function oB(t){return t&&mu(t.canDeactivate)}function sB(t){return t&&mu(t.canMatch)}function wR(t){return t instanceof or||t?.name==="EmptyError"}var Wh=Symbol("INITIAL_VALUE");function Hs(){return dt(t=>zl(t.map(e=>e.pipe(Sn(1),Wl(Wh)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===Wh)return Wh;if(n===!1||aB(n))return n}return!0}),lt(e=>e!==Wh),Sn(1)))}function aB(t){return hi(t)||t instanceof $s}function cB(t,e){return He(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?K(ye(V({},n),{guardsResult:!0})):uB(s,r,i,t).pipe(He(a=>a&&tB(a)?lB(r,o,t,e):K(a)),X(a=>ye(V({},n),{guardsResult:a})))})}function uB(t,e,n,r){return Ee(t).pipe(He(i=>gB(i.component,i.route,n,e,r)),cr(i=>i!==!0,!0))}function lB(t,e,n,r){return Ee(e).pipe(ar(i=>ns(hB(i.route.parent,r),dB(i.route,r),pB(t,i.path,n),fB(t,i.route,n))),cr(i=>i!==!0,!0))}function dB(t,e){return t!==null&&e&&e(new cf(t)),K(!0)}function hB(t,e){return t!==null&&e&&e(new sf(t)),K(!0)}function fB(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>tc(()=>{let s=zs(e)??n,a=Gs(o,s),c=rB(a)?a.canActivate(e,t):Ue(s,()=>a(e,t));return wr(c).pipe(cr())}));return K(i).pipe(Hs())}function pB(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>ZU(s)).filter(s=>s!==null).map(s=>tc(()=>{let a=s.guards.map(c=>{let l=zs(s.node)??n,h=Gs(c,l),p=iB(h)?h.canActivateChild(r,t):Ue(l,()=>h(r,t));return wr(p).pipe(cr())});return K(a).pipe(Hs())}));return K(o).pipe(Hs())}function gB(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let c=zs(e)??i,l=Gs(a,c),h=oB(l)?l.canDeactivate(t,e,n,r):Ue(c,()=>l(t,e,n,r));return wr(h).pipe(cr())});return K(s).pipe(Hs())}function mB(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=Gs(s,t),c=nB(a)?a.canLoad(e,n):Ue(t,()=>a(e,n));return wr(c)});return K(o).pipe(Hs(),TR(r))}function TR(t){return Dl(et(e=>{if(typeof e!="boolean")throw ff(t,e)}),X(e=>e===!0))}function yB(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=Gs(s,t),c=sB(a)?a.canMatch(e,n):Ue(t,()=>a(e,n));return wr(c)});return K(o).pipe(Hs(),TR(r))}var hu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},fu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Fs(t){return es(new hu(t))}function vB(t){return es(new O(4e3,!1))}function _B(t){return es(ER(!1,Mt.GuardRejected))}var S_=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[oe])return vB(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,n,r,i,o){return EB(n,i,o).pipe(X(s=>{if(s instanceof $n)throw new fu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new fu(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new $n(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new me(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function EB(t,e,n){if(typeof t=="string")return K(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:h,title:p}=e;return wr(Ue(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:p})))}var A_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IB(t,e,n,r,i){let o=DR(t,e,n);return o.matched?(r=HU(e,r),yB(r,e,n,i).pipe(X(s=>s===!0?o:V({},A_)))):K(o)}function DR(t,e,n){if(e.path==="**")return wB(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},A_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||X0)(n,t,e);if(!i)return V({},A_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function wB(t){return{matched:!0,parameters:t.length>0?tR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Y0(t,e,n,r){return n.length>0&&bB(t,n,r)?{segmentGroup:new me(e,DB(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&CB(t,n,r)?{segmentGroup:new me(t.segments,TB(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function TB(t,e,n,r){let i={};for(let o of n)if(yf(t,e,o)&&!r[_n(o)]){let s=new me([],{});i[_n(o)]=s}return V(V({},r),i)}function DB(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&_n(r)!==oe){let i=new me([],{});n[_n(r)]=i}return n}function bB(t,e,n){return n.some(r=>yf(t,e,r)&&_n(r)!==oe)}function CB(t,e,n){return n.some(r=>yf(t,e,r))}function yf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function SB(t,e,n){return e.length===0&&!t.children[n]}var R_=class{};function AB(t,e,n,r,i,o,s="emptyOnly"){return new N_(t,e,n,r,i,s,o).recognize()}var RB=31,N_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new S_(this.urlSerializer,this.urlTree)}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=Y0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:n,rootSnapshot:r})=>{let i=new zt(r,n),o=new lu("",i),s=lR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new mo([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,n).pipe(X(r=>({children:r,rootSnapshot:n})),sr(r=>{if(r instanceof fu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof hu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(X(s=>s instanceof zt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ee(o).pipe(ar(s=>{let a=r.children[s],c=zU(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Gl((s,a)=>(s.push(...a),s)),zr(null),Fg(),He(s=>{if(s===null)return Fs(r);let a=bR(s);return NB(a),K(a)}))}processSegment(e,n,r,i,o,s,a){return Ee(n).pipe(ar(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(sr(l=>{if(l instanceof hu)return K(null);throw l}))),cr(c=>!!c),sr(c=>{if(wR(c))return SB(r,i,o)?K(new R_):Fs(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return _n(r)!==s&&(s===oe||!yf(i,o,r))?Fs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Fs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=DR(n,i,o);if(!c)return Fs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>RB&&(this.allowRedirects=!1));let y=new mo(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,J0(i),_n(i),i.component??i._loadedComponent??null,i,Z0(i)),w=hf(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(w.params),y.data=Object.freeze(w.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(dt(S=>this.applyRedirects.lineralizeSegments(i,S)),He(S=>this.processSegment(e,r,n,S.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=IB(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(dt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(dt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=c,w=new mo(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,J0(r),_n(r),r.component??r._loadedComponent??null,r,Z0(r)),N=hf(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data);let{segmentGroup:S,slicedSegments:M}=Y0(n,g,y,l);if(M.length===0&&S.hasChildren())return this.processChildren(h,l,S,w).pipe(X(H=>new zt(w,H)));if(l.length===0&&M.length===0)return K(new zt(w,[]));let L=_n(r)===o;return this.processSegment(h,l,S,M,L?oe:o,!0,w).pipe(X(H=>new zt(w,H instanceof zt?[H]:[])))}))):Fs(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):mB(e,n,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,n).pipe(et(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):_B(n))):K({routes:[],injector:e})}};function NB(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function MB(t){let e=t.value.routeConfig;return e&&e.path===""}function bR(t){let e=[],n=new Set;for(let r of t){if(!MB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=bR(r.children);e.push(new zt(r.value,i))}return e.filter(r=>!n.has(r))}function J0(t){return t.data||{}}function Z0(t){return t.resolve||{}}function PB(t,e,n,r,i,o){return He(s=>AB(t,e,n,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:c})=>ye(V({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function kB(t,e){return He(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of CR(c))s.add(l);let a=0;return Ee(s).pipe(ar(c=>o.has(c)?xB(c,r,t,e):(c.data=hf(c,c.parent,t).resolve,K(void 0))),et(()=>a++),rs(1),He(c=>a===s.size?K(n):xt))})}function CR(t){let e=t.children.map(n=>CR(n)).flat();return[t,...e]}function xB(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!yR(i)&&(o[pu]=i.title),tc(()=>(t.data=hf(t,t.parent,n).resolve,OB(o,t,e,r).pipe(X(s=>(t._resolvedData=s,t.data=V(V({},t.data),s),null)))))}function OB(t,e,n,r){let i=v_(t);if(i.length===0)return K({});let o={};return Ee(i).pipe(He(s=>FB(t[s],e,n,r).pipe(cr(),et(a=>{if(a instanceof $s)throw ff(new vo,a);o[s]=a}))),rs(1),X(()=>o),sr(s=>wR(s)?xt:es(s)))}function FB(t,e,n,r){let i=zs(e)??r,o=Gs(t,i),s=o.resolve?o.resolve(e,n):Ue(i,()=>o(e,n));return wr(s)}function m_(t){return dt(e=>{let n=t(e);return n?Ee(n).pipe(X(()=>e)):K(e)})}var O_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(n){return n.data[pu]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(SR),providedIn:"root"})}return t})(),SR=(()=>{class t extends O_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(q(q0))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ws=new U("",{providedIn:"root",factory:()=>({})}),yu=new U(""),AR=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(Lv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=wr(Ue(n,()=>r.loadComponent())).pipe(X(NR),et(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Bi(()=>{this.componentLoaders.delete(r)})),o=new Yo(i,()=>new Ye).pipe(Qo());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=RR(r,this.compiler,n,this.onLoadEndListener).pipe(Bi(()=>{this.childrenLoaders.delete(r)})),s=new Yo(o,()=>new Ye).pipe(Qo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RR(t,e,n,r){return wr(Ue(n,()=>t.loadChildren())).pipe(X(NR),He(i=>i instanceof _h||Array.isArray(i)?K(i):Ee(e.compileModuleAsync(i))),X(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(yu,[],{optional:!0,self:!0}).flat()),{routes:s.map(x_),injector:o}}))}function LB(t){return t&&typeof t=="object"&&"default"in t}function NR(t){return LB(t)?t.default:t}var vf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(VB),providedIn:"root"})}return t})(),VB=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),MR=new U("");var PR=new U(""),kR=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ye;transitionAbortWithErrorSubject=new Ye;configLoader=P(AR);environmentInjector=P(xe);destroyRef=P(ni);urlSerializer=P(gu);rootContexts=P(qs);location=P(Ms);inputBindingEnabled=P(mf,{optional:!0})!==null;titleStrategy=P(O_);options=P(Ws,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(vf);createViewTransition=P(MR,{optional:!0});navigationErrorHandler=P(PR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new rf(i)),r=i=>this.events.next(new of(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ye(V({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new ut(null),this.transitions.pipe(lt(r=>r!==null),dt(r=>{let i=!1;return K(r).pipe(dt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),xt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ye(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new Er(o.id,this.urlSerializer.serialize(o.rawUrl),c,su.IgnoredSameUrlNavigation)),o.resolve(!1),xt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return K(o).pipe(dt(c=>(this.events.next(new _o(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?xt:Promise.resolve(c))),PB(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),et(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ye(V({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new au(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new _o(c,this.urlSerializer.serialize(l),h,p);this.events.next(y);let w=gR(this.rootComponentType).snapshot;return this.currentTransition=r=ye(V({},o),{targetSnapshot:w,urlAfterRedirects:l,extras:ye(V({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,K(r)}else{let c="";return this.events.next(new Er(o.id,this.urlSerializer.serialize(o.extractedUrl),c,su.IgnoredByUrlHandlingStrategy)),o.resolve(!1),xt}}),et(o=>{let s=new Xh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),X(o=>(this.currentTransition=r=ye(V({},o),{guards:JU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),cB(this.environmentInjector,o=>this.events.next(o)),et(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw ff(this.urlSerializer,o.guardsResult);let s=new ef(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),lt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Mt.GuardRejected),!1)),m_(o=>{if(o.guards.canActivateChecks.length!==0)return K(o).pipe(et(s=>{let a=new tf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),dt(s=>{let a=!1;return K(s).pipe(kB(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Mt.NoDataFromResolver)}}))}),et(s=>{let a=new nf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),m_(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let l=zs(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(et(h=>{a.component=h}),X(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return zl(s(o.targetSnapshot.root)).pipe(zr(null),Sn(1))}),m_(()=>this.afterPreactivation()),dt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ee(a).pipe(X(()=>r)):K(r)}),X(o=>{let s=GU(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ye(V({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),et(()=>{this.events.next(new cu)}),YU(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Sn(1),Kl(new Z(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(lt(()=>!i&&!r.targetRouterState),et(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Mt.Aborted)}))),et({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new En(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Kl(this.transitionAbortWithErrorSubject.pipe(et(o=>{throw o}))),Bi(()=>{i||this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),sr(o=>{if(this.destroyed)return r.resolve(!1),xt;if(i=!0,IR(o))this.events.next(new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),QU(o)?this.events.next(new Bs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Us(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ue(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof $s){let{message:c,cancellationCode:l}=ff(this.urlSerializer,a);this.events.next(new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Bs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return xt}))}))}cancelNavigationTransition(n,r,i){let o=new Bn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jB(t){return t!==ru}var xR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(UB),providedIn:"root"})}return t})(),gf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},UB=(()=>{class t extends gf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ah(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),OR=(()=>{class t{urlSerializer=P(gu);options=P(Ws,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Ms);urlHandlingStrategy=P(vf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new $n;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof $n?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=gR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(BB),providedIn:"root"})}return t})(),BB=(()=>{class t extends OR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof _o?this.updateStateMemento():n instanceof Er?this.commitTransition(r):n instanceof au?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof cu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Bn&&n.code!==Mt.SupersededByNewNavigation&&n.code!==Mt.Redirect?this.restoreHistory(r):n instanceof Us?this.restoreHistory(r,!0):n instanceof En&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ah(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function F_(t,e){t.events.pipe(lt(n=>n instanceof En||n instanceof Bn||n instanceof Us||n instanceof Er),X(n=>n instanceof En||n instanceof Er?0:(n instanceof Bn?n.code===Mt.Redirect||n.code===Mt.SupersededByNewNavigation:!1)?2:1),lt(n=>n!==2),Sn(1)).subscribe(()=>{e()})}var $B={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ks=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(Eh);stateManager=P(OR);options=P(Ws,{optional:!0})||{};pendingTasks=P(On);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(kR);urlSerializer=P(gu);location=P(Ms);urlHandlingStrategy=P(vf);injector=P(xe);_events=new Ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(xR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(yu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(mf,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ke;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Bn&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof En)this.navigated=!0;else if(r instanceof Bs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jB(i.source)},s);this.scheduleNavigation(a,ru,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}$U(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ru,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=V({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Rt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(x_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=dR(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return hR(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=hi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ru,null,r)}navigate(n,r={skipLocationChange:!1}){return zB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=V({},$B):r===!1?i=V({},HB):i=r,hi(n))return G0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return G0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,c=g});let h=this.pendingTasks.add();return F_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new O(4008,!1)}var _f=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=wc(null);get href(){return Ss(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ye;applicationErrorHandler=P(Rt);options=P(Ws,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new Sh("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof En&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(hi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:hi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(Ie(Ks),Ie(Ir),Pc("tabindex"),Ie(uo),Ie(gn),Ie(Ns))};static \u0275dir=Ln({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&bh("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Th("href",i.reactiveHref(),iv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ah],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ah],replaceUrl:[2,"replaceUrl","replaceUrl",Ah],routerLink:"routerLink"},features:[co]})}return t})(),GB=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new _t;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof En&&this.update()})}ngAfterContentInit(){K(this.links.changes,K(null)).pipe(ts()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ee(n).pipe(ts()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=WB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(Ie(Ks),Ie(gn),Ie(uo),Ie(Rs),Ie(_f,8))};static \u0275dir=Ln({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&kv(o,_f,5),r&2){let s;xv(s=Ov())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[co]})}return t})();function WB(t){return!!t.paths}var KB=new U("");function QB(t,...e){return Ft([{provide:yu,multi:!0,useValue:t},[],{provide:Ir,useFactory:YB,deps:[Ks]},{provide:wh,multi:!0,useFactory:JB},e.map(n=>n.\u0275providers)])}function YB(t){return t.routerState.root}function JB(){let t=P(Ze);return e=>{let n=t.get(ci);if(e!==n.components[0])return;let r=t.get(Ks),i=t.get(ZB);t.get(XB)===1&&r.initialNavigation(),t.get(e$,null,{optional:!0})?.setUpPreloading(),t.get(KB,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ZB=new U("",{factory:()=>new Ye}),XB=new U("",{providedIn:"root",factory:()=>1});var e$=new U("");var FR=()=>{};var jR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t$=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ef={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;c||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new V_;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},V_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},n$=function(t){let e=jR(t);return Ef.encodeByteArray(e,!0)},_u=function(t){return n$(t).replace(/\./g,"")},If=function(t){try{return Ef.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function U_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var r$=()=>U_().__FIREBASE_DEFAULTS__,i$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},o$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&If(t[1]);return e&&JSON.parse(e)},wf=()=>{try{return FR()||r$()||i$()||o$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},B_=t=>{var e,n;return(n=(e=wf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UR=t=>{let e=B_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$_=()=>{var t;return(t=wf())===null||t===void 0?void 0:t.config},H_=t=>{var e;return(e=wf())===null||e===void 0?void 0:e[`_${t}`]};var Eo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function fi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Tf(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function BR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_u(JSON.stringify(n)),_u(JSON.stringify(s)),""].join(".")}var vu={};function s$(){let t={prod:[],emulator:[]};for(let e of Object.keys(vu))vu[e]?t.emulator.push(e):t.prod.push(e);return t}function a$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var LR=!1;function Df(t,e){if(typeof window>"u"||typeof document>"u"||!fi(window.location.host)||vu[t]===e||vu[t]||LR)return;vu[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=s$().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{LR=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=a$(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),S=document.getElementById(N)||document.createElement("a"),M=n("preprendIcon"),L=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let H=g.element;a(H),h(S,N);let z=l();c(L,M),H.append(L,w,S,z),document.body.appendChild(H)}o?(w.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function c$(){var t;let e=(t=wf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GR(){let t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WR(){return!c$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Eu(){try{return typeof indexedDB=="object"}catch{return!1}}function KR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var u$="FirebaseError",Gt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=u$,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}},In=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?l$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gt(i,a,r)}};function l$(t,e){return t.replace(d$,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var d$=/\{\$([^}]+)}/g;function QR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(VR(o)&&VR(s)){if(!Hn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function VR(t){return t!==null&&typeof t=="object"}function Qs(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ys(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Js(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YR(t,e){let n=new j_(t,e);return n.subscribe.bind(n)}var j_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=L_),i.error===void 0&&(i.error=L_),i.complete===void 0&&(i.complete=L_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function h$(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function L_(){}var uoe=4*60*60*1e3;function Be(t){return t&&t._delegate?t._delegate:t}var Pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Io="[DEFAULT]";var z_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Eo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p$(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function f$(t){return t===Io?void 0:t}function p$(t){return t.instantiationMode==="EAGER"}var bf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new z_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var g$=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),m$={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},y$=le.INFO,v$={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},_$=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=v$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zn=class{constructor(e){this.name=e,this._logLevel=y$,this._logHandler=_$,this._userLogHandler=null,g$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var E$=(t,e)=>e.some(n=>t instanceof n),JR,ZR;function I$(){return JR||(JR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w$(){return ZR||(ZR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XR=new WeakMap,G_=new WeakMap,eN=new WeakMap,q_=new WeakMap,K_=new WeakMap;function T$(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&XR.set(n,t)}).catch(()=>{}),K_.set(e,t),e}function D$(t){if(G_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});G_.set(t,e)}var W_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return G_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tN(t){W_=t(W_)}function b$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Cf(this),e,...n);return eN.set(r,e.sort?e.sort():[e]),qn(r)}:w$().includes(t)?function(...e){return t.apply(Cf(this),e),qn(XR.get(this))}:function(...e){return qn(t.apply(Cf(this),e))}}function C$(t){return typeof t=="function"?b$(t):(t instanceof IDBTransaction&&D$(t),E$(t,I$())?new Proxy(t,W_):t)}function qn(t){if(t instanceof IDBRequest)return T$(t);if(q_.has(t))return q_.get(t);let e=C$(t);return e!==t&&(q_.set(t,e),K_.set(e,t)),e}var Cf=t=>K_.get(t);function rN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=qn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(qn(s.result),c.oldVersion,c.newVersion,qn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var S$=["get","getKey","getAll","getAllKeys","count"],A$=["put","add","delete","clear"],Q_=new Map;function nN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Q_.get(e))return Q_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=A$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S$.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Q_.set(e,o),o}tN(t=>ye(V({},t),{get:(e,n,r)=>nN(e,n)||t.get(e,n,r),has:(e,n)=>!!nN(e,n)||t.has(e,n)}));var J_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R$(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function R$(t){let e=t.getComponent();return e?.type==="VERSION"}var Z_="@firebase/app",iN="0.13.2";var Tr=new zn("@firebase/app"),N$="@firebase/app-compat",M$="@firebase/analytics-compat",P$="@firebase/analytics",k$="@firebase/app-check-compat",x$="@firebase/app-check",O$="@firebase/auth",F$="@firebase/auth-compat",L$="@firebase/database",V$="@firebase/data-connect",j$="@firebase/database-compat",U$="@firebase/functions",B$="@firebase/functions-compat",$$="@firebase/installations",H$="@firebase/installations-compat",z$="@firebase/messaging",q$="@firebase/messaging-compat",G$="@firebase/performance",W$="@firebase/performance-compat",K$="@firebase/remote-config",Q$="@firebase/remote-config-compat",Y$="@firebase/storage",J$="@firebase/storage-compat",Z$="@firebase/firestore",X$="@firebase/ai",eH="@firebase/firestore-compat",tH="firebase",nH="11.10.0";var X_="[DEFAULT]",rH={[Z_]:"fire-core",[N$]:"fire-core-compat",[P$]:"fire-analytics",[M$]:"fire-analytics-compat",[x$]:"fire-app-check",[k$]:"fire-app-check-compat",[O$]:"fire-auth",[F$]:"fire-auth-compat",[L$]:"fire-rtdb",[V$]:"fire-data-connect",[j$]:"fire-rtdb-compat",[U$]:"fire-fn",[B$]:"fire-fn-compat",[$$]:"fire-iid",[H$]:"fire-iid-compat",[z$]:"fire-fcm",[q$]:"fire-fcm-compat",[G$]:"fire-perf",[W$]:"fire-perf-compat",[K$]:"fire-rc",[Q$]:"fire-rc-compat",[Y$]:"fire-gcs",[J$]:"fire-gcs-compat",[Z$]:"fire-fst",[eH]:"fire-fst-compat",[X$]:"fire-vertex","fire-js":"fire-js",[tH]:"fire-js-all"};var Iu=new Map,iH=new Map,eE=new Map;function oN(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){let e=t.name;if(eE.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;eE.set(e,t);for(let n of Iu.values())oN(n,t);for(let n of iH.values())oN(n,t);return!0}function Zs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kt(t){return t==null?!1:t.settings!==void 0}var oH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new In("app","Firebase",oH);var tE=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}};var gi=nH;function uN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:X_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(n||(n=$_()),!n)throw pi.create("no-options");let o=Iu.get(i);if(o){if(Hn(n,o.options)&&Hn(r,o.config))return o;throw pi.create("duplicate-app",{appName:i})}let s=new bf(i);for(let c of eE.values())s.addComponent(c);let a=new tE(n,r,s);return Iu.set(i,a),a}function wo(t=X_){let e=Iu.get(t);if(!e&&t===X_&&$_())return uN();if(!e)throw pi.create("no-app",{appName:t});return e}function Sf(){return Array.from(Iu.values())}function Ve(t,e,n){var r;let i=(r=rH[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(a.join(" "));return}wn(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var sH="firebase-heartbeat-database",aH=1,wu="firebase-heartbeat-store",Y_=null;function lN(){return Y_||(Y_=rN(sH,aH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),Y_}function cH(t){return _(this,null,function*(){try{let n=(yield lN()).transaction(wu),r=yield n.objectStore(wu).get(dN(t));return yield n.done,r}catch(e){if(e instanceof Gt)Tr.warn(e.message);else{let n=pi.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(n.message)}}})}function sN(t,e){return _(this,null,function*(){try{let r=(yield lN()).transaction(wu,"readwrite");yield r.objectStore(wu).put(e,dN(t)),yield r.done}catch(n){if(n instanceof Gt)Tr.warn(n.message);else{let r=pi.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(r.message)}}})}function dN(t){return`${t.name}!${t.options.appId}`}var uH=1024,lH=30,nE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new rE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=aN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>lH){let s=hH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=aN(),{heartbeatsToSend:r,unsentEntries:i}=dH(this._heartbeatsCache.heartbeats),o=_u(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Tr.warn(n),""}})}};function aN(){return new Date().toISOString().substring(0,10)}function dH(t,e=uH){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),cN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var rE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Eu()?KR().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield cH(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cN(t){return _u(JSON.stringify({version:2,heartbeats:t})).length}function hH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function fH(t){wn(new Pt("platform-logger",e=>new J_(e),"PRIVATE")),wn(new Pt("heartbeat",e=>new nE(e),"PRIVATE")),Ve(Z_,iN,t),Ve(Z_,iN,"esm2017"),Ve("fire-js","")}fH("");var pH="firebase",gH="11.10.0";Ve(pH,gH,"app");function hN(t){t===void 0&&(t=P(Ze));let e=t.get(ri);return n=>new Z(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var mi=new As("ANGULARFIRE2_VERSION");function Tu(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ea=(t,e)=>{let n=e?[e]:Sf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Xs=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Xs||{}),fN=zv()&&typeof Zone<"u"?Xs.WARN:Xs.SILENT;var Af=class{zone;delegate;constructor(e,n=xg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},yi=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=P(ge);this.outsideAngular=n.runOutsideAngular(()=>new Af(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Af(typeof Zone>"u"?void 0:Zone.current,ec))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pN=!1;function mH(t,e){!pN&&(fN>Xs.SILENT||zv())&&(pN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),fN>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function yH(t){let e=P(ge,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function To(t){let e=P(ge,{optional:!0});return e?e.run(()=>t()):t()}var vH=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Ue(n,()=>To(()=>t.apply(void 0,r)))),Tn=(t,e,n)=>(n||=e?Xs.WARN:Xs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(yi),s=P(ri),a=P(xe)}catch{return mH(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=To(()=>s.add())),i[l]=vH(i[l],r,a));let c=yH(()=>t.apply(this,i));return e?c instanceof Z?c.pipe(Hr(o.outsideAngular),$r(o.insideAngular),hN(a)):c instanceof Promise?To(()=>{let l=s.add();return new Promise((h,p)=>{c.then(g=>Ue(a,()=>To(()=>h(g))),g=>Ue(a,()=>To(()=>p(g)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:To(()=>c):c instanceof Z?c.pipe(Hr(o.outsideAngular),$r(o.insideAngular)):To(()=>c)});var Dr=class{constructor(e){return e}},Do=class{constructor(){return Sf()}};function _H(t){return t&&t.length===1?t[0]:new Dr(wo())}var iE=new U("angularfire2._apps"),EH={provide:Dr,useFactory:_H,deps:[[new Nt,iE]]},IH={provide:Do,deps:[[new Nt,iE]]};function wH(t){return(e,n)=>{let r=n.get(oi);Ve("angularfire",mi.full,"core"),Ve("angularfire",mi.full,"app"),Ve("angular",WA.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Dr(i)}}function ise(t,...e){return Ft([EH,IH,{provide:iE,useFactory:wH(t),multi:!0,deps:[ge,Ze,yi,...e]}])}var TH=new Map,DH={activated:!1,tokenObservers:[]},bH={initialized:!1,enabled:!1};function Dn(t){return TH.get(t)||Object.assign({},DH)}function vN(){return bH}var CH="https://content-firebaseappcheck.googleapis.com/v1";var SH="exchangeDebugToken",gN={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},fse=24*60*60*1e3;var aE=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Eo,this.pending.promise.catch(n=>{}),yield AH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Eo,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function AH(t){return new Promise(e=>{setTimeout(e,t)})}var RH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},vi=new In("appCheck","AppCheck",RH);function _N(t){if(!Dn(t).activated)throw vi.create("use-before-activation",{appName:t.name})}function EN(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(y){throw vi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(c.status!==200)throw vi.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(y){throw vi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw vi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function IN(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${CH}/projects/${n}/apps/${r}:${SH}?key=${i}`,body:{debug_token:e}}}var NH="firebase-app-check-database",MH=1,cE="firebase-app-check-store";var Rf=null;function PH(){return Rf||(Rf=new Promise((t,e)=>{try{let n=indexedDB.open(NH,MH);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(vi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(cE,{keyPath:"compositeKey"})}}}catch(n){e(vi.create("storage-open",{originalErrorMessage:n?.message}))}}),Rf)}function kH(t,e){return xH(OH(t),e)}function xH(t,e){return _(this,null,function*(){let r=(yield PH()).transaction(cE,"readwrite"),o=r.objectStore(cE).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(vi.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function OH(t){return`${t.options.appId}-${t.name}`}var Du=new zn("@firebase/app-check");function oE(t,e){return Eu()?kH(t,e).catch(n=>{Du.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function wN(){return vN().enabled}function TN(){return _(this,null,function*(){let t=vN();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var FH={error:"UNKNOWN_ERROR"};function LH(t){return Ef.encodeString(JSON.stringify(t),!1)}function uE(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;_N(r);let i=Dn(r),o=i.token,s;if(o&&!bu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(bu(l)?o=l:yield oE(r,void 0))}if(!e&&o&&bu(o))return{token:o.token};let a=!1;if(wN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=EN(IN(r,yield TN()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield oE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Du.warn(l.message):n&&Du.error(l),sE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Dn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Du.warn(l.message):n&&Du.error(l),s=l}let c;return o?s?bu(o)?c={token:o.token,internalError:s}:c=sE(s):(c={token:o.token},i.token=o,yield oE(r,o)):c=sE(s),a&&BH(r,c),c})}function VH(t){return _(this,null,function*(){let e=t.app;_N(e);let{provider:n}=Dn(e);if(wN()){let r=yield TN(),{token:i}=yield EN(IN(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function jH(t,e,n,r){let{app:i}=t,o=Dn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&bu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),mN(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>mN(t))}function DN(t,e){let n=Dn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function mN(t){let{app:e}=t,n=Dn(e),r=n.tokenRefresher;r||(r=UH(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function UH(t){let{app:e}=t;return new aE(()=>_(null,null,function*(){let n=Dn(e),r;if(n.token?r=yield uE(t,!0):r=yield uE(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Dn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},gN.RETRIAL_MIN_WAIT,gN.RETRIAL_MAX_WAIT)}function BH(t,e){let n=Dn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function bu(t){return t.expireTimeMillis-Date.now()>0}function sE(t){return{token:LH(FH),error:t}}var lE=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Dn(this.app);for(let n of e)DN(this.app,n.next);return Promise.resolve()}};function $H(t,e){return new lE(t,e)}function HH(t){return{getToken:e=>uE(t,e),getLimitedUseToken:()=>VH(t),addTokenListener:e=>jH(t,"INTERNAL",e),removeTokenListener:e=>DN(t.app,e)}}var zH="@firebase/app-check",qH="0.10.1";var GH="app-check",yN="app-check-internal";function WH(){wn(new Pt(GH,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return $H(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(yN).initialize()})),wn(new Pt(yN,t=>{let e=t.getProvider("app-check").getImmediate();return HH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ve(zH,qH)}WH();var KH="app-check";var ta=class{constructor(){return ea(KH)}};var QH=["localhost","0.0.0.0","127.0.0.1"],Cse=typeof window<"u"&&QH.includes(window.location.hostname);function UN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BN=UN,$N=new In("auth","Firebase",UN());var Of=new zn("@firebase/auth");function YH(t,...e){Of.logLevel<=le.WARN&&Of.warn(`Auth (${gi}): ${t}`,...e)}function Mf(t,...e){Of.logLevel<=le.ERROR&&Of.error(`Auth (${gi}): ${t}`,...e)}function nn(t,...e){throw kE(t,...e)}function bn(t,...e){return kE(t,...e)}function PE(t,e,n){let r=Object.assign(Object.assign({},BN()),{[e]:n});return new In("auth","Firebase",r).create(e,{appName:t.name})}function Sr(t){return PE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JH(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nn(t,"argument-error"),PE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kE(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $N.create(t,...e)}function J(t,e,...n){if(!t)throw kE(e,...n)}function br(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Mf(e),new Error(e)}function Ar(t,e){t||br(e)}function fE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZH(){return bN()==="http:"||bN()==="https:"}function bN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function XH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZH()||zR()||"connection"in navigator)?navigator.onLine:!0}function e4(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var bo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=$R()||qR()}get(){return XH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function xE(t,e){Ar(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ff=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var t4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var n4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r4=new bo(3e4,6e4);function Ii(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function wi(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return HN(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Qs(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},l);return HR()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&fi(t.emulatorConfig.host)&&(y.credentials="include"),Ff.fetch()(yield zN(t,t.config.apiHost,n,p),y)}))})}function HN(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},t4),e);try{let i=new pE(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Nf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nf(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Nf(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Nf(t,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw PE(t,h,l);nn(t,h)}}catch(i){if(i instanceof Gt)throw i;nn(t,"network-request-failed",{message:String(i)})}})}function xu(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield wi(t,e,n,r,i);return"mfaPendingCredential"in l&&nn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function zN(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?xE(t.config,i):`${t.config.apiScheme}://${i}`;return n4.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function i4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var pE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),r4.get())})}};function Nf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=bn(t,e,r);return i.customData._tokenResponse=n,i}function CN(t){return t!==void 0&&t.enterprise!==void 0}var gE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return i4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function o4(t,e){return _(this,null,function*(){return wi(t,"GET","/v2/recaptchaConfig",Ii(t,e))})}function s4(t,e){return _(this,null,function*(){return wi(t,"POST","/v1/accounts:delete",e)})}function Lf(t,e){return _(this,null,function*(){return wi(t,"POST","/v1/accounts:lookup",e)})}function Su(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function OE(t,e=!1){return _(this,null,function*(){let n=Be(t),r=yield n.getIdToken(e),i=FE(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Su(dE(i.auth_time)),issuedAtTime:Su(dE(i.iat)),expirationTime:Su(dE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function dE(t){return Number(t)*1e3}function FE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{let i=If(n);return i?JSON.parse(i):(Mf("Failed to decode base64 JWT payload"),null)}catch(i){return Mf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SN(t){let e=FE(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ru(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Gt&&a4(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function a4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var mE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Nu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vf(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ru(t,Lf(n,{idToken:r}));J(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?qN(o.providerUserInfo):[],a=c4(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Nu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function LE(t){return _(this,null,function*(){let e=Be(t);yield Vf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function c4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qN(t){return t.map(e=>{var{providerId:n}=e,r=Cl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function u4(t,e){return _(this,null,function*(){let n=yield HN(t,{},()=>_(null,null,function*(){let r=Qs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield zN(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return t.emulatorConfig&&fi(t.emulatorConfig.host)&&(c.credentials="include"),Ff.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function l4(t,e){return _(this,null,function*(){return wi(t,"POST","/v2/accounts:revokeToken",Ii(t,e))})}var Au=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");let n=SN(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield u4(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return br("not implemented")}};function _i(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ei=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Cl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Ru(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return OE(this,e)}reload(){return LE(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Vf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(kt(this.auth.app))return Promise.reject(Sr(this.auth));let e=yield this.getIdToken();return yield Ru(this,s4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,M=(l=n.createdAt)!==null&&l!==void 0?l:void 0,L=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:z,isAnonymous:Me,providerData:pe,stsTokenManager:D}=n;J(H&&D,e,"internal-error");let v=Au.fromJSON(this.name,D);J(typeof H=="string",e,"internal-error"),_i(p,e.name),_i(g,e.name),J(typeof z=="boolean",e,"internal-error"),J(typeof Me=="boolean",e,"internal-error"),_i(y,e.name),_i(w,e.name),_i(N,e.name),_i(S,e.name),_i(M,e.name),_i(L,e.name);let I=new t({uid:H,auth:e,email:g,emailVerified:z,displayName:p,isAnonymous:Me,photoURL:w,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:M,lastLoginAt:L});return pe&&Array.isArray(pe)&&(I.providerData=pe.map(T=>Object.assign({},T))),S&&(I._redirectEventId=S),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Au;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vf(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?qN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Au;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Nu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var AN=new Map;function Cr(t){Ar(t instanceof Function,"Expected a class definition");let e=AN.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AN.set(t,e),e)}var d4=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),yE=d4;function Pf(t,e,n){return`firebase:${t}:${e}:${n}`}var jf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Pf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Pf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Lf(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Cr(yE),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Cr(yE),s=Pf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Lf(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Ei._fromGetAccountInfoResponse(e,g,h)}else p=Ei._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function RN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JN(e))return"Blackberry";if(ZN(e))return"Webos";if(WN(e))return"Safari";if((e.includes("chrome/")||KN(e))&&!e.includes("edge/"))return"Chrome";if(YN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function GN(t=it()){return/firefox\//i.test(t)}function WN(t=it()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KN(t=it()){return/crios\//i.test(t)}function QN(t=it()){return/iemobile/i.test(t)}function YN(t=it()){return/android/i.test(t)}function JN(t=it()){return/blackberry/i.test(t)}function ZN(t=it()){return/webos/i.test(t)}function VE(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h4(t=it()){var e;return VE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function f4(){return GR()&&document.documentMode===10}function XN(t=it()){return VE(t)||YN(t)||ZN(t)||JN(t)||/windows phone/i.test(t)||QN(t)}function eM(t,e=[]){let n;switch(t){case"Browser":n=RN(it());break;case"Worker":n=`${RN(it())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gi}/${r}`}var vE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function p4(n){return _(this,arguments,function*(t,e={}){return wi(t,"GET","/v2/passwordPolicy",Ii(t,e))})}var g4=6,_E=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:g4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var EE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uf(this),this.idTokenSubscription=new Uf(this),this.beforeStateQueue=new vE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$N,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield jf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Lf(this,{idToken:e}),r=yield Ei._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(kt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Vf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=e4()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(kt(this.app))return Promise.reject(Sr(this));let n=e?Be(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return kt(this.app)?Promise.reject(Sr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return kt(this.app)?Promise.reject(Sr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Cr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield p4(this),n=new _E(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new In("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield l4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Cr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield jf.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&YH(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ti(t){return Be(t)}var Uf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YR(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Qf={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m4(t){Qf=t}function tM(t){return Qf.loadJS(t)}function y4(){return Qf.recaptchaEnterpriseScript}function v4(){return Qf.gapiScript}function nM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var IE=class{constructor(){this.enterprise=new wE}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},wE=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var _4="recaptcha-enterprise",rM="NO_RECAPTCHA",TE=class{constructor(e){this.type=_4,this.auth=Ti(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){o4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new gE(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;CN(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(rM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&CN(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=y4();c.length!==0&&(c+=a),tM(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Cu(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new TE(t),s;if(i)s=rM;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function DE(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Cu(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Cu(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Cu(t,e,n);return r(t,a).catch(c=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Cu(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)}))}else{let a=yield Cu(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function jE(t,e){let n=Zs(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Hn(o,e??{}))return i;nn(i,"already-initialized")}return n.initialize({options:e})}function E4(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Cr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function UE(t,e,n){let r=Ti(t);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=iM(e),{host:s,port:a}=I4(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(Hn(l,r.config.emulator)&&Hn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,fi(s)?(Tf(`${o}//${s}${c}`),Df("Auth",!0)):i||w4()}function iM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I4(t){let e=iM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:NN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:NN(s)}}}function NN(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function w4(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ra=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}};function T4(t,e){return _(this,null,function*(){return wi(t,"POST","/v1/accounts:signUp",e)})}function D4(t,e){return _(this,null,function*(){return xu(t,"POST","/v1/accounts:signInWithPassword",Ii(t,e))})}function b4(t,e){return _(this,null,function*(){return xu(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))})}function C4(t,e){return _(this,null,function*(){return xu(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))})}var Mu=class t extends ra{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DE(e,n,"signInWithPassword",D4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return b4(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DE(e,r,"signUpPassword",T4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return C4(e,{idToken:n,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function na(t,e){return _(this,null,function*(){return xu(t,"POST","/v1/accounts:signInWithIdp",Ii(t,e))})}var S4="http://localhost",Bf=class t extends ra{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Cl(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return na(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,na(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,na(e,n)}buildRequest(){let e={requestUri:S4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qs(n)}return e}};function A4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R4(t){let e=Ys(Js(t)).link,n=e?Ys(Js(e)).deep_link_id:null,r=Ys(Js(t)).deep_link_id;return(r?Ys(Js(r)).link:null)||r||n||e||t}var $f=class t{constructor(e){var n,r,i,o,s,a;let c=Ys(Js(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=A4((i=c.mode)!==null&&i!==void 0?i:null);J(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=R4(e);try{return new t(n)}catch{return null}}};var oM=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Mu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=$f.parseLink(r);return J(i,"argument-error"),Mu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Pu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Hf=class extends Pu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var BE=(()=>{class t extends Hf{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Bf._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function N4(t,e){return _(this,null,function*(){return xu(t,"POST","/v1/accounts:signUp",Ii(t,e))})}var ia=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Ei._fromIdTokenResponse(e,r,i),s=MN(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=MN(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function MN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var bE=class t extends Gt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function sM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bE._fromErrorAndOperation(t,o,e,r):o})}function M4(t,e,n=!1){return _(this,null,function*(){let r=yield Ru(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ia._forOperation(t,"link",r)})}function P4(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(kt(r.app))return Promise.reject(Sr(r));let i="reauthenticate";try{let o=yield Ru(t,sM(r,i,e,t),n);J(o.idToken,r,"internal-error");let s=FE(o.idToken);J(s,r,"internal-error");let{sub:a}=s;return J(t.uid===a,r,"user-mismatch"),ia._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&nn(r,"user-mismatch"),o}})}function aM(t,e,n=!1){return _(this,null,function*(){if(kt(t.app))return Promise.reject(Sr(t));let r="signIn",i=yield sM(t,r,e),o=yield ia._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function $E(t,e){return _(this,null,function*(){return aM(Ti(t),e)})}function cM(t){return _(this,null,function*(){let e=Ti(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function HE(t,e,n){return _(this,null,function*(){if(kt(t.app))return Promise.reject(Sr(t));let r=Ti(t),s=yield DE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N4,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&cM(t),c}),a=yield ia._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function zE(t,e,n){return kt(t.app)?Promise.reject(Sr(t)):$E(Be(t),oM.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&cM(t),r}))}function Yf(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function qE(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function Jf(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function GE(t){return Be(t).signOut()}var zf="__sak";var qf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zf,"1"),this.storage.removeItem(zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var k4=1e3,x4=10,O4=(()=>{class t extends qf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);f4()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,x4):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},k4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Ur(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Ur(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Ur(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),uM=O4;var F4=(()=>{class t extends qf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),WE=F4;function L4(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var V4=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield L4(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function KE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var CE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=KE("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Gn(){return window}function j4(t){Gn().location.href=t}function lM(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}function U4(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function B4(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $4(){return lM()?self:null}var dM="firebaseLocalStorageDb",H4=1,Gf="firebaseLocalStorage",hM="fbase_key",Co=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Zf(t,e){return t.transaction([Gf],e?"readwrite":"readonly").objectStore(Gf)}function z4(){let t=indexedDB.deleteDatabase(dM);return new Co(t).toPromise()}function SE(){let t=indexedDB.open(dM,H4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Gf,{keyPath:hM})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Gf)?e(r):(r.close(),yield z4(),e(yield SE()))}))})}function PN(t,e,n){return _(this,null,function*(){let r=Zf(t,!0).put({[hM]:e,value:n});return new Co(r).toPromise()})}function q4(t,e){return _(this,null,function*(){let n=Zf(t,!1).get(e),r=yield new Co(n).toPromise();return r===void 0?null:r.value})}function kN(t,e){let n=Zf(t,!0).delete(e);return new Co(n).toPromise()}var G4=800,W4=3,K4=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield SE(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>W4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return lM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=V4._getInstance($4()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield U4(),!this.activeServiceWorker)return;this.sender=new CE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||B4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield SE();return yield PN(n,zf,"1"),yield kN(n,zf),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>PN(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>q4(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>kN(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=Zf(o,!1).getAll();return new Co(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),G4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),fM=K4;var xse=nM("rcb"),Ose=new bo(3e4,6e4);function pM(t,e){return e?Cr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ku=class extends ra{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Q4(t){return aM(t.auth,new ku(t),t.bypassAuthState)}function Y4(t){let{auth:e,user:n}=t;return J(n,e,"internal-error"),P4(n,new ku(t),t.bypassAuthState)}function J4(t){return _(this,null,function*(){let{auth:e,user:n}=t;return J(n,e,"internal-error"),M4(n,new ku(t),t.bypassAuthState)})}var Wf=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q4;case"linkViaPopup":case"linkViaRedirect":return J4;case"reauthViaPopup":case"reauthViaRedirect":return Y4;default:nn(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Z4=new bo(2e3,1e4);function Xf(t,e,n){return _(this,null,function*(){if(kt(t.app))return Promise.reject(bn(t,"operation-not-supported-in-this-environment"));let r=Ti(t);JH(t,e,Pu);let i=pM(r,n);return new X4(r,"signInViaPopup",e,i).executeNotNull()})}var X4=(()=>{class t extends Wf{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return J(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){Ar(this.filter.length===1,"Popup operations only handle one event");let n=KE();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,Z4.get())};n()}}t.currentPopupAction=null;return t})(),ez="pendingRedirect",kf=new Map,AE=class t extends Wf{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=kf.get(this.auth._key());if(!e){try{let r=(yield tz(this.resolver,this.auth))?yield Ur(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Ur(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ur(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function tz(t,e){return _(this,null,function*(){let n=iz(e),r=rz(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function nz(t,e){kf.set(t._key(),e)}function rz(t){return Cr(t._redirectPersistence)}function iz(t){return Pf(ez,t.config.apiKey,t.name)}function oz(t,e,n=!1){return _(this,null,function*(){if(kt(t.app))return Promise.reject(Sr(t));let r=Ti(t),i=pM(r,e),s=yield new AE(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var sz=10*60*1e3,RE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!az(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sz&&this.cachedEventUids.clear(),this.cachedEventUids.has(xN(e))}saveEventToCache(e){this.cachedEventUids.add(xN(e)),this.lastProcessedEventTime=Date.now()}};function xN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function az(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gM(t);default:return!1}}function cz(n){return _(this,arguments,function*(t,e={}){return wi(t,"GET","/v1/projects",e)})}var uz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lz=/^https?/;function dz(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield cz(t);for(let n of e)try{if(hz(n))return}catch{}nn(t,"unauthorized-domain")})}function hz(t){let e=fE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!lz.test(n))return!1;if(uz.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var fz=new bo(3e4,6e4);function ON(){let t=Gn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pz(t){return new Promise((e,n)=>{var r,i,o;function s(){ON(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ON(),n(bn(t,"network-request-failed"))},timeout:fz.get()})}if(!((i=(r=Gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Gn().gapi)===null||o===void 0)&&o.load)s();else{let a=nM("iframefcb");return Gn()[a]=()=>{gapi.load?s():n(bn(t,"network-request-failed"))},tM(`${v4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw xf=null,e})}var xf=null;function gz(t){return xf=xf||pz(t),xf}var mz=new bo(5e3,15e3),yz="__/auth/iframe",vz="emulator/auth/iframe",_z={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ez=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iz(t){let e=t.config;J(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?xE(e,vz):`https://${t.config.authDomain}/${yz}`,r={apiKey:e.apiKey,appName:t.name,v:gi},i=Ez.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Qs(r).slice(1)}`}function wz(t){return _(this,null,function*(){let e=yield gz(t),n=Gn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:Iz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_z,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=bn(t,"network-request-failed"),a=Gn().setTimeout(()=>{o(s)},mz.get());function c(){Gn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var Tz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dz=500,bz=600,Cz="_blank",Sz="http://localhost",Kf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Az(t,e,n,r=Dz,i=bz){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Tz),{width:r.toString(),height:i.toString(),top:o,left:s}),l=it().toLowerCase();n&&(a=KN(l)?Cz:n),GN(l)&&(e=e||Sz,c.scrollbars="yes");let h=Object.entries(c).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(h4(l)&&a!=="_self")return Rz(e||"",a),new Kf(null);let p=window.open(e||"",a,h);J(p,t,"popup-blocked");try{p.focus()}catch{}return new Kf(p)}function Rz(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Nz="__/auth/handler",Mz="emulator/auth/handler",Pz=encodeURIComponent("fac");function FN(t,e,n,r,i,o){return _(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gi,eventId:i};if(e instanceof Pu){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",QR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Hf){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield t._getAppCheckToken(),l=c?`#${Pz}=${encodeURIComponent(c)}`:"";return`${kz(t)}?${Qs(a).slice(1)}${l}`})}function kz({config:t}){return t.emulator?xE(t,Mz):`https://${t.authDomain}/${Nz}`}var hE="webStorageSupport",NE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WE,this._completeRedirectFn=oz,this._overrideRedirectResult=nz}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Ar((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield FN(e,n,r,fE(),i);return Az(e,s,KE())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield FN(e,n,r,fE(),i);return j4(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ar(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield wz(e),r=new RE(e);return n.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hE,{type:hE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[hE];s!==void 0&&n(!!s),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XN()||WN()||VE()}},mM=NE;var LN="@firebase/auth",VN="1.10.8";var ME=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Oz(t){wn(new Pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eM(t)},l=new EE(r,i,o,c);return E4(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wn(new Pt("auth-internal",e=>{let n=Ti(e.getProvider("auth").getImmediate());return(r=>new ME(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(LN,VN,xz(t)),Ve(LN,VN,"esm2017")}var Fz=5*60,Lz=H_("authIdTokenMaxAge")||Fz,jN=null,Vz=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Lz)return;let i=n?.token;jN!==i&&(jN=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function QE(t=wo()){let e=Zs(t,"auth");if(e.isInitialized())return e.getImmediate();let n=jE(t,{popupRedirectResolver:mM,persistence:[fM,uM,WE]}),r=H_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Vz(o.toString());qE(n,s,()=>s(n.currentUser)),Yf(n,a=>s(a))}}let i=B_("auth");return i&&UE(n,`http://${i}`),n}function jz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}m4({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=bn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",jz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Oz("Browser");function vM(t){return new Z(function(e){var n=Jf(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var _M="auth",So=class{constructor(e){return e}},Ou=class{constructor(){return ea(_M)}};var YE=new U("angularfire2.auth-instances");function bq(t,e){let n=Tu(_M,t,e);return n&&new So(n)}function Cq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new So(r)}}var Sq={provide:Ou,deps:[[new Nt,YE]]},Aq={provide:So,useFactory:bq,deps:[[new Nt,YE],Dr]};function bae(t,...e){return Ve("angularfire",mi.full,"auth"),Ft([Aq,Sq,{provide:YE,useFactory:Cq(t),multi:!0,deps:[ge,Ze,yi,Do,[new Nt,ta],...e]}])}var EM=Tn(vM,!0);var IM=Tn(HE,!0,2);var Cae=Tn(QE,!0);var wM=Tn(zE,!0,2);var TM=Tn(GE,!0,2);var DM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bM={};var Rr,JE;(function(){var t;function e(D,v){function I(){}I.prototype=v.prototype,D.D=v.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(T,b,A){for(var E=Array(arguments.length-2),nr=2;nr<arguments.length;nr++)E[nr-2]=arguments[nr];return v.prototype[b].apply(T,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,I){I||(I=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(b=0;16>b;++b)T[b]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=D.g[0],I=D.g[1],b=D.g[2];var A=D.g[3],E=v+(A^I&(b^A))+T[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[1]+3905402710&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[2]+606105819&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+T[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[5]+1200080426&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[6]+2821735955&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+T[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[9]+2336552879&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[10]+4294925233&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(A^I&(b^A))+T[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(b^v&(I^b))+T[13]+4254626195&4294967295,A=v+(E<<12&4294967295|E>>>20),E=b+(I^A&(v^I))+T[14]+2792965006&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(v^b&(A^v))+T[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(b^A&(I^b))+T[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[6]+3225465664&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[11]+643717713&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+T[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[10]+38016083&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[15]+3634488961&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+T[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[14]+3275163606&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[3]+4107603335&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^A&(I^b))+T[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(v^I))+T[2]+4243563512&4294967295,A=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(A^v))+T[7]+1735328473&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(b^A))+T[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(I^b^A)+T[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[8]+2272392833&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[11]+1839030562&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+T[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[4]+1272893353&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[7]+4139469664&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+T[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[0]+3936430074&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[3]+3572445317&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^A)+T[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^b)+T[12]+3873151461&4294967295,A=v+(E<<11&4294967295|E>>>21),E=b+(A^v^I)+T[15]+530742520&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^v)+T[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(b^(I|~A))+T[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[7]+1126891415&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[14]+2878612391&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+T[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[3]+2399980690&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[10]+4293915773&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+T[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[15]+4264355552&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[6]+2734768916&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~A))+T[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~b))+T[11]+3174756917&4294967295,A=v+(E<<10&4294967295|E>>>22),E=b+(v^(A|~I))+T[2]+718787259&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var I=v-this.blockSize,T=this.B,b=this.h,A=0;A<v;){if(b==0)for(;A<=I;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<v;)if(T[b++]=D.charCodeAt(A++),b==this.blockSize){i(this,T),b=0;break}}else for(;A<v;)if(T[b++]=D[A++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var I=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=I&255,I/=256;for(this.u(D),D=Array(16),v=I=0;4>v;++v)for(var T=0;32>T;T+=8)D[I++]=this.g[v]>>>T&255;return D};function o(D,v){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=v(D)}function s(D,v){this.h=v;for(var I=[],T=!0,b=D.length-1;0<=b;b--){var A=D[b]|0;T&&A==v||(I[b]=A,T=!1)}this.g=I}var a={};function c(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return S(l(-D));for(var v=[],I=1,T=0;D>=I;T++)v[T]=D/I|0,I*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return S(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),T=p,b=0;b<D.length;b+=8){var A=Math.min(8,D.length-b),E=parseInt(D.substring(b,b+A),v);8>A?(A=l(Math.pow(v,A)),T=T.j(A).add(l(E))):(T=T.j(I),T=T.add(l(E)))}return T}var p=c(0),g=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(N(this))return-S(this).m();for(var D=0,v=1,I=0;I<this.g.length;I++){var T=this.i(I);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(N(this))return"-"+S(this).toString(D);for(var v=l(Math.pow(D,6)),I=this,T="";;){var b=z(I,v).g;I=M(I,b.j(v));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=b,w(I))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=M(this,D),N(D)?-1:w(D)?0:1};function S(D){for(var v=D.g.length,I=[],T=0;T<v;T++)I[T]=~D.g[T];return new s(I,~D.h).add(g)}t.abs=function(){return N(this)?S(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0,b=0;b<=v;b++){var A=T+(this.i(b)&65535)+(D.i(b)&65535),E=(A>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);T=E>>>16,A&=65535,E&=65535,I[b]=E<<16|A}return new s(I,I[I.length-1]&-2147483648?-1:0)};function M(D,v){return D.add(S(v))}t.j=function(D){if(w(this)||w(D))return p;if(N(this))return N(D)?S(this).j(S(D)):S(S(this).j(D));if(N(D))return S(this.j(S(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,I=[],T=0;T<2*v;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<D.g.length;b++){var A=this.i(T)>>>16,E=this.i(T)&65535,nr=D.i(b)>>>16,ka=D.i(b)&65535;I[2*T+2*b]+=E*ka,L(I,2*T+2*b),I[2*T+2*b+1]+=A*ka,L(I,2*T+2*b+1),I[2*T+2*b+1]+=E*nr,L(I,2*T+2*b+1),I[2*T+2*b+2]+=A*nr,L(I,2*T+2*b+2)}for(T=0;T<v;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=v;T<2*v;T++)I[T]=0;return new s(I,0)};function L(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function H(D,v){this.g=D,this.h=v}function z(D,v){if(w(v))throw Error("division by zero");if(w(D))return new H(p,p);if(N(D))return v=z(S(D),v),new H(S(v.g),S(v.h));if(N(v))return v=z(D,S(v)),new H(S(v.g),v.h);if(30<D.g.length){if(N(D)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,T=v;0>=T.l(D);)I=Me(I),T=Me(T);var b=pe(I,1),A=pe(T,1);for(T=pe(T,2),I=pe(I,2);!w(T);){var E=A.add(T);0>=E.l(D)&&(b=b.add(I),A=E),T=pe(T,1),I=pe(I,1)}return v=M(D,b.j(v)),new H(b,v)}for(b=p;0<=D.l(v);){for(I=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=l(I),E=A.j(v);N(E)||0<E.l(D);)I-=T,A=l(I),E=A.j(v);w(A)&&(A=g),b=b.add(A),D=M(D,E)}return new H(b,D)}t.A=function(D){return z(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)&D.i(T);return new s(I,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)|D.i(T);return new s(I,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)^D.i(T);return new s(I,this.h^D.h)};function Me(D){for(var v=D.g.length+1,I=[],T=0;T<v;T++)I[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(I,D.h)}function pe(D,v){var I=v>>5;v%=32;for(var T=D.g.length-I,b=[],A=0;A<T;A++)b[A]=0<v?D.i(A+I)>>>v|D.i(A+I+1)<<32-v:D.i(A+I);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JE=bM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Rr=bM.Integer=s}).apply(typeof DM<"u"?DM:typeof self<"u"?self:typeof window<"u"?window:{});var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nr={};var ZE,Rq,oa,XE,Fu,tp,eI,tI,nI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ep=="object"&&ep];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var m=0;m<u.length-1;m++){var C=u[m];if(!(C in f))break e;f=f[C]}u=u[u.length-1],m=f[u],d=d(m),d!=m&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,m=!1,C={next:function(){if(!m&&f<u.length){var R=f++;return{value:d(R,u[R]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),u.apply(d,C)}}return function(){return u.apply(d,arguments)}}function g(u,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),u.apply(this,m)}}function w(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(m,C,R){for(var F=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];return d.prototype[C].apply(m,F)}}function N(u){let d=u.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=u[m];return f}return[]}function S(u,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(c(m)){let C=u.length||0,R=m.length||0;u.length=C+R;for(let F=0;F<R;F++)u[C+F]=m[F]}else u.push(m)}}class M{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function L(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function z(u){return z[" "](u),u}z[" "]=function(){};var Me=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function pe(u,d,f){for(let m in u)d.call(f,u[m],m,u)}function D(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function v(u){let d={};for(let f in u)d[f]=u[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)u[f]=m[f];for(let R=0;R<I.length;R++)f=I[R],Object.prototype.hasOwnProperty.call(m,f)&&(u[f]=m[f])}}function b(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function A(u){a.setTimeout(()=>{throw u},0)}function E(){var u=eg;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class nr{constructor(){this.h=this.g=null}add(d,f){let m=ka.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ka=new M(()=>new Jk,u=>u.reset());class Jk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let xa,Oa=!1,eg=new nr,_T=()=>{let u=a.Promise.resolve(void 0);xa=()=>{u.then(Zk)}};var Zk=()=>{for(var u;u=E();){try{u.h.call(u.g)}catch(f){A(f)}var d=ka;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}Oa=!1};function Fr(){this.s=this.s,this.C=this.C}Fr.prototype.s=!1,Fr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Fr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var Xk=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u}();function Fa(u,d){if(ft.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,m=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(Me){e:{try{z(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ex[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Fa.aa.h.call(this)}}w(Fa,ft);var ex={2:"touch",3:"pen",4:"mouse"};Fa.prototype.h=function(){Fa.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var La="closure_listenable_"+(1e6*Math.random()|0),tx=0;function nx(u,d,f,m,C){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++tx,this.da=this.fa=!1}function nl(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function rl(u){this.src=u,this.g={},this.h=0}rl.prototype.add=function(u,d,f,m,C){var R=u.toString();u=this.g[R],u||(u=this.g[R]=[],this.h++);var F=ng(u,d,m,C);return-1<F?(d=u[F],f||(d.fa=!1)):(d=new nx(d,this.src,R,!!m,C),d.fa=f,u.push(d)),d};function tg(u,d){var f=d.type;if(f in u.g){var m=u.g[f],C=Array.prototype.indexOf.call(m,d,void 0),R;(R=0<=C)&&Array.prototype.splice.call(m,C,1),R&&(nl(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function ng(u,d,f,m){for(var C=0;C<u.length;++C){var R=u[C];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==m)return C}return-1}var rg="closure_lm_"+(1e6*Math.random()|0),ig={};function ET(u,d,f,m,C){if(m&&m.once)return wT(u,d,f,m,C);if(Array.isArray(d)){for(var R=0;R<d.length;R++)ET(u,d[R],f,m,C);return null}return f=cg(f),u&&u[La]?u.K(d,f,l(m)?!!m.capture:!!m,C):IT(u,d,f,!1,m,C)}function IT(u,d,f,m,C,R){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Te=sg(u);if(Te||(u[rg]=Te=new rl(u)),f=Te.add(d,f,m,F,R),f.proxy)return f;if(m=rx(),f.proxy=m,m.src=u,m.listener=f,u.addEventListener)Xk||(C=F),C===void 0&&(C=!1),u.addEventListener(d.toString(),m,C);else if(u.attachEvent)u.attachEvent(DT(d.toString()),m);else if(u.addListener&&u.removeListener)u.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function rx(){function u(f){return d.call(u.src,u.listener,f)}let d=ix;return u}function wT(u,d,f,m,C){if(Array.isArray(d)){for(var R=0;R<d.length;R++)wT(u,d[R],f,m,C);return null}return f=cg(f),u&&u[La]?u.L(d,f,l(m)?!!m.capture:!!m,C):IT(u,d,f,!0,m,C)}function TT(u,d,f,m,C){if(Array.isArray(d))for(var R=0;R<d.length;R++)TT(u,d[R],f,m,C);else m=l(m)?!!m.capture:!!m,f=cg(f),u&&u[La]?(u=u.i,d=String(d).toString(),d in u.g&&(R=u.g[d],f=ng(R,f,m,C),-1<f&&(nl(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete u.g[d],u.h--)))):u&&(u=sg(u))&&(d=u.g[d.toString()],u=-1,d&&(u=ng(d,f,m,C)),(f=-1<u?d[u]:null)&&og(f))}function og(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[La])tg(d.i,u);else{var f=u.type,m=u.proxy;d.removeEventListener?d.removeEventListener(f,m,u.capture):d.detachEvent?d.detachEvent(DT(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=sg(d))?(tg(f,u),f.h==0&&(f.src=null,d[rg]=null)):nl(u)}}}function DT(u){return u in ig?ig[u]:ig[u]="on"+u}function ix(u,d){if(u.da)u=!0;else{d=new Fa(d,this);var f=u.listener,m=u.ha||u.src;u.fa&&og(u),u=f.call(m,d)}return u}function sg(u){return u=u[rg],u instanceof rl?u:null}var ag="__closure_events_fn_"+(1e9*Math.random()>>>0);function cg(u){return typeof u=="function"?u:(u[ag]||(u[ag]=function(d){return u.handleEvent(d)}),u[ag])}function pt(){Fr.call(this),this.i=new rl(this),this.M=this,this.F=null}w(pt,Fr),pt.prototype[La]=!0,pt.prototype.removeEventListener=function(u,d,f,m){TT(this,u,d,f,m)};function Dt(u,d){var f,m=u.F;if(m)for(f=[];m;m=m.F)f.push(m);if(u=u.M,m=d.type||d,typeof d=="string")d=new ft(d,u);else if(d instanceof ft)d.target=d.target||u;else{var C=d;d=new ft(m,u),T(d,C)}if(C=!0,f)for(var R=f.length-1;0<=R;R--){var F=d.g=f[R];C=il(F,m,!0,d)&&C}if(F=d.g=u,C=il(F,m,!0,d)&&C,C=il(F,m,!1,d)&&C,f)for(R=0;R<f.length;R++)F=d.g=f[R],C=il(F,m,!1,d)&&C}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],m=0;m<f.length;m++)nl(f[m]);delete u.g[d],u.h--}}this.F=null},pt.prototype.K=function(u,d,f,m){return this.i.add(String(u),d,!1,f,m)},pt.prototype.L=function(u,d,f,m){return this.i.add(String(u),d,!0,f,m)};function il(u,d,f,m){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,R=0;R<d.length;++R){var F=d[R];if(F&&!F.da&&F.capture==f){var Te=F.listener,ct=F.ha||F.src;F.fa&&tg(u.i,F),C=Te.call(ct,m)!==!1&&C}}return C&&!m.defaultPrevented}function bT(u,d,f){if(typeof u=="function")f&&(u=g(u,f));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function CT(u){u.g=bT(()=>{u.g=null,u.i&&(u.i=!1,CT(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class ox extends Fr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:CT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(u){Fr.call(this),this.h=u,this.g={}}w(Va,Fr);var ST=[];function AT(u){pe(u.g,function(d,f){this.g.hasOwnProperty(f)&&og(d)},u),u.g={}}Va.prototype.N=function(){Va.aa.N.call(this),AT(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ug=a.JSON.stringify,sx=a.JSON.parse,ax=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function lg(){}lg.prototype.h=null;function RT(u){return u.h||(u.h=u.i())}function NT(){}var ja={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dg(){ft.call(this,"d")}w(dg,ft);function hg(){ft.call(this,"c")}w(hg,ft);var ki={},MT=null;function ol(){return MT=MT||new pt}ki.La="serverreachability";function PT(u){ft.call(this,ki.La,u)}w(PT,ft);function Ua(u){let d=ol();Dt(d,new PT(d))}ki.STAT_EVENT="statevent";function kT(u,d){ft.call(this,ki.STAT_EVENT,u),this.stat=d}w(kT,ft);function bt(u){let d=ol();Dt(d,new kT(d,u))}ki.Ma="timingevent";function xT(u,d){ft.call(this,ki.Ma,u),this.size=d}w(xT,ft);function Ba(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function $a(){this.g=!0}$a.prototype.xa=function(){this.g=!1};function cx(u,d,f,m,C,R){u.info(function(){if(u.g)if(R)for(var F="",Te=R.split("&"),ct=0;ct<Te.length;ct++){var fe=Te[ct].split("=");if(1<fe.length){var gt=fe[0];fe=fe[1];var mt=gt.split("_");F=2<=mt.length&&mt[1]=="type"?F+(gt+"="+fe+"&"):F+(gt+"=redacted&")}}else F=null;else F=R;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function ux(u,d,f,m,C,R,F){u.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+R+" "+F})}function Uo(u,d,f,m){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+dx(u,f)+(m?" "+m:"")})}function lx(u,d){u.info(function(){return"TIMEOUT: "+d})}$a.prototype.info=function(){};function dx(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var m=f[u];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var R=C[0];if(R!="noop"&&R!="stop"&&R!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return ug(f)}catch{return d}}var sl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},OT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fg;function al(){}w(al,lg),al.prototype.g=function(){return new XMLHttpRequest},al.prototype.i=function(){return{}},fg=new al;function Lr(u,d,f,m){this.j=u,this.i=d,this.l=f,this.R=m||1,this.U=new Va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new FT}function FT(){this.i=null,this.g="",this.h=!1}var LT={},pg={};function gg(u,d,f){u.L=1,u.v=dl(rr(d)),u.m=f,u.P=!0,VT(u,null)}function VT(u,d){u.F=Date.now(),cl(u),u.A=rr(u.v);var f=u.A,m=u.R;Array.isArray(m)||(m=[String(m)]),ZT(f.i,"t",m),u.C=0,f=u.j.J,u.h=new FT,u.g=mD(u.j,f?d:null,!u.m),0<u.O&&(u.M=new ox(g(u.Y,u,u.g),u.O)),d=u.U,f=u.g,m=u.ca;var C="readystatechange";Array.isArray(C)||(C&&(ST[0]=C.toString()),C=ST);for(var R=0;R<C.length;R++){var F=ET(f,C[R],m||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Ua(),cx(u.i,u.u,u.A,u.l,u.R,u.m)}Lr.prototype.ca=function(u){u=u.target;let d=this.M;d&&ir(u)==3?d.j():this.Y(u)},Lr.prototype.Y=function(u){try{if(u==this.g)e:{let mt=ir(this.g);var d=this.g.Ba();let Ho=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||oD(this.g)))){this.J||mt!=4||d==7||(d==8||0>=Ho?Ua(3):Ua(2)),mg(this);var f=this.g.Z();this.X=f;t:if(jT(this)){var m=oD(this.g);u="";var C=m.length,R=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),Ha(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,u+=this.h.i.decode(m[d],{stream:!(R&&d==C-1)});m.length=0,this.h.g+=u,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,ux(this.i,this.u,this.A,this.l,this.R,mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,ct=this.g;if((Te=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Te)){var fe=Te;break t}}fe=null}if(f=fe)Uo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yg(this,f);else{this.o=!1,this.s=3,bt(12),xi(this),Ha(this);break e}}if(this.P){f=!0;let an;for(;!this.J&&this.C<F.length;)if(an=hx(this,F),an==pg){mt==4&&(this.s=4,bt(14),f=!1),Uo(this.i,this.l,null,"[Incomplete Response]");break}else if(an==LT){this.s=4,bt(15),Uo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else Uo(this.i,this.l,an,null),yg(this,an);if(jT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||F.length!=0||this.h.h||(this.s=1,bt(16),f=!1),this.o=this.o&&f,!f)Uo(this.i,this.l,F,"[Invalid Chunked Response]"),xi(this),Ha(this);else if(0<F.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Tg(gt),gt.M=!0,bt(11))}}else Uo(this.i,this.l,F,null),yg(this,F);mt==4&&xi(this),this.o&&!this.J&&(mt==4?hD(this.j,this):(this.o=!1,cl(this)))}else Rx(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),xi(this),Ha(this)}}}catch{}finally{}};function jT(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function hx(u,d){var f=u.C,m=d.indexOf(`
`,f);return m==-1?pg:(f=Number(d.substring(f,m)),isNaN(f)?LT:(m+=1,m+f>d.length?pg:(d=d.slice(m,m+f),u.C=m+f,d)))}Lr.prototype.cancel=function(){this.J=!0,xi(this)};function cl(u){u.S=Date.now()+u.I,UT(u,u.I)}function UT(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ba(g(u.ba,u),d)}function mg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Lr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(lx(this.i,this.A),this.L!=2&&(Ua(),bt(17)),xi(this),this.s=2,Ha(this)):UT(this,this.S-u)};function Ha(u){u.j.G==0||u.J||hD(u.j,u)}function xi(u){mg(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,AT(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function yg(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||vg(f.h,u))){if(!u.K&&vg(f.h,u)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)ml(f),pl(f);else break e;wg(f),bt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ba(g(f.Za,f),6e3));if(1>=HT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Fi(f,11)}else if((u.K||f.g==u)&&ml(f),!L(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let fe=C[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let gt=fe[3];gt!=null&&(f.la=gt,f.j.info("VER="+f.la));let mt=fe[4];mt!=null&&(f.Aa=mt,f.j.info("SVER="+f.Aa));let Ho=fe[5];Ho!=null&&typeof Ho=="number"&&0<Ho&&(m=1.5*Ho,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let an=u.g;if(an){let vl=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vl){var R=m.h;R.g||vl.indexOf("spdy")==-1&&vl.indexOf("quic")==-1&&vl.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(_g(R,R.h),R.h=null))}if(m.D){let Dg=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Dg&&(m.ya=Dg,Se(m.I,m.D,Dg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=u;if(m.qa=gD(m,m.J?m.ia:null,m.W),F.K){zT(m.h,F);var Te=F,ct=m.L;ct&&(Te.I=ct),Te.B&&(mg(Te),cl(Te)),m.g=F}else lD(m);0<f.i.length&&gl(f)}else fe[0]!="stop"&&fe[0]!="close"||Fi(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Fi(f,7):Ig(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}Ua(4)}catch{}}var fx=class{constructor(u,d){this.g=u,this.map=d}};function BT(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $T(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function HT(u){return u.h?1:u.g?u.g.size:0}function vg(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function _g(u,d){u.g?u.g.add(d):u.h=d}function zT(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}BT.prototype.cancel=function(){if(this.i=qT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function qT(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return N(u.i)}function px(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,m=0;m<f;m++)d.push(u[m]);return d}d=[],f=0;for(m in u)d[f++]=u[m];return d}function gx(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let m in u)d[f++]=m;return d}}}function GT(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=gx(u),m=px(u),C=m.length,R=0;R<C;R++)d.call(void 0,m[R],f&&f[R],u)}var WT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mx(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var m=u[f].indexOf("="),C=null;if(0<=m){var R=u[f].substring(0,m);C=u[f].substring(m+1)}else R=u[f];d(R,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Oi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Oi){this.h=u.h,ul(this,u.j),this.o=u.o,this.g=u.g,ll(this,u.s),this.l=u.l;var d=u.i,f=new Ga;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),KT(this,f),this.m=u.m}else u&&(d=String(u).match(WT))?(this.h=!1,ul(this,d[1]||"",!0),this.o=za(d[2]||""),this.g=za(d[3]||"",!0),ll(this,d[4]),this.l=za(d[5]||"",!0),KT(this,d[6]||"",!0),this.m=za(d[7]||"")):(this.h=!1,this.i=new Ga(null,this.h))}Oi.prototype.toString=function(){var u=[],d=this.j;d&&u.push(qa(d,QT,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(qa(d,QT,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(qa(f,f.charAt(0)=="/"?_x:vx,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",qa(f,Ix)),u.join("")};function rr(u){return new Oi(u)}function ul(u,d,f){u.j=f?za(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function ll(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function KT(u,d,f){d instanceof Ga?(u.i=d,wx(u.i,u.h)):(f||(d=qa(d,Ex)),u.i=new Ga(d,u.h))}function Se(u,d,f){u.i.set(d,f)}function dl(u){return Se(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function za(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qa(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,yx),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yx(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var QT=/[#\/\?@]/g,vx=/[#\?:]/g,_x=/[#\?]/g,Ex=/[#\?@]/g,Ix=/#/g;function Ga(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function Vr(u){u.g||(u.g=new Map,u.h=0,u.i&&mx(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ga.prototype,t.add=function(u,d){Vr(this),this.i=null,u=Bo(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function YT(u,d){Vr(u),d=Bo(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function JT(u,d){return Vr(u),d=Bo(u,d),u.g.has(d)}t.forEach=function(u,d){Vr(this),this.g.forEach(function(f,m){f.forEach(function(C){u.call(d,C,m,this)},this)},this)},t.na=function(){Vr(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=u[m];for(let R=0;R<C.length;R++)f.push(d[m])}return f},t.V=function(u){Vr(this);let d=[];if(typeof u=="string")JT(this,u)&&(d=d.concat(this.g.get(Bo(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},t.set=function(u,d){return Vr(this),this.i=null,u=Bo(this,u),JT(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},t.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function ZT(u,d,f){YT(u,d),0<f.length&&(u.i=null,u.g.set(Bo(u,d),N(f)),u.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let R=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var C=R;F[m]!==""&&(C+="="+encodeURIComponent(String(F[m]))),u.push(C)}}return this.i=u.join("&")};function Bo(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function wx(u,d){d&&!u.j&&(Vr(u),u.i=null,u.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(YT(this,m),ZT(this,C,f))},u)),u.j=d}function Tx(u,d){let f=new $a;if(a.Image){let m=new Image;m.onload=y(jr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(jr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(jr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(jr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=u}else d(!1)}function Dx(u,d){let f=new $a,m=new AbortController,C=setTimeout(()=>{m.abort(),jr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:m.signal}).then(R=>{clearTimeout(C),R.ok?jr(f,"TestPingServer: ok",!0,d):jr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),jr(f,"TestPingServer: error",!1,d)})}function jr(u,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function bx(){this.g=new ax}function Cx(u,d,f){let m=f||"";try{GT(u,function(C,R){let F=C;l(C)&&(F=ug(C)),d.push(m+R+"="+encodeURIComponent(F))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Wa(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Wa,lg),Wa.prototype.g=function(){return new hl(this.l,this.j)},Wa.prototype.i=function(u){return function(){return u}}({});function hl(u,d){pt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(hl,pt),t=hl.prototype,t.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,Qa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ka(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qa(this)),this.g&&(this.readyState=3,Qa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;XT(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function XT(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?Ka(this):Qa(this),this.readyState==3&&XT(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ka(this))},t.Qa=function(u){this.g&&(this.response=u,Ka(this))},t.ga=function(){this.g&&Ka(this)};function Ka(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qa(u)}t.setRequestHeader=function(u,d){this.u.append(u,d)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function Qa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function eD(u){let d="";return pe(u,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Eg(u,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=eD(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):Se(u,d,f))}function Pe(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Pe,pt);var Sx=/^https?$/i,Ax=["POST","PUT"];t=Pe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fg.g(),this.v=this.o?RT(this.o):RT(fg),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(R){tD(this,R);return}if(u=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let R of m.keys())f.set(R,m.get(R));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),C=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ax,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,F]of f)this.g.setRequestHeader(R,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iD(this),this.u=!0,this.g.send(u),this.u=!1}catch(R){tD(this,R)}};function tD(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,nD(u),fl(u)}function nD(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Dt(this,"complete"),Dt(this,"abort"),fl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fl(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rD(this):this.bb())},t.bb=function(){rD(this)};function rD(u){if(u.h&&typeof s<"u"&&(!u.v[1]||ir(u)!=4||u.Z()!=2)){if(u.u&&ir(u)==4)bT(u.Ea,0,u);else if(Dt(u,"readystatechange"),ir(u)==4){u.h=!1;try{let F=u.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=F===0){var C=String(u.D).match(WT)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!Sx.test(C?C.toLowerCase():"")}f=m}if(f)Dt(u,"complete"),Dt(u,"success");else{u.m=6;try{var R=2<ir(u)?u.g.statusText:""}catch{R=""}u.l=R+" ["+u.Z()+"]",nD(u)}}finally{fl(u)}}}}function fl(u,d){if(u.g){iD(u);let f=u.g,m=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Dt(u,"ready");try{f.onreadystatechange=m}catch{}}}function iD(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ir(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),sx(d)}};function oD(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rx(u){let d={};u=(u.g&&2<=ir(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<u.length;m++){if(L(u[m]))continue;var f=b(u[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[C]||[];d[C]=R,R.push(f)}D(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ya(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function sD(u){this.Aa=0,this.i=[],this.j=new $a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ya("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ya("baseRetryDelayMs",5e3,u),this.cb=Ya("retryDelaySeedMs",1e4,u),this.Wa=Ya("forwardChannelMaxRetries",2,u),this.wa=Ya("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new BT(u&&u.concurrentRequestLimit),this.Da=new bx,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sD.prototype,t.la=8,t.G=1,t.connect=function(u,d,f,m){bt(0),this.W=u,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=gD(this,null,this.W),gl(this)};function Ig(u){if(aD(u),u.G==3){var d=u.U++,f=rr(u.I);if(Se(f,"SID",u.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),Ja(u,f),d=new Lr(u,u.j,d),d.L=2,d.v=dl(rr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=mD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),cl(d)}pD(u)}function pl(u){u.g&&(Tg(u),u.g.cancel(),u.g=null)}function aD(u){pl(u),u.u&&(a.clearTimeout(u.u),u.u=null),ml(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function gl(u){if(!$T(u.h)&&!u.s){u.s=!0;var d=u.Ga;xa||_T(),Oa||(xa(),Oa=!0),eg.add(d,u),u.B=0}}function Nx(u,d){return HT(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ba(g(u.Ga,u,d),fD(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let C=new Lr(this,this.j,u),R=this.o;if(this.S&&(R?(R=v(R),T(R,this.S)):R=this.S),this.m!==null||this.O||(C.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=uD(this,C,d),f=rr(this.I),Se(f,"RID",u),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),Ja(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(eD(R)))+"&"+d:this.m&&Eg(f,this.m,R)),_g(this.h,C),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),C.T=!0,gg(C,f,null)):gg(C,f,d),this.G=2}}else this.G==3&&(u?cD(this,u):this.i.length==0||$T(this.h)||cD(this))};function cD(u,d){var f;d?f=d.l:f=u.U++;let m=rr(u.I);Se(m,"SID",u.K),Se(m,"RID",f),Se(m,"AID",u.T),Ja(u,m),u.m&&u.o&&Eg(m,u.m,u.o),f=new Lr(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=uD(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_g(u.h,f),gg(f,m,d)}function Ja(u,d){u.H&&pe(u.H,function(f,m){Se(d,m,f)}),u.l&&GT({},function(f,m){Se(d,m,f)})}function uD(u,d,f){f=Math.min(u.i.length,f);var m=u.l?g(u.l.Na,u.l,u):null;e:{var C=u.i;let R=-1;for(;;){let F=["count="+f];R==-1?0<f?(R=C[0].g,F.push("ofs="+R)):R=0:F.push("ofs="+R);let Te=!0;for(let ct=0;ct<f;ct++){let fe=C[ct].g,gt=C[ct].map;if(fe-=R,0>fe)R=Math.max(0,C[ct].g-100),Te=!1;else try{Cx(gt,F,"req"+fe+"_")}catch{m&&m(gt)}}if(Te){m=F.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,m}function lD(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;xa||_T(),Oa||(xa(),Oa=!0),eg.add(d,u),u.v=0}}function wg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ba(g(u.Fa,u),fD(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,dD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ba(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),pl(this),dD(this))};function Tg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function dD(u){u.g=new Lr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=rr(u.qa);Se(d,"RID","rpc"),Se(d,"SID",u.K),Se(d,"AID",u.T),Se(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Se(d,"TO",u.ja),Se(d,"TYPE","xmlhttp"),Ja(u,d),u.m&&u.o&&Eg(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=dl(rr(d)),f.m=null,f.P=!0,VT(f,u)}t.Za=function(){this.C!=null&&(this.C=null,pl(this),wg(this),bt(19))};function ml(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function hD(u,d){var f=null;if(u.g==d){ml(u),Tg(u),u.g=null;var m=2}else if(vg(u.h,d))f=d.D,zT(u.h,d),m=1;else return;if(u.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=u.B;m=ol(),Dt(m,new xT(m,f)),gl(u)}else lD(u);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&Nx(u,d)||m==2&&wg(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),C){case 1:Fi(u,5);break;case 4:Fi(u,10);break;case 3:Fi(u,6);break;default:Fi(u,2)}}}function fD(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function Fi(u,d){if(u.j.info("Error code "+d),d==2){var f=g(u.fb,u),m=u.Xa;let C=!m;m=new Oi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ul(m,"https"),dl(m),C?Tx(m.toString(),f):Dx(m.toString(),f)}else bt(2);u.G=0,u.l&&u.l.sa(d),pD(u),aD(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function pD(u){if(u.G=0,u.ka=[],u.l){let d=qT(u.h);(d.length!=0||u.i.length!=0)&&(S(u.ka,d),S(u.ka,u.i),u.h.i.length=0,N(u.i),u.i.length=0),u.l.ra()}}function gD(u,d,f){var m=f instanceof Oi?rr(f):new Oi(f);if(m.g!="")d&&(m.g=d+"."+m.g),ll(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var R=new Oi(null);m&&ul(R,m),d&&(R.g=d),C&&ll(R,C),f&&(R.l=f),m=R}return f=u.D,d=u.ya,f&&d&&Se(m,f,d),Se(m,"VER",u.la),Ja(u,m),m}function mD(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Pe(new Wa({eb:f})):new Pe(u.pa),d.Ha(u.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yD(){}t=yD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yl(){}yl.prototype.g=function(u,d){return new Bt(u,d)};function Bt(u,d){pt.call(this),this.g=new sD(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!L(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!L(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new $o(this)}w(Bt,pt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Ig(this.g)},Bt.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=ug(u),u=f);d.i.push(new fx(d.Ya++,u)),d.G==3&&gl(d)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Ig(this.g),delete this.g,Bt.aa.N.call(this)};function vD(u){dg.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}w(vD,dg);function _D(){hg.call(this),this.status=1}w(_D,hg);function $o(u){this.g=u}w($o,yD),$o.prototype.ua=function(){Dt(this.g,"a")},$o.prototype.ta=function(u){Dt(this.g,new vD(u))},$o.prototype.sa=function(u){Dt(this.g,new _D)},$o.prototype.ra=function(){Dt(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,nI=Nr.createWebChannelTransport=function(){return new yl},tI=Nr.getStatEventTarget=function(){return ol()},eI=Nr.Event=ki,tp=Nr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sl.NO_ERROR=0,sl.TIMEOUT=8,sl.HTTP_ERROR=6,Fu=Nr.ErrorCode=sl,OT.COMPLETE="complete",XE=Nr.EventType=OT,NT.EventType=ja,ja.OPEN="a",ja.CLOSE="b",ja.ERROR="c",ja.MESSAGE="d",pt.prototype.listen=pt.prototype.K,oa=Nr.WebChannel=NT,Rq=Nr.FetchXmlHttpFactory=Wa,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,ZE=Nr.XhrIo=Pe}).apply(typeof ep<"u"?ep:typeof self<"u"?self:typeof window<"u"?window:{});var CM="@firebase/firestore",SM="4.8.0";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var Aa="11.10.0";var Po=new zn("@firebase/firestore");function sa(){return Po.logLevel}function j(t,...e){if(Po.logLevel<=le.DEBUG){let n=e.map($w);Po.debug(`Firestore (${Aa}): ${t}`,...n)}}function Mr(t,...e){if(Po.logLevel<=le.ERROR){let n=e.map($w);Po.error(`Firestore (${Aa}): ${t}`,...n)}}function Ai(t,...e){if(Po.logLevel<=le.WARN){let n=e.map($w);Po.warn(`Firestore (${Aa}): ${t}`,...n)}}function $w(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mP(t,r,n)}function mP(t,e,n){let r=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mr(r),new Error(r)}function _e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||mP(e,i,r)}function ne(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Gt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Wn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var cp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},aI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},cI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},uI=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new cp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new ot(e)}},lI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},dI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},up=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},hI=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new up(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new up(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Nq(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function yP(){return new TextEncoder}var $u=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Nq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ce(t,e){return t<e?-1:t>e?1:0}function fI(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ce(r,i);{let o=yP(),s=Mq(o.encode(AM(t,n)),o.encode(AM(e,n)));return s!==0?s:ce(r,i)}}n+=r>65535?2:1}return ce(t.length,e.length)}function AM(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Mq(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ce(t[n],e[n]);return ce(t.length,e.length)}function pa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var RM="__name__",lp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ce(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):fI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}},Ne=class t extends lp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Pq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class t extends lp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Pq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RM}static keyField(){return new t([RM])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};function vP(t,e,n){if(!n)throw new B(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kq(t,e,n,r){if(e===!0&&r===!0)throw new B(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NM(t){if(!W.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MM(t){if(W.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _P(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Hw(t);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ke(t,e){let n={typeString:t};return e&&(n.value=e),n}function Xu(t,e){if(!_P(t))throw new B(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new B(k.INVALID_ARGUMENT,n);return!0}var PM=-62135596800,kM=1e6,Qe=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kM);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PM)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kM}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-PM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Ke("string",Qe._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};var ie=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Qe(0,0))}static max(){return new t(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hu=-1,pI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};pI.UNKNOWN_ID=-1;function xq(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new ko(i,W.empty(),e)}function Oq(t){return new ko(t.readTime,t.key,Hu)}var ko=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),W.empty(),Hu)}static max(){return new t(ie.max(),W.empty(),Hu)}};function Fq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}var Lq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ra(t){return _(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==Lq)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Vq(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Na(t){return t.name==="IndexedDbTransactionError"}var zw=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),qw=-1;function Hp(t){return t==null}function zu(t){return t===0&&1/t==-1/0}function jq(t){return typeof t=="number"&&Number.isInteger(t)&&!zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var EP="";function Uq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xM(e)),e=Bq(t.get(n),e);return xM(e)}function Bq(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case EP:n+="";break;default:n+=o}}return n}function xM(t){return t+EP+""}var $q="remoteDocuments",IP="owner";var wP="mutationQueues";var TP="mutations";var DP="documentMutations",Hq="remoteDocumentsV14";var bP="remoteDocumentGlobal";var CP="targets";var SP="targetDocuments";var AP="targetGlobal",RP="collectionParents";var NP="clientMetadata";var MP="bundles";var PP="namedQueries";var zq="indexConfiguration";var qq="indexState";var Gq="indexEntries";var kP="documentOverlays";var Wq="globals";var Kq=[wP,TP,DP,$q,CP,IP,AP,SP,NP,bP,RP,MP,PP],Bae=[...Kq,kP],Qq=[wP,TP,DP,Hq,CP,IP,AP,SP,NP,bP,RP,MP,PP,kP],Yq=Qq,Jq=[...Yq,zq,qq,Gq];var $ae=[...Jq,Wq];function OM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||Kn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new la(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new la(this.root,e,this.comparator,!1)}getReverseIterator(){return new la(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new la(this.root,e,this.comparator,!0)}},la=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Kn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dp(this.data.getIterator())}getIteratorFrom(e){return new dp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},dp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var on=class t{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new t([])}unionWith(e){let n=new st(Kt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var hp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hp("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var Zq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(_e(!!t,39018),typeof t=="string"){let e=0,n=Zq.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kr(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}var OP="server_timestamp",FP="__type__",LP="__previous_value__",VP="__local_write_time__";function Gw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[FP])===null||n===void 0?void 0:n.stringValue)===OP}function zp(t){let e=t.mapValue.fields[LP];return Gw(e)?zp(e):e}function qu(t){let e=Pr(t.mapValue.fields[VP].timestampValue);return new Qe(e.seconds,e.nanos)}var mI=class{constructor(e,n,r,i,o,s,a,c,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=h}},fp="(default)",pp=class t{constructor(e,n){this.projectId=e,this.database=n||fp}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===fp}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ww="__type__",jP="__max__",np={mapValue:{fields:{__type__:{stringValue:jP}}}},Kw="__vector__",ga="value";function Ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gw(t)?4:BP(t)?9007199254740991:UP(t)?10:11:Q(28295,{value:t})}function Zn(t,e){if(t===e)return!0;let n=Ri(t);if(n!==Ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qu(t).isEqual(qu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Pr(i.timestampValue),a=Pr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return kr(i.bytesValue).isEqual(kr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?zu(s)===zu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(OM(s)!==OM(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Zn(s[c],a[c])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function Gu(t,e){return(t.values||[]).find(n=>Zn(n,e))!==void 0}function ma(t,e){if(t===e)return 0;let n=Ri(t),r=Ri(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ae(o.integerValue||o.doubleValue),c=Ae(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return FM(t.timestampValue,e.timestampValue);case 4:return FM(qu(t),qu(e));case 5:return fI(t.stringValue,e.stringValue);case 6:return function(o,s){let a=kr(o),c=kr(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=ce(a[l],c[l]);if(h!==0)return h}return ce(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ce(Ae(o.latitude),Ae(s.latitude));return a!==0?a:ce(Ae(o.longitude),Ae(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return LM(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[ga])===null||a===void 0?void 0:a.arrayValue,w=(c=g[ga])===null||c===void 0?void 0:c.arrayValue,N=ce(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:LM(y,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===np.mapValue&&s===np.mapValue)return 0;if(o===np.mapValue)return 1;if(s===np.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let g=fI(c[p],h[p]);if(g!==0)return g;let y=ma(a[c[p]],l[h[p]]);if(y!==0)return y}return ce(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{le:n})}}function FM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);let n=Pr(t),r=Pr(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function LM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ma(n[i],r[i]);if(o)return o}return ce(n.length,r.length)}function ya(t){return yI(t)}function yI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Pr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=yI(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${yI(n.fields[s])}`;return i+"}"}(t.mapValue):Q(61005,{value:t})}function op(t){switch(Ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=zp(t);return e?16+op(e):16;case 5:return 2*t.stringValue.length;case 6:return kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+op(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Pi(r.fields,(o,s)=>{i+=o.length+op(s)}),i}(t.mapValue);default:throw Q(13486,{value:t})}}function vI(t){return!!t&&"integerValue"in t}function Qw(t){return!!t&&"arrayValue"in t}function VM(t){return!!t&&"nullValue"in t}function jM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sp(t){return!!t&&"mapValue"in t}function UP(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ww])===null||n===void 0?void 0:n.stringValue)===Kw}function Vu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Pi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jP}var zae={mapValue:{fields:{[Ww]:{stringValue:Kw},[ga]:{arrayValue:{}}}}};var Wt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vu(n)}setAll(e){let n=Kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Vu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Vu(this.value))}};function $P(t){let e=[];return Pi(t.fields,(n,r)=>{let i=new Kt([n]);if(sp(r)){let o=$P(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new on(e)}var Cn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var va=class{constructor(e,n){this.position=e,this.inclusive=n}};function UM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=ma(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function BM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zn(t.position[n],e.position[n]))return!1;return!0}var _a=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Xq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var gp=class{},Xe=class t extends gp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EI(e,n,r):n==="array-contains"?new TI(e,r):n==="in"?new DI(e,r):n==="not-in"?new bI(e,r):n==="array-contains-any"?new CI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new II(e,r):new wI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ma(n,this.value)):n!==null&&Ri(this.value)===Ri(n)&&this.matchesComparison(ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Xn=class t extends gp{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return HP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function HP(t){return t.op==="and"}function zP(t){return e3(t)&&HP(t)}function e3(t){for(let e of t.filters)if(e instanceof Xn)return!1;return!0}function _I(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+ya(t.value);if(zP(t))return t.filters.map(e=>_I(e)).join(",");{let e=t.filters.map(n=>_I(n)).join(",");return`${t.op}(${e})`}}function qP(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Zn(r.value,i.value)}(t,e):t instanceof Xn?function(r,i){return i instanceof Xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qP(s,i.filters[a]),!0):!1}(t,e):void Q(19439)}function GP(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${ya(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(GP).join(" ,")+"}"}(t):"Filter"}var EI=class extends Xe{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},II=class extends Xe{constructor(e,n){super(e,"in",n),this.keys=WP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},wI=class extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=WP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function WP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var TI=class extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Qw(n)&&Gu(n.arrayValue,this.value)}},DI=class extends Xe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Gu(this.value.arrayValue,n)}},bI=class extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gu(this.value.arrayValue,n)}},CI=class extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Qw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gu(this.value.arrayValue,r))}};var SI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function $M(t,e=null,n=[],r=[],i=null,o=null,s=null){return new SI(t,e,n,r,i,o,s)}function Yw(t){let e=ne(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_I(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ya(r)).join(",")),e.Pe=n}return e.Pe}function Jw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Xq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BM(t.startAt,e.startAt)&&BM(t.endAt,e.endAt)}function AI(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ea=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function t3(t,e,n,r,i,o,s,a){return new Ea(t,e,n,r,i,o,s,a)}function qp(t){return new Ea(t)}function HM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n3(t){return t.collectionGroup!==null}function ju(t){let e=ne(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new st(Kt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new _a(o,r))}),n.has(Kt.keyField().canonicalString())||e.Te.push(new _a(Kt.keyField(),r))}return e.Te}function Qn(t){let e=ne(t);return e.Ie||(e.Ie=r3(e,ju(t))),e.Ie}function r3(t,e){if(t.limitType==="F")return $M(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new _a(i.field,o)});let n=t.endAt?new va(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new va(t.startAt.position,t.startAt.inclusive):null;return $M(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function RI(t,e,n){return new Ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gp(t,e){return Jw(Qn(t),Qn(e))&&t.limitType===e.limitType}function KP(t){return`${Yw(Qn(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GP(i)).join(", ")}]`),Hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ya(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ya(i)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function Wp(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ju(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=UM(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,ju(r),i)||r.endAt&&!function(s,a,c){let l=UM(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,ju(r),i))}(t,e)}function i3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QP(t){return(e,n)=>{let r=!1;for(let i of ju(t)){let o=o3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function o3(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?ma(c,l):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}var xr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return xP(this.inner)}size(){return this.innerSize}};var s3=new je(W.comparator);function Or(){return s3}var YP=new je(W.comparator);function Lu(...t){let e=YP;for(let n of t)e=e.insert(n.key,n);return e}function JP(t){let e=YP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ao(){return Uu()}function ZP(){return Uu()}function Uu(){return new xr(t=>t.toString(),(t,e)=>t.isEqual(e))}var a3=new je(W.comparator),c3=new st(W.comparator);function de(...t){let e=c3;for(let n of t)e=e.add(n);return e}var u3=new st(ce);function l3(){return u3}function Zw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function XP(t){return{integerValue:""+t}}function d3(t,e){return jq(e)?XP(e):Zw(t,e)}var Ia=class{constructor(){this._=void 0}};function h3(t,e,n){return t instanceof wa?function(i,o){let s={fields:{[FP]:{stringValue:OP},[VP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Gw(o)&&(o=zp(o)),o&&(s.fields[LP]=o),{mapValue:s}}(n,e):t instanceof xo?tk(t,e):t instanceof Oo?nk(t,e):function(i,o){let s=ek(i,o),a=zM(s)+zM(i.Ee);return vI(s)&&vI(i.Ee)?XP(a):Zw(i.serializer,a)}(t,e)}function f3(t,e,n){return t instanceof xo?tk(t,e):t instanceof Oo?nk(t,e):n}function ek(t,e){return t instanceof Ta?function(r){return vI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var wa=class extends Ia{},xo=class extends Ia{constructor(e){super(),this.elements=e}};function tk(t,e){let n=rk(e);for(let r of t.elements)n.some(i=>Zn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Oo=class extends Ia{constructor(e){super(),this.elements=e}};function nk(t,e){let n=rk(e);for(let r of t.elements)n=n.filter(i=>!Zn(i,r));return{arrayValue:{values:n}}}var Ta=class extends Ia{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function zM(t){return Ae(t.integerValue||t.doubleValue)}function rk(t){return Qw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function p3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xo&&i instanceof xo||r instanceof Oo&&i instanceof Oo?pa(r.elements,i.elements,Zn):r instanceof Ta&&i instanceof Ta?Zn(r.Ee,i.Ee):r instanceof wa&&i instanceof wa}(t.transform,e.transform)}var NI=class{constructor(e,n){this.version=e,this.transformResults=n}},Yn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Da=class{};function ik(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wu(t.key,Yn.none()):new Fo(t.key,t.data,Yn.none());{let n=t.data,r=Wt.empty(),i=new st(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new er(t.key,r,new on(i.toArray()),Yn.none())}}function g3(t,e,n){t instanceof Fo?function(i,o,s){let a=i.value.clone(),c=GM(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof er?function(i,o,s){if(!ap(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=GM(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(ok(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Bu(t,e,n,r){return t instanceof Fo?function(o,s,a,c){if(!ap(o.precondition,s))return a;let l=o.value.clone(),h=WM(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof er?function(o,s,a,c){if(!ap(o.precondition,s))return a;let l=WM(o.fieldTransforms,c,s),h=s.data;return h.setAll(ok(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return ap(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function m3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=ek(r.transform,i||null);o!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,o))}return n||null}function qM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pa(r,i,(o,s)=>p3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Fo=class extends Da{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},er=class extends Da{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ok(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function GM(t,e,n){let r=new Map;_e(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,f3(s,a,n[i]))}return r}function WM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,h3(o,s,e))}return r}var Wu=class extends Da{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},MI=class extends Da{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var PI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&g3(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=ZP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=ik(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,r)=>qM(n,r))&&pa(this.baseMutations,e.baseMutations,(n,r)=>qM(n,r))}},kI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return a3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var xI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var OI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ge,he;function y3(t){switch(t){case k.OK:return Q(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function sk(t){if(t===void 0)return Mr("GRPC error has no .code"),k.UNKNOWN;switch(t){case Ge.OK:return k.OK;case Ge.CANCELLED:return k.CANCELLED;case Ge.UNKNOWN:return k.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return k.INTERNAL;case Ge.UNAVAILABLE:return k.UNAVAILABLE;case Ge.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ge.NOT_FOUND:return k.NOT_FOUND;case Ge.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ge.ABORTED:return k.ABORTED;case Ge.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ge.DATA_LOSS:return k.DATA_LOSS;default:return Q(39323,{code:t})}}(he=Ge||(Ge={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var KM=null;var v3=new Rr([4294967295,4294967295],0);function QM(t){let e=yP().encode(t),n=new JE;return n.update(e),new Uint8Array(n.digest())}function YM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rr([n,r],0),new Rr([i,o],0)]}var FI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ro(`Invalid padding: ${n}`);if(r<0)throw new Ro(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Rr.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Rr.fromNumber(r)));return i.compare(v3)===1&&(i=new Rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=QM(e),[r,i]=YM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=QM(e),[r,i]=YM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ro=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var mp=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new je(ce),Or(),de())}},Ku=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var da=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},yp=class{constructor(e,n){this.targetId=e,this.De=n}},vp=class{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},_p=class{constructor(){this.ve=0,this.Ce=JM(),this.Fe=Tt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=de(),n=de(),r=de();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new Ku(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=JM()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},LI=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Or(),this.je=rp(),this.Je=rp(),this.He=new je(ce)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(AI(o))if(r===0){let s=new W(o.path);this.Xe(n,s,Cn.newNoDocument(s,ie.min()))}else _e(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}KM?.ct(function(h,p,g,y,w){var N,S,M,L,H,z;let Me={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},pe=p.unchangedNames;return pe&&(Me.bloomFilter={applied:w===0,hashCount:(N=pe?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(L=(M=(S=pe?.bits)===null||S===void 0?void 0:S.bitmap)===null||M===void 0?void 0:M.length)!==null&&L!==void 0?L:0,padding:(z=(H=pe?.bits)===null||H===void 0?void 0:H.padding)!==null&&z!==void 0?z:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Me}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=kr(r).toUint8Array()}catch(c){if(c instanceof hp)return Ai("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new FI(s,i,o)}catch(c){return Ai(c instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&AI(a.target)){let c=new W(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Cn.newNoDocument(c,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=de();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new mp(e,n,this.He,this.ze,r);return this.ze=Or(),this.je=rp(),this.Je=rp(),this.He=new je(ce),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new _p,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new st(ce),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new st(ce),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new _p),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function rp(){return new je(W.comparator)}function JM(){return new je(W.comparator)}var _3={asc:"ASCENDING",desc:"DESCENDING"},E3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I3={and:"AND",or:"OR"},VI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function jI(t,e){return t.useProto3Json||Hp(e)?e:{value:e}}function Ep(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ak(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w3(t,e){return Ep(t,e.toTimestamp())}function Jn(t){return _e(!!t,49232),ie.fromTimestamp(function(n){let r=Pr(n);return new Qe(r.seconds,r.nanos)}(t))}function Xw(t,e){return UI(t,e).canonicalString()}function UI(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ck(t){let e=Ne.fromString(t);return _e(fk(e),10190,{key:e.toString()}),e}function BI(t,e){return Xw(t.databaseId,e.path)}function rI(t,e){let n=ck(e);if(n.get(1)!==t.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(lk(n))}function uk(t,e){return Xw(t.databaseId,e)}function T3(t){let e=ck(t);return e.length===4?Ne.emptyPath():lk(e)}function $I(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lk(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZM(t,e,n){return{name:BI(t,e),fields:n.value.mapValue.fields}}function D3(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(_e(h===void 0||typeof h=="string",58123),Tt.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:sk(l.code);return new B(h,l.message||"")}(s);n=new vp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=rI(t,r.document.name),o=Jn(r.document.updateTime),s=r.document.createTime?Jn(r.document.createTime):ie.min(),a=new Wt({mapValue:{fields:r.document.fields}}),c=Cn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new da(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=rI(t,r.document),o=r.readTime?Jn(r.readTime):ie.min(),s=Cn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new da([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=rI(t,r.document),o=r.removedTargetIds||[];n=new da([],o,i,null)}else{if(!("filter"in e))return Q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new OI(i,o),a=r.targetId;n=new yp(a,s)}}return n}function b3(t,e){let n;if(e instanceof Fo)n={update:ZM(t,e.key,e.value)};else if(e instanceof Wu)n={delete:BI(t,e.key)};else if(e instanceof er)n={update:ZM(t,e.key,e.data),updateMask:x3(e.fieldMask)};else{if(!(e instanceof MI))return Q(16599,{Rt:e.type});n={verify:BI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof wa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ta)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:w3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q(27497)}(t,e.precondition)),n}function C3(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Jn(i.updateTime):Jn(o);return s.isEqual(ie.min())&&(s=Jn(o)),new NI(s,i.transformResults||[])}(n,e))):[]}function S3(t,e){return{documents:[uk(t,e.path)]}}function A3(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uk(t,i);let o=function(l){if(l.length!==0)return hk(Xn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:ca(g.field),direction:M3(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=jI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function R3(t){let e=T3(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_e(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=dk(p);return g instanceof Xn&&zP(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(w){return new _a(ua(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Hp(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){let g=!!p.before,y=p.values||[];return new va(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new va(y,g)}(n.endAt)),t3(e,i,s,o,a,"F",c,l)}function N3(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ua(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ua(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ua(n.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ua(n.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(ua(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>dk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function M3(t){return _3[t]}function P3(t){return E3[t]}function k3(t){return I3[t]}function ca(t){return{fieldPath:t.canonicalString()}}function ua(t){return Kt.fromServerFormat(t.fieldPath)}function hk(t){return t instanceof Xe?function(n){if(n.op==="=="){if(jM(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NAN"}};if(VM(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jM(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NAN"}};if(VM(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(n.field),op:P3(n.op),value:n.value}}}(t):t instanceof Xn?function(n){let r=n.getFilters().map(i=>hk(i));return r.length===1?r[0]:{compositeFilter:{op:k3(n.op),filters:r}}}(t):Q(54877,{filter:t})}function x3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Qu=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=Tt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var HI=class{constructor(e){this.gt=e}};function O3(t){let e=R3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?RI(e,e.limit,"L"):e}var Ip=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),zu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Pr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(kr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?BP(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):UP(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Q(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=ga,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ae(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),W.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Ip.Ut=new Ip;var zI=class{constructor(){this.Dn=new qI}addToCollectionParentIndex(e,n){return this.Dn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(ko.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},qI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(Ne.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Ne.comparator)).toArray()}};var qae=new Uint8Array(0);var XM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pk=41943040,rn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(pk,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);var Yu=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var eP="LruGarbageCollector",F3=1048576;function tP([t,e],[n,r]){let i=ce(t,n);return i===0?ce(e,r):i}var GI=class{constructor(e){this.Tr=e,this.buffer=new st(tP),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();tP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},WI=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){j(eP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Na(n)?j(eP,"Ignoring IndexedDB error during garbage collection: ",n):yield Ra(n)}yield this.Rr(3e5)}))}},KI=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(zw.ue);let r=new GI(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(XM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XM):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),sa()<=le.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function L3(t,e){return new KI(t,e)}var QI=class{constructor(){this.changes=new xr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var YI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var JI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bu(r.mutation,i,on.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=Ao();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Lu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ao();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Or(),s=Uu(),a=function(){return Uu()}();return n.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof er)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Bu(h.mutation,l,h.mutation.getFieldMask(),Qe.now())):s.set(l.key,on.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new YI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Uu(),i=new je((s,a)=>s-a),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let h=r.get(c)||on.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||de()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=ZP();h.forEach(g=>{if(!o.has(g)){let y=ik(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):n3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(Ao()),a=Hu,c=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,de())).next(h=>({batchId:a,changes:JP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=Lu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Lu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,c=>{let l=function(p,g){return new Ea(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Cn.newInvalidDocument(h)))});let a=Lu();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&Bu(h.mutation,l,on.empty(),Qe.now()),Wp(n,l)&&(a=a.insert(c,l))}),a})}};var ZI=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return x.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:O3(i.bundledQuery),readTime:Jn(i.readTime)}}(n)),x.resolve()}};var XI=class{constructor(){this.overlays=new je(W.comparator),this.kr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ao();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Ao(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ao(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ao(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new xI(n,r));let o=this.kr.get(n);o===void 0&&(o=de(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var ew=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var Ju=class{constructor(){this.qr=new st(We.Qr),this.$r=new st(We.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new We(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new We(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new W(new Ne([])),r=new We(n,e),i=new We(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new W(new Ne([])),r=new We(n,e),i=new We(n,e+1),o=de();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new We(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return W.comparator(e.key,n.key)||ce(e.Hr,n.Hr)}static Ur(e,n){return ce(e.Hr,n.Hr)||W.comparator(e.key,n.key)}};var tw=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new st(We.Qr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new PI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new We(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?qw:this.er-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(ce);return n.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),x.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new We(new W(o),0),a=new st(ce);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Hr)),!0)},s),x.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return x.forEach(n.mutations,i=>{let o=new We(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new We(n,0),i=this.Yr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var nw=class{constructor(e){this.ni=e,this.docs=function(){return new je(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=Or();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Or(),s=n.path,a=new W(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Fq(Oq(h),r)<=0||(i.has(h.key)||Wp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}ri(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rw(this)}getSize(e){return x.resolve(this.size)}},rw=class extends QI{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var iw=class{constructor(e){this.persistence=e,this.ii=new xr(n=>Yw(n),Jw),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new Ju,this.targetCount=0,this._i=Yu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),x.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Yu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.hr(n),x.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.oi.containsKey(n))}};var wp=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new zw(0),this.ci=!1,this.ci=!0,this.li=new ew,this.referenceDelegate=e(this),this.hi=new iw(this),this.indexManager=new zI,this.remoteDocumentCache=function(i){return new nw(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new HI(n),this.Ti=new ZI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new tw(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new ow(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return x.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},ow=class extends gI{constructor(e){super(),this.currentSequenceNumber=e}},sw=class t{constructor(e){this.persistence=e,this.Ai=new Ju,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw Q(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),x.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.mi,r=>{let i=W.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return x.or([()=>x.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Tp=class t{constructor(e,n){this.persistence=e,this.gi=new xr(r=>Uq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=L3(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return x.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return x.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?x.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),x.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),x.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=op(e.data.value)),n}Sr(e,n,r){return x.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var aw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=de(),i=de();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var cw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var uw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return WR()?8:Vq(it())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new cw;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(sa()<=le.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(sa()<=le.DEBUG&&j("QueryEngine","Query:",aa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(sa()<=le.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):x.resolve())}ps(e,n){if(HM(n))return x.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=RI(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.bs(n,a);return this.Ds(n,l,s,c.readTime)?this.ps(e,RI(n,null,"F")):this.vs(e,l,n,c)}))})))}ys(e,n,r,i){return HM(n)||i.isEqual(ie.min())?x.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?x.resolve(null):(sa()<=le.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aa(n)),this.vs(e,s,n,xq(i,Hu)).next(a=>a))})}bs(e,n){let r=new st(QP(e));return n.forEach((i,o)=>{Wp(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return sa()<=le.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",aa(n)),this.gs.getDocumentsMatchingQuery(e,n,ko.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var eT="LocalStore",V3=3e8,lw=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new je(ce),this.Ms=new xr(o=>Yw(o),Jw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function j3(t,e,n,r){return new lw(t,e,n,r)}function gk(t,e){return _(this,null,function*(){let n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=de();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function U3(t,e){let n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let p=l.batch,g=p.keys(),y=x.resolve();return g.forEach(w=>{y=y.next(()=>h.getEntry(c,w)).next(N=>{let S=l.docVersions.get(w);_e(S!==null,48541),N.version.compareTo(S)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mk(t){let e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function B3(t,e){let n=ne(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Tt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,S,M){return N.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=V3?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(g,y,h)&&a.push(n.hi.updateTargetData(o,y))});let c=Or(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push($3(o,s,e.documentUpdates).next(h=>{c=h.Ls,l=h.ks})),!r.isEqual(ie.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.Fs=i,o))}function $3(t,e,n){let r=de(),i=de();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Or();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):j(eT,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function H3(t,e){let n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z3(t,e){let n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Qu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function dw(t,e,n){return _(this,null,function*(){let r=ne(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Na(s))throw s;j(eT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function nP(t,e,n){let r=ne(t),i=ie.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let p=ne(c),g=p.Ms.get(h);return g!==void 0?x.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)}(r,s,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:de())).next(a=>(q3(r,i3(e),a),{documents:a,qs:o})))}function q3(t,e,n){let r=t.xs.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Dp=class{constructor(){this.activeTargetIds=l3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var hw=class{constructor(){this.Fo=new Dp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Dp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var fw=class{xo(e){}shutdown(){}};var rP="ConnectivityMonitor",bp=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){j(rP,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){j(rP,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ip=null;function pw(){return ip===null?ip=function(){return 268435456+Math.round(2147483648*Math.random())}():ip++,"0x"+ip.toString(16)}var iI="RestConnection",G3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},gw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===fp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=pw(),a=this.Go(e,n.toUriEncodedString());j(iI,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:l}=new URL(a),h=fi(l);return this.jo(e,a,c,r,h).then(p=>(j(iI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ai(iI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=G3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var mw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var wt="WebChannelConnection",yw=class extends gw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=pw();return new Promise((a,c)=>{let l=new ZE;l.setWithCredentials(!0),l.listenOnce(XE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Fu.NO_ERROR:let p=l.getResponseJson();j(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Fu.TIMEOUT:j(wt,`RPC '${e}' ${s} timed out`),c(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:let g=l.getStatus();if(j(wt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let N=function(M){let L=M.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(L)>=0?L:k.UNKNOWN}(w.status);c(new B(N,w.message))}else c(new B(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new B(k.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{j(wt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);j(wt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=pw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=nI(),a=tI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let h=o.join("");j(wt,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c);this.T_(p);let g=!1,y=!1,w=new mw({Ho:S=>{y?j(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(j(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),j(wt,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Yo:()=>p.close()}),N=(S,M,L)=>{S.listen(M,H=>{try{L(H)}catch(z){setTimeout(()=>{throw z},0)}})};return N(p,oa.EventType.OPEN,()=>{y||(j(wt,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),N(p,oa.EventType.CLOSE,()=>{y||(y=!0,j(wt,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(p))}),N(p,oa.EventType.ERROR,S=>{y||(y=!0,Ai(wt,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),w.__(new B(k.UNAVAILABLE,"The operation could not be completed")))}),N(p,oa.EventType.MESSAGE,S=>{var M;if(!y){let L=S.data[0];_e(!!L,16349);let H=L,z=H?.error||((M=H[0])===null||M===void 0?void 0:M.error);if(z){j(wt,`RPC '${e}' stream ${i} received error:`,z);let Me=z.status,pe=function(I){let T=Ge[I];if(T!==void 0)return sk(T)}(Me),D=z.message;pe===void 0&&(pe=k.INTERNAL,D="Unknown error status: "+Me+" with message "+z.message),y=!0,w.__(new B(pe,D)),p.close()}else j(wt,`RPC '${e}' stream ${i} received:`,L),w.a_(L)}}),N(a,eI.STAT_EVENT,S=>{S.stat===tp.PROXY?j(wt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===tp.NOPROXY&&j(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function oI(){return typeof document<"u"?document:null}function Kp(t){return new VI(t,!0)}var Cp=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var iP="PersistentStream",Sp=class{constructor(e,n,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Cp(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return j(iP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(j(iP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},vw=class extends Sp{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=D3(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?Jn(s.readTime):ie.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=$I(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=AI(c)?{documents:S3(o,c)}:{query:A3(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ak(o,s.resumeToken);let l=jI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Ep(o,s.snapshotVersion.toTimestamp());let l=jI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=N3(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=$I(this.serializer),n.removeTarget=e,this.k_(n)}},_w=class extends Sp{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=C3(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=$I(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>b3(this.serializer,r))};this.k_(n)}};var Ew=class{},Iw=class extends Ew{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,UI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(k.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,UI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},ww=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Mr(n),this._a=!1):j("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Lo="RemoteStore",Tw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Vo(this)&&(j(Lo,"Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let l=ne(c);l.Ia.add(4),yield el(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Qp(l)})}(this))}))}),this.Aa=new ww(r,i)}};function Qp(t){return _(this,null,function*(){if(Vo(t))for(let e of t.da)yield e(!0)})}function el(t){return _(this,null,function*(){for(let e of t.da)yield e(!1)})}function yk(t,e){let n=ne(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),iT(n)?rT(n):Ma(n).x_()&&nT(n,e))}function tT(t,e){let n=ne(t),r=Ma(n);n.Ta.delete(e),r.x_()&&vk(n,e),n.Ta.size===0&&(r.x_()?r.B_():Vo(n)&&n.Aa.set("Unknown"))}function nT(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ma(t).H_(e)}function vk(t,e){t.Ra.$e(e),Ma(t).Y_(e)}function rT(t){t.Ra=new LI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ma(t).start(),t.Aa.aa()}function iT(t){return Vo(t)&&!Ma(t).M_()&&t.Ta.size>0}function Vo(t){return ne(t).Ia.size===0}function _k(t){t.Ra=void 0}function W3(t){return _(this,null,function*(){t.Aa.set("Online")})}function K3(t){return _(this,null,function*(){t.Ta.forEach((e,n)=>{nT(t,e)})})}function Q3(t,e){return _(this,null,function*(){_k(t),iT(t)?(t.Aa.la(e),rT(t)):t.Aa.set("Unknown")})}function Y3(t,e,n){return _(this,null,function*(){if(t.Aa.set("Online"),e instanceof vp&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(t,e)}catch(r){j(Lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ap(t,r)}else if(e instanceof da?t.Ra.Ye(e):e instanceof yp?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ie.min()))try{let r=yield mk(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.Ta.get(c);if(!h)return;o.Ta.set(c,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),vk(o,c);let p=new Qu(h.target,c,l,h.sequenceNumber);nT(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j(Lo,"Failed to raise snapshot:",r),yield Ap(t,r)}})}function Ap(t,e,n){return _(this,null,function*(){if(!Na(e))throw e;t.Ia.add(1),yield el(t),t.Aa.set("Offline"),n||(n=()=>mk(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){j(Lo,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield Qp(t)}))})}function Ek(t,e){return e().catch(n=>Ap(t,n,e))}function Yp(t){return _(this,null,function*(){let e=ne(t),n=Ni(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:qw;for(;J3(e);)try{let i=yield H3(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Z3(e,i)}catch(i){yield Ap(e,i)}Ik(e)&&wk(e)})}function J3(t){return Vo(t)&&t.Pa.length<10}function Z3(t,e){t.Pa.push(e);let n=Ni(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Ik(t){return Vo(t)&&!Ni(t).M_()&&t.Pa.length>0}function wk(t){Ni(t).start()}function X3(t){return _(this,null,function*(){Ni(t).na()})}function e6(t){return _(this,null,function*(){let e=Ni(t);for(let n of t.Pa)e.X_(n.mutations)})}function t6(t,e,n){return _(this,null,function*(){let r=t.Pa.shift(),i=kI.from(r,e,n);yield Ek(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Yp(t)})}function n6(t,e){return _(this,null,function*(){e&&Ni(t).Z_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return y3(s)&&s!==k.ABORTED}(i.code)){let o=r.Pa.shift();Ni(r).N_(),yield Ek(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Yp(r)}})}(t,e)),Ik(t)&&wk(t)})}function oP(t,e){return _(this,null,function*(){let n=ne(t);n.asyncQueue.verifyOperationInProgress(),j(Lo,"RemoteStore received new credentials");let r=Vo(n);n.Ia.add(3),yield el(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield Qp(n)})}function r6(t,e){return _(this,null,function*(){let n=ne(t);e?(n.Ia.delete(2),yield Qp(n)):e||(n.Ia.add(2),yield el(n),n.Aa.set("Unknown"))})}function Ma(t){return t.Va||(t.Va=function(n,r,i){let o=ne(n);return o.ia(),new vw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:W3.bind(null,t),e_:K3.bind(null,t),n_:Q3.bind(null,t),J_:Y3.bind(null,t)}),t.da.push(e=>_(null,null,function*(){e?(t.Va.N_(),iT(t)?rT(t):t.Aa.set("Unknown")):(yield t.Va.stop(),_k(t))}))),t.Va}function Ni(t){return t.ma||(t.ma=function(n,r,i){let o=ne(n);return o.ia(),new _w(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:X3.bind(null,t),n_:n6.bind(null,t),ea:e6.bind(null,t),ta:t6.bind(null,t)}),t.da.push(e=>_(null,null,function*(){e?(t.ma.N_(),yield Yp(t)):(yield t.ma.stop(),t.Pa.length>0&&(j(Lo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var Dw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function oT(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),Na(t))return new B(k.UNAVAILABLE,`${e}: ${t}`);throw t}var Rp=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Lu(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Np=class{constructor(){this.fa=new je(W.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Q(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},ba=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Rp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var bw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Cw=class{constructor(){this.queries=sP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=ne(n),o=i.queries;i.queries=sP(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new B(k.ABORTED,"Firestore shutting down"))}};function sP(){return new xr(t=>KP(t),Gp)}function Tk(t,e){return _(this,null,function*(){let n=ne(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new bw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=oT(s,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&sT(n)})}function Dk(t,e){return _(this,null,function*(){let n=ne(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function i6(t,e){let n=ne(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&sT(n)}function o6(t,e,n){let r=ne(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function sT(t){t.Da.forEach(e=>{e.next()})}var Sw,aP;(aP=Sw||(Sw={})).Fa="default",aP.Cache="cache";var Mp=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Sw.Cache}};var Pp=class{constructor(e){this.key=e}},kp=class{constructor(e){this.key=e}},Aw=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=de(),this.mutatedKeys=de(),this.Xa=QP(e),this.eu=new Rp(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Np,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Wp(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;g&&y?g.data.isEqual(y.data)?w!==N&&(r.track({type:3,doc:y}),S=!0):this.iu(g,y)||(r.track({type:2,doc:y}),S=!0,(c&&this.Xa(y,c)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),S=!0):g&&!y&&(r.track({type:1,doc:g}),S=!0,(c||l)&&(a=!0)),S&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,w){let N=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{At:S})}};return N(y)-N(w)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,l=c!==this.Ya;return this.Ya=c,s.length!==0||l?{snapshot:new ba(this.query,e.eu,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Np,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=de(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new kp(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Pp(r))}),n}uu(e){this.Ha=e.qs,this.Za=de();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ba.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},aT="SyncEngine",Rw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Nw=class{constructor(e){this.key=e,this.lu=!1}},Mw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new xr(a=>KP(a),Gp),this.Tu=new Map,this.Iu=new Set,this.du=new je(W.comparator),this.Eu=new Map,this.Au=new Ju,this.Ru={},this.Vu=new Map,this.mu=Yu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function s6(t,e,n=!0){return _(this,null,function*(){let r=Nk(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield bk(r,e,n,!0),i})}function a6(t,e){return _(this,null,function*(){let n=Nk(t);yield bk(n,e,!0,!1)})}function bk(t,e,n,r){return _(this,null,function*(){let i=yield z3(t.localStore,Qn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield c6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&yk(t.remoteStore,i),a})}function c6(t,e,n,r,i){return _(this,null,function*(){t.gu=(p,g,y)=>function(N,S,M,L){return _(this,null,function*(){let H=S.view.nu(M);H.Ds&&(H=yield nP(N.localStore,S.query,!1).then(({documents:D})=>S.view.nu(D,H)));let z=L&&L.targetChanges.get(S.targetId),Me=L&&L.targetMismatches.get(S.targetId)!=null,pe=S.view.applyChanges(H,N.isPrimaryClient,z,Me);return uP(N,S.targetId,pe._u),pe.snapshot})}(t,p,g,y);let o=yield nP(t.localStore,e,!0),s=new Aw(e,o.qs),a=s.nu(o.documents),c=Ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);uP(t,n,l._u);let h=new Rw(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function u6(t,e,n){return _(this,null,function*(){let r=ne(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Gp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield dw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&tT(r.remoteStore,i.targetId),Pw(r,i.targetId)}).catch(Ra))):(Pw(r,i.targetId),yield dw(r.localStore,i.targetId,!0))})}function l6(t,e){return _(this,null,function*(){let n=ne(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tT(n.remoteStore,r.targetId))})}function d6(t,e,n){return _(this,null,function*(){let r=v6(t);try{let i=yield function(s,a){let c=ne(s),l=Qe.now(),h=a.reduce((y,w)=>y.add(w.key),de()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Or(),N=de();return c.Os.getEntries(y,h).next(S=>{w=S,w.forEach((M,L)=>{L.isValidDocument()||(N=N.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,w)).next(S=>{p=S;let M=[];for(let L of a){let H=m3(L,p.get(L.key).overlayedDocument);H!=null&&M.push(new er(L.key,H,$P(H.value.mapValue),Yn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,M,a)}).next(S=>{g=S;let M=S.applyToLocalDocumentSet(p,N);return c.documentOverlayCache.saveOverlays(y,S.batchId,M)})}).then(()=>({batchId:g.batchId,changes:JP(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Ru[s.currentUser.toKey()];l||(l=new je(ce)),l=l.insert(a,c),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),yield tl(r,i.changes),yield Yp(r.remoteStore)}catch(i){let o=oT(i,"Failed to persist write");n.reject(o)}})}function Ck(t,e){return _(this,null,function*(){let n=ne(t);try{let r=yield B3(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?_e(s.lu,14607):i.removedDocuments.size>0&&(_e(s.lu,42227),s.lu=!1))}),yield tl(n,r,e)}catch(r){yield Ra(r)}})}function cP(t,e,n){let r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ne(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&sT(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function h6(t,e,n){return _(this,null,function*(){let r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new je(W.comparator);s=s.insert(o,Cn.newNoDocument(o,ie.min()));let a=de().add(o),c=new mp(ie.min(),new Map,new je(ce),s,a);yield Ck(r,c),r.du=r.du.remove(o),r.Eu.delete(e),cT(r)}else yield dw(r.localStore,e,!1).then(()=>Pw(r,e,n)).catch(Ra)})}function f6(t,e){return _(this,null,function*(){let n=ne(t),r=e.batch.batchId;try{let i=yield U3(n.localStore,e);Ak(n,r,null),Sk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield tl(n,i)}catch(i){yield Ra(i)}})}function p6(t,e,n){return _(this,null,function*(){let r=ne(t);try{let i=yield function(s,a){let c=ne(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(_e(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);Ak(r,e,n),Sk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield tl(r,i)}catch(i){yield Ra(i)}})}function Sk(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function Ak(t,e,n){let r=ne(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Pw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||Rk(t,r)})}function Rk(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(tT(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),cT(t))}function uP(t,e,n){for(let r of n)r instanceof Pp?(t.Au.addReference(r.key,e),g6(t,r)):r instanceof kp?(j(aT,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||Rk(t,r.key)):Q(19791,{yu:r})}function g6(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(j(aT,"New document in limbo: "+n),t.Iu.add(r),cT(t))}function cT(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new W(Ne.fromString(e)),r=t.mu.next();t.Eu.set(r,new Nw(n)),t.du=t.du.insert(n,r),yk(t.remoteStore,new Qu(Qn(qp(n.path)),r,"TargetPurposeLimboResolution",zw.ue))}}function tl(t,e,n){return _(this,null,function*(){let r=ne(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=aw.Es(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,l){return _(this,null,function*(){let h=ne(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>x.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Na(p))throw p;j(eT,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),w=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(w);h.Fs=h.Fs.insert(g,N)}}})}(r.localStore,o))})}function m6(t,e){return _(this,null,function*(){let n=ne(t);if(!n.currentUser.isEqual(e)){j(aT,"User change. New user:",e.toKey());let r=yield gk(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new B(k.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield tl(n,r.Bs)}})}function y6(t,e){let n=ne(t),r=n.Eu.get(e);if(r&&r.lu)return de().add(r.key);{let i=de(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function Nk(t){let e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ck.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h6.bind(null,e),e.hu.J_=i6.bind(null,e.eventManager),e.hu.pu=o6.bind(null,e.eventManager),e}function v6(t){let e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p6.bind(null,e),e}var Mk=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Kp(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return j3(this.persistence,new uw,n.initialUser,this.serializer)}Du(n){return new wp(sw.Vi,this.serializer)}bu(n){return new hw}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),kw=class extends Mk{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){_e(this.persistence.referenceDelegate instanceof Tp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new WI(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new wp(r=>Tp.Vi(r,n),this.serializer)}};var _6=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=m6.bind(null,this.syncEngine),yield r6(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Cw}()}createDatastore(n){let r=Kp(n.databaseInfo.databaseId),i=function(s){return new yw(s)}(n.databaseInfo);return function(s,a,c,l){return new Iw(s,a,c,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,c){return new Tw(i,o,s,a,c)}(this.localStore,this.datastore,n.asyncQueue,r=>cP(this.syncEngine,r,0),function(){return bp.C()?new bp:new fw}())}createSyncEngine(n,r){return function(o,s,a,c,l,h,p){let g=new Mw(o,s,a,c,l,h);return p&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=ne(o);j(Lo,"RemoteStore shutting down."),s.Ia.add(5),yield el(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var xp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Mi="FirestoreClient",xw=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=$u.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){j(Mi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j(Mi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=oT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function sI(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j(Mi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield gk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Ai("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{j("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ai("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function lP(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield E6(t);j(Mi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>oP(e.remoteStore,i)),t._onlineComponents=e})}function E6(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j(Mi,"Using user provided OfflineComponentProvider");try{yield sI(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ai("Error using user provided cache. Falling back to memory cache: "+n),yield sI(t,new Mk)}}else j(Mi,"Using default OfflineComponentProvider"),yield sI(t,new kw(void 0));return t._offlineComponents})}function Pk(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j(Mi,"Using user provided OnlineComponentProvider"),yield lP(t,t._uninitializedComponentsProvider._online)):(j(Mi,"Using default OnlineComponentProvider"),yield lP(t,new _6))),t._onlineComponents})}function I6(t){return Pk(t).then(e=>e.syncEngine)}function Ow(t){return _(this,null,function*(){let e=yield Pk(t),n=e.eventManager;return n.onListen=s6.bind(null,e.syncEngine),n.onUnlisten=u6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=a6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l6.bind(null,e.syncEngine),n})}function w6(t,e,n={}){let r=new Wn;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,c,l){let h=new xp({next:g=>{h.Ou(),s.enqueueAndForget(()=>Dk(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?l.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Mp(qp(a.path),h,{includeMetadataChanges:!0,ka:!0});return Tk(o,p)}(yield Ow(t),t.asyncQueue,e,n,r)})),r.promise}function kk(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var dP=new Map;var xk="firestore.googleapis.com",hP=!0,Op=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xk,this.ssl=hP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F3)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ca=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Op({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Op(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aI;switch(r.type){case"firstParty":return new dI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=dP.get(n);r&&(j("ComponentProvider","Removing Datastore"),dP.delete(n),r.terminate())}(this),Promise.resolve()}};function Ok(t,e,n,r={}){var i;t=sn(t,Ca);let o=fi(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o&&(Tf(`https://${c}`),Df("Firestore",!0)),s.host!==xk&&s.host!==c&&Ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Hn(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ot.MOCK_USER;else{h=BR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ot(g)}t._authCredentials=new cI(new cp(h,p))}}var Fp=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},at=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xu(n,t._jsonSchema))return new t(e,r||null,new W(Ne.fromString(n.referencePath)))}};at._jsonSchemaVersion="firestore/documentReference/1.0",at._jsonSchema={type:Ke("string",at._jsonSchemaVersion),referencePath:Ke("string")};var Di=class t extends Fp{constructor(e,n,r){super(e,n,qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function T6(t,e,...n){if(t=Be(t),vP("collection","path",e),t instanceof Ca){let r=Ne.fromString(e,...n);return MM(r),new Di(t,null,r)}{if(!(t instanceof at||t instanceof Di))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return MM(r),new Di(t.firestore,null,r)}}function Pa(t,e,...n){if(t=Be(t),arguments.length===1&&(e=$u.newId()),vP("doc","path",e),t instanceof Ca){let r=Ne.fromString(e,...n);return NM(r),new at(t,null,new W(r))}{if(!(t instanceof at||t instanceof Di))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return NM(r),new at(t.firestore,t instanceof Di?t.converter:null,new W(r))}}var fP="AsyncQueue",Lp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Cp(this,"async_queue_retry"),this.oc=()=>{let r=oI();r&&j(fP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=oI();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=oI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Wn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Na(e))throw e;j(fP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Mr("INTERNAL UNHANDLED ERROR: ",pP(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=Dw.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Q(47125,{hc:pP(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function pP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function gP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var tr=class extends Ca{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Lp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lp(e),this._firestoreClient=void 0,yield e}})}};function Fk(t,e){let n=typeof t=="object"?t:wo(),r=typeof t=="string"?t:e||fp,i=Zs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=UR("firestore");o&&Ok(i,...o)}return i}function uT(t){if(t._terminated)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||D6(t),t._firestoreClient}function D6(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,h){return new mI(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new xw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}var bi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Tt.fromBase64String(e))}catch(n){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};bi._jsonSchemaVersion="firestore/bytes/1.0",bi._jsonSchema={type:Ke("string",bi._jsonSchemaVersion),bytes:Ke("string")};var Sa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Zu=class{constructor(e){this._methodName=e}};var Ci=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Xu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ke("string",Ci._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};var Si=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new B(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Ke("string",Si._jsonSchemaVersion),vectorValues:Ke("object")};var b6=/^__.*__$/,Fw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new er(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fo(e,this.data,n,this.fieldTransforms)}},Vp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new er(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Lk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ec:t})}}var Lw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Up(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Lk(this.Ec)&&b6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Vw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kp(e)}Dc(e,n,r,i=!1){return new Lw({Ec:e,methodName:n,bc:r,path:Kt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function lT(t){let e=t._freezeSettings(),n=Kp(t._databaseId);return new Vw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vk(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);dT("Data must be an object, but it was:",s,r);let a=jk(r,s),c,l;if(o.merge)c=new on(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=jw(e,p,n);if(!s.contains(g))throw new B(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Bk(h,g)||h.push(g)}c=new on(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new Fw(new Wt(a),c,l)}var jp=class t extends Zu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function C6(t,e,n,r){let i=t.Dc(1,e,n);dT("Data must be an object, but it was:",i,r);let o=[],s=Wt.empty();Pi(r,(c,l)=>{let h=hT(e,c,n);l=Be(l);let p=i.gc(h);if(l instanceof jp)o.push(h);else{let g=Jp(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new on(o);return new Vp(s,a,i.fieldTransforms)}function S6(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[jw(e,r,n)],c=[i];if(o.length%2!=0)throw new B(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(jw(e,o[g])),c.push(o[g+1]);let l=[],h=Wt.empty();for(let g=a.length-1;g>=0;--g)if(!Bk(l,a[g])){let y=a[g],w=c[g];w=Be(w);let N=s.gc(y);if(w instanceof jp)l.push(y);else{let S=Jp(w,N);S!=null&&(l.push(y),h.set(y,S))}}let p=new on(l);return new Vp(h,p,s.fieldTransforms)}function Jp(t,e){if(Uk(t=Be(t)))return dT("Unsupported field value:",e,t),jk(t,e);if(t instanceof Zu)return function(r,i){if(!Lk(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Jp(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Qe.fromDate(r);return{timestampValue:Ep(i.serializer,o)}}if(r instanceof Qe){let o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ep(i.serializer,o)}}if(r instanceof Ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bi)return{bytesValue:ak(i.serializer,r._byteString)};if(r instanceof at){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Xw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Si)return function(s,a){return{mapValue:{fields:{[Ww]:{stringValue:Kw},[ga]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Zw(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Hw(r)}`)}(t,e)}function jk(t,e){let n={};return xP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pi(t,(r,i)=>{let o=Jp(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Uk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Ci||t instanceof bi||t instanceof at||t instanceof Zu||t instanceof Si)}function dT(t,e,n){if(!Uk(n)||!_P(n)){let r=Hw(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function jw(t,e,n){if((e=Be(e))instanceof Sa)return e._internalPath;if(typeof e=="string")return hT(t,e);throw Up("Field path arguments must be of type string or ",t,!1,void 0,n)}var A6=new RegExp("[~\\*/\\[\\]]");function hT(t,e,n){if(e.search(A6)>=0)throw Up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sa(...e.split("."))._internalPath}catch{throw Up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Up(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new B(k.INVALID_ARGUMENT,a+t+c)}function Bk(t,e){return t.some(n=>n.isEqual(e))}var Bp=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Uw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field($k("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Uw=class extends Bp{data(){return super.data()}};function $k(t,e){return typeof e=="string"?hT(t,e):e instanceof Sa?e._internalPath:e._delegate._internalPath}function R6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Bw=class{convertValue(e,n="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Pi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ga].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new Si(o)}convertGeoPoint(e){return new Ci(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=zp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qu(e));default:return null}}convertTimestamp(e){let n=Pr(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);_e(fk(r),9688,{name:e});let i=new pp(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||Mr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Hk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var No=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Mo=class t extends Bp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ha(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field($k("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mo._jsonSchema={type:Ke("string",Mo._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var ha=class extends Mo{data(e={}){return super.data(e)}},fa=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new No(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ha(this._firestore,this._userDataWriter,r.key,r,new No(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ha(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ha(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:N6(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$u.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function N6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}function fT(t){t=sn(t,at);let e=sn(t.firestore,tr);return w6(uT(e),t._key).then(n=>zk(e,t,n))}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Ke("string",fa._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var $p=class extends Bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new bi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}};function pT(t,e,n){t=sn(t,at);let r=sn(t.firestore,tr),i=Hk(t.converter,e,n);return Zp(r,[Vk(lT(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Yn.none())])}function gT(t,e,n,...r){t=sn(t,at);let i=sn(t.firestore,tr),o=lT(i),s;return s=typeof(e=Be(e))=="string"||e instanceof Sa?S6(o,"updateDoc",t._key,e,n,r):C6(o,"updateDoc",t._key,e),Zp(i,[s.toMutation(t._key,Yn.exists(!0))])}function M6(t){return Zp(sn(t.firestore,tr),[new Wu(t._key,Yn.none())])}function P6(t,e){let n=sn(t.firestore,tr),r=Pa(t),i=Hk(t.converter,e);return Zp(n,[Vk(lT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function mT(t,...e){var n,r,i;t=Be(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||gP(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(gP(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(t instanceof at)l=sn(t.firestore,tr),h=qp(t._key.path),c={next:p=>{e[s]&&e[s](zk(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=sn(t,Fp);l=sn(p.firestore,tr),h=p._query;let g=new $p(l);c={next:y=>{e[s]&&e[s](new fa(l,g,p,y))},error:e[s+1],complete:e[s+2]},R6(t._query)}return function(g,y,w,N){let S=new xp(N),M=new Mp(y,S,w);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Tk(yield Ow(g),M)})),()=>{S.Ou(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Dk(yield Ow(g),M)}))}}(uT(l),h,a,c)}function Zp(t,e){return function(r,i){let o=new Wn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return d6(yield I6(r),i,o)})),o.promise}(uT(t),e)}function zk(t,e,n){let r=n.docs.get(e._key),i=new $p(t);return new Mo(t,i,e._key,r,new No(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Aa=i})(gi),wn(new Pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new tr(new uI(r.getProvider("auth-internal")),new hI(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pp(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ve(CM,SM,e),Ve(CM,SM,"esm2017")})();var Xp=function(){return Xp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Xp.apply(this,arguments)};var O6={includeMetadataChanges:!1};function qk(t,e){return e===void 0&&(e=O6),new Z(function(n){var r=mT(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Gk(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Xp(Xp({},r),(n={},n[e.idField]=t.id,n))}function Wk(t){return qk(t,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function Kk(t,e){return e===void 0&&(e={}),Wk(t).pipe(X(function(n){return n.map(function(r){return Gk(r,e)})}))}var jo=class{constructor(e){return e}},Qk="firestore",yT=class{constructor(){return ea(Qk)}};var vT=new U("angularfire2.firestore-instances");function F6(t,e){let n=Tu(Qk,t,e);return n&&new jo(n)}function L6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new jo(r)}}var V6={provide:yT,deps:[[new Nt,vT]]},j6={provide:jo,useFactory:F6,deps:[[new Nt,vT],Dr]};function uue(t,...e){return Ve("angularfire",mi.full,"fst"),Ft([j6,V6,{provide:vT,useFactory:L6(t),multi:!0,deps:[ge,Ze,yi,Do,[new Nt,Ou],[new Nt,ta],...e]}])}var lue=Tn(Kk,!0);var due=Tn(Fk,!0);var Yk=class t{auth=P(So);db=P(jo);user$;constructor(){this.user$=EM(this.auth)}get currentUser$(){return this.user$}isLoggedIn(){return this.currentUser$.pipe(X(e=>!!e))}signUp(e){return Ee(IM(this.auth,e.email,e.password)).pipe(dt(n=>{let r={uid:n.user.uid,email:e.email,name:e.name,age:e.age,imageUrl:e.imageUrl};return pT(Pa(this.db,"users",n.user.uid),r)}))}signIn(e,n){return Ee(wM(this.auth,e,n))}signInWithGoogle(){return Ee(Xf(this.auth,new BE))}logout(){return Ee(TM(this.auth))}getUserData(e){return Ee(fT(Pa(this.db,"users",e)))}updateProfileImage(e,n){return new Promise((r,i)=>{let o=new FileReader;o.onload=()=>_(this,null,function*(){try{let s=o.result,a=Pa(this.db,"users",n);yield gT(a,{imageUrl:s}),r(s)}catch(s){i(s)}}),o.onerror=s=>i(s),o.readAsDataURL(e)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};export{V as a,ye as b,Fx as c,ke as d,Ye as e,Ee as f,K as g,X as h,nO as i,lt as j,iO as k,Sn as l,WD as m,dt as n,O as o,fd as p,$ as q,Kr as r,U as s,q as t,P as u,Ab as v,Rb as w,ze as x,wc as y,co as z,ah as A,gn as B,_1 as C,uS as D,lS as E,z1 as F,q1 as G,lF as H,oo as I,uo as J,Ie as K,ai as L,wv as M,lo as N,Ln as O,bs as P,oA as Q,aA as R,_t as S,ge as T,ho as U,fV as V,gV as W,mV as X,yV as Y,vV as Z,_V as _,gA as $,Rv as aa,Nv as ba,Dh as ca,Mv as da,Pv as ea,mA as fa,wV as ga,vA as ha,bh as ia,EA as ja,SV as ka,AV as la,xv as ma,Ov as na,RV as oa,DA as pa,UV as qa,ZV as ra,NA as sa,Fv as ta,MA as ua,kA as va,tj as wa,xA as xa,nj as ya,rj as za,cj as Aa,uj as Ba,lj as Ca,hj as Da,pj as Ea,gj as Fa,yj as Ga,Ss as Ha,Ej as Ia,Rs as Ja,Ah as Ka,yr as La,g2 as Ma,m2 as Na,y2 as Oa,E2 as Pa,I2 as Qa,T2 as Ra,D2 as Sa,I0 as Ta,l_ as Ua,B2 as Va,li as Wa,U0 as Xa,pU as Ya,gU as Za,En as _a,Ir as $a,P_ as ab,Ks as bb,_f as cb,GB as db,QB as eb,uN as fb,ise as gb,bae as hb,Cae as ib,T6 as jb,Pa as kb,M6 as lb,P6 as mb,jo as nb,uue as ob,lue as pb,due as qb,Yk as rb};
