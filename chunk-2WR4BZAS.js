import{Ab as b,Cb as w,R as n,a as u,b as l,s as f,vb as a,w as g,wb as m,xb as y,yb as p,zb as h}from"./chunk-SHVYU6Q6.js";var k=class s{transform(e,t){if(!e||typeof e!="string")return"";let r=e.split(" ");return r.slice(0,t).join(" ")+(r.length>t?"...":"")}static \u0275fac=function(t){return new(t||s)};static \u0275pipe=n({name:"seeMore",type:s,pure:!0})};var D=class s{transform(e){let t=new Date(e),i=Math.floor((new Date().getTime()-t.getTime())/1e3),o={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(let d in o){let c=Math.floor(i/o[d]);if(c>=1)return`${c} ${this.getLabel(d,c)} ago`}return"just now"}getLabel(e,t){return t===1?{year:"year",month:"month",week:"week",day:"day",hour:"hour",minute:"minute"}[e]:{year:"years",month:"months",week:"weeks",day:"days",hour:"hours",minute:"minutes"}[e]}static \u0275fac=function(t){return new(t||s)};static \u0275pipe=n({name:"timeAgo",type:s,pure:!0})};var P=class s{db=g(b);addToHistory(e,t){let r=a(this.db,`users/${e}/history`),i=new Date().toISOString();return h(r,l(u({},t),{openedAt:i}))}getHistory(e){let t=a(this.db,`users/${e}/history`);return w(t,{idField:"docId"})}removeFromHistory(e,t){let r=m(this.db,`users/${e}/history/${t}`);return p(r)}clearHistory(e){let t=a(this.db,`users/${e}/history`);return y(t).then(r=>{let i=r.docs.map(o=>p(m(this.db,`users/${e}/history/${o.id}`)));return Promise.all(i)})}static \u0275fac=function(t){return new(t||s)};static \u0275prov=f({token:s,factory:s.\u0275fac,providedIn:"root"})};var R={production:!0,apiBaseUrl:"/api",firebase:{apiKey:"AIzaSyCcTXUVxwtZfxZ_-8nCOoeYTb3aSxBDRMg",authDomain:"media-app-80c75.firebaseapp.com",projectId:"media-app-80c75",storageBucket:"media-app-80c75.firebasestorage.app",messagingSenderId:"133933542668",appId:"1:133933542668:web:77ec37854254e7ba7d6d29"}};export{k as a,R as b,D as c,P as d};
