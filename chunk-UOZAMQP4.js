import{a as P,b as u,c as k,d as N,f as V,g as q,h as M,i as O,j as D,l as R}from"./chunk-YG4AKCQB.js";import{$ as m,Ca as w,H as a,K as x,M as h,Ma as I,Na as F,R as d,Ta as E,aa as n,ba as r,bb as U,ca as _,ga as y,ia as f,ka as c,ra as p,rb as T,ta as C,v as S,w as b}from"./chunk-U6OHNGF4.js";var A=t=>({"bg-disabled":t});function L(t,l){if(t&1&&(n(0,"div",28),p(1),r()),t&2){let i=c();a(),C(" ",i.signUpError," ")}}function j(t,l){t&1&&(n(0,"p",31),p(1,"Name is required"),r())}function B(t,l){t&1&&(n(0,"p",31),p(1," Name must be at least 4 letters "),r())}function Y(t,l){t&1&&(n(0,"p",31),p(1," The name must not exceed 15 letters. "),r())}function $(t,l){if(t&1&&(n(0,"div",29),d(1,j,2,0,"p",30)(2,B,2,0,"p",30)(3,Y,2,0,"p",30),r()),t&2){let i,e,o,s=c();a(),m("ngIf",(i=s.signupForm.get("name"))==null||i.errors==null?null:i.errors.required),a(),m("ngIf",(e=s.signupForm.get("name"))==null||e.errors==null?null:e.errors.minlength),a(),m("ngIf",(o=s.signupForm.get("name"))==null||o.errors==null?null:o.errors.maxlength)}}function W(t,l){t&1&&(n(0,"p",31),p(1,"Email is required"),r())}function z(t,l){t&1&&(n(0,"p",31),p(1,"Invalid email "),r())}function H(t,l){if(t&1&&(n(0,"div",29),d(1,W,2,0,"p",30)(2,z,2,0,"p",30),r()),t&2){let i,e,o=c();a(),m("ngIf",(i=o.signupForm.get("email"))==null||i.errors==null?null:i.errors.required),a(),m("ngIf",(e=o.signupForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function J(t,l){t&1&&(n(0,"p",31),p(1,"Age is required"),r())}function K(t,l){t&1&&(n(0,"p",31),p(1,"Age not less than 12 years"),r())}function Q(t,l){if(t&1&&(n(0,"div",29),d(1,J,2,0,"p",30)(2,K,2,0,"p",30),r()),t&2){let i,e,o=c();a(),m("ngIf",(i=o.signupForm.get("age"))==null||i.errors==null?null:i.errors.required),a(),m("ngIf",(e=o.signupForm.get("age"))==null||e.errors==null?null:e.errors.min)}}function X(t,l){if(t&1){let i=y();n(0,"i",32),f("click",function(){S(i);let o=c();return b(o.togglePasswordVisibility())}),r()}}function Z(t,l){if(t&1){let i=y();n(0,"i",33),f("click",function(){S(i);let o=c();return b(o.togglePasswordVisibility())}),r()}}function ee(t,l){t&1&&(n(0,"p",31),p(1,"Password is required"),r())}function te(t,l){t&1&&(n(0,"p",31),p(1,"Password must be minimum letters is 6"),r())}function ne(t,l){if(t&1&&(n(0,"div",29),d(1,ee,2,0,"p",30)(2,te,2,0,"p",30),r()),t&2){let i,e,o=c();a(),m("ngIf",(i=o.signupForm.get("password"))==null||i.errors==null?null:i.errors.required),a(),m("ngIf",(e=o.signupForm.get("password"))==null||e.errors==null?null:e.errors.minlength)}}var G=class t{constructor(l,i,e){this.fb=l;this.auth=i;this._router=e}showPassword=!1;signupForm;signUpError="";ngOnInit(){this.signupForm=this.fb.group({name:["",[u.required,u.minLength(4),u.maxLength(15)]],age:["",[u.required,u.min(12)]],profileImage:["",u.required],email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]]})}onSubmit(){if(this.signupForm.valid){let{email:l,password:i,name:e,age:o,profileImage:s}=this.signupForm.value;this.auth.signUp({email:l,password:i,name:e,age:o,imageUrl:s}).subscribe({next:()=>{this._router.navigate(["/profile"])},error:g=>{g.code==="auth/email-already-in-use"?this.signUpError="This email is already in use. Please try logging in.":this.signUpError="Sign up failed. Please try again later."}})}}onImageChange(l){let i=l.target.files[0],e=new FileReader;e.onload=()=>{let o=e.result;if(o.startsWith("data:image"))this.signupForm.patchValue({profileImage:o});else{let g=`data:${i.type};base64,${o.split(",")[1]}`;this.signupForm.patchValue({profileImage:g})}},e.readAsDataURL(i)}togglePasswordVisibility(){this.showPassword=!this.showPassword}goToSignIn(){this._router.navigate(["/signIn"])}static \u0275fac=function(i){return new(i||t)(x(D),x(T),x(U))};static \u0275cmp=h({type:t,selectors:[["app-sign-up-component"]],decls:43,vars:13,consts:[[1,"container-fluid","d-flex","justify-content-center","py-3"],[1,"sign","text-center","my-5","p-3","rounded-4"],[1,"py-3","text-center"],["routerLink","home-page",1,"logo","d-inline"],[1,"fa-solid","fa-clapperboard"],[1,"px-1"],["class","alert alert-danger  m-auto my-3 p-0",4,"ngIf"],[1,"w-100","m-auto","text-center","my-4",3,"ngSubmit","formGroup"],[1,"input-container","w-100","text-center","position-relative"],["id","name","type","text","autocomplete","name","formControlName","name",1,"w-100","p-3","rounded-3"],["for","name",1,"input-label","position-absolute","px-2","text-black"],["class","alert alert-danger p-0 text-start my-2",4,"ngIf"],["id","email","type","email","autocomplete","email","formControlName","email",1,"w-100","p-3","rounded-3"],["for","email",1,"input-label","position-absolute","px-2","text-black"],[1,"input-container","pt-3","w-100","text-center","position-relative"],["id","age","type","number","autocomplete","age","formControlName","age",1,"w-100","p-3","rounded-3"],["for","age",1,"input-label","position-absolute","px-2","text-black"],["id","img","type","file",1,"w-100","p-3","rounded-3",3,"change"],["for","img",1,"input-label","position-absolute","px-2","text-black"],[1,"input-container","pt-3","rounded-3","w-100","text-center","position-relative"],["id","Password","formControlName","password","autocomplete","new-password",1,"w-100","p-3","rounded-3",3,"type"],["for","Password",1,"input-label","position-absolute","text-black","px-2"],["class","fas fa-eye position-absolute",3,"click",4,"ngIf"],["class","fas fa-eye-slash position-absolute",3,"click",4,"ngIf"],["class","alert alert-danger p-0 text-start my-2 ",4,"ngIf"],["type","submit",1,"w-75","py-2","rounded-2","fw-bolder","button-mix-color","text-white",3,"disabled","ngClass"],[1,"pt-2","mb-0"],[1,"text-decoration-underline","p-2",3,"click"],[1,"alert","alert-danger","m-auto","my-3","p-0"],[1,"alert","alert-danger","p-0","text-start","my-2"],["class","ms-4",4,"ngIf"],[1,"ms-4"],[1,"fas","fa-eye","position-absolute",3,"click"],[1,"fas","fa-eye-slash","position-absolute",3,"click"]],template:function(i,e){if(i&1&&(n(0,"div",0)(1,"div",1)(2,"h4",2),p(3," Sign up to "),n(4,"div",3),_(5,"i",4),n(6,"span",5),p(7,"Media"),r()()(),d(8,L,2,1,"div",6),n(9,"form",7),f("ngSubmit",function(){return e.onSubmit()}),n(10,"div",8),_(11,"input",9),n(12,"label",10),p(13,"Name"),r(),d(14,$,4,3,"div",11),r(),n(15,"div",8),_(16,"input",12),n(17,"label",13),p(18,"Email"),r(),d(19,H,3,2,"div",11),r(),n(20,"div",14),_(21,"input",15),n(22,"label",16),p(23,"age"),r(),d(24,Q,3,2,"div",11),r(),n(25,"div",14)(26,"input",17),f("change",function(s){return e.onImageChange(s)}),r(),n(27,"label",18),p(28," Image profile"),r()(),n(29,"div",19),_(30,"input",20),n(31,"label",21),p(32,"Password"),r(),d(33,X,1,0,"i",22)(34,Z,1,0,"i",23)(35,ne,3,2,"div",24),r(),n(36,"div")(37,"button",25),p(38,"Register"),r(),n(39,"p",26),p(40,"Do you have an account? "),r(),n(41,"a",27),f("click",function(){return e.goToSignIn()}),p(42," Sign in"),r()()()()()),i&2){let o,s,g,v;a(8),m("ngIf",e.signUpError!=""),a(),m("formGroup",e.signupForm),a(5),m("ngIf",((o=e.signupForm.get("name"))==null?null:o.invalid)&&((o=e.signupForm.get("name"))==null?null:o.touched)),a(5),m("ngIf",((s=e.signupForm.get("email"))==null?null:s.invalid)&&((s=e.signupForm.get("email"))==null?null:s.touched)),a(5),m("ngIf",((g=e.signupForm.get("age"))==null?null:g.invalid)&&((g=e.signupForm.get("age"))==null?null:g.touched)),a(6),m("type",e.showPassword?"text":"password"),a(3),m("ngIf",!e.showPassword),a(),m("ngIf",e.showPassword),a(),m("ngIf",((v=e.signupForm.get("password"))==null?null:v.invalid)&&((v=e.signupForm.get("password"))==null?null:v.touched)),a(2),m("disabled",e.signupForm.invalid)("ngClass",w(11,A,e.signupForm.invalid))}},dependencies:[E,I,F,R,V,P,q,k,N,M,O],styles:[".sign[_ngcontent-%COMP%]{width:50%;background-color:var(--bg-section)}input[_ngcontent-%COMP%]{background-color:var(--black-color);color:var(--white-volor)}.input-container[_ngcontent-%COMP%]{margin:5% 0}label[_ngcontent-%COMP%]{left:25px;transform:translateY(-50%)}.fa-eye[_ngcontent-%COMP%], .fa-eye-slash[_ngcontent-%COMP%]{transform:translateY(100%);right:15px}@media screen and (max-width:1500px){.sign[_ngcontent-%COMP%]{width:70%}}@media screen and (max-width:992px){.sign[_ngcontent-%COMP%]{width:100%}}"]})};export{G as SignUpComponent};
